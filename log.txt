2024-03-18 23:12:15.262 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-18 23:12:15.390 +05:00 [DBG] Hosting starting
2024-03-18 23:12:15.525 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-18 23:12:15.550 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-18 23:12:15.757 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-18 23:12:15.818 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-18 23:12:15.873 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-18 23:12:15.912 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-18 23:12:15.959 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-18 23:12:15.979 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-18 23:12:15.980 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-18 23:12:15.980 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-18 23:12:15.980 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-18 23:12:15.987 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-18 23:12:15.989 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:12:15.992 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-18 23:12:15.993 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:12:15.997 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-18 23:12:15.998 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-18 23:12:16.000 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-18 23:12:16.000 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-18 23:12:17.916 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-18 23:12:17.916 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-18 23:12:17.916 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-18 23:12:17.916 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-18 23:12:17.916 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-18 23:12:17.919 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-18 23:12:17.919 +05:00 [INF] Hosting environment: Development
2024-03-18 23:12:17.919 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-18 23:12:17.919 +05:00 [DBG] Hosting started
2024-03-18 23:12:18.100 +05:00 [DBG] Connection id "0HN27ERP8VS6L" accepted.
2024-03-18 23:12:18.101 +05:00 [DBG] Connection id "0HN27ERP8VS6L" started.
2024-03-18 23:12:18.131 +05:00 [DBG] Connection id "0HN27ERP8VS6L" received FIN.
2024-03-18 23:12:18.423 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-18 23:12:18.515 +05:00 [DBG] Connection id "0HN27ERP8VS6L" stopped.
2024-03-18 23:12:18.519 +05:00 [DBG] Connection id "0HN27ERP8VS6L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-18 23:12:25.120 +05:00 [DBG] Connection id "0HN27ERP8VS6M" accepted.
2024-03-18 23:12:25.121 +05:00 [DBG] Connection id "0HN27ERP8VS6M" started.
2024-03-18 23:12:25.558 +05:00 [DBG] Connection 0HN27ERP8VS6M established using the following protocol: "Tls12"
2024-03-18 23:12:31.859 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger - -
2024-03-18 23:12:32.134 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-18 23:12:32.368 +05:00 [DBG] No candidates found for the request path '/swagger'
2024-03-18 23:12:32.369 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:12:32.643 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger - - - 301 0 - 826.2547ms
2024-03-18 23:12:32.662 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-18 23:12:32.665 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-18 23:12:32.665 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:12:33.003 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-18 23:12:34.766 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-18 23:12:34.768 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 2105.4654ms
2024-03-18 23:12:34.935 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/swagger-ui.css - -
2024-03-18 23:12:34.936 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-03-18 23:12:34.936 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:12:35.684 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/swagger-ui-bundle.js - -
2024-03-18 23:12:35.684 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-03-18 23:12:35.684 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:12:35.687 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/swagger-ui-standalone-preset.js - -
2024-03-18 23:12:35.687 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-03-18 23:12:35.687 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:12:35.687 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-18 23:12:35.690 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-18 23:12:35.695 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.0179ms
2024-03-18 23:12:36.960 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-03-18 23:12:36.960 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/swagger-ui.css - - - 200 143943 text/css 2025.4391ms
2024-03-18 23:12:37.504 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-03-18 23:12:37.504 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/swagger-ui-standalone-preset.js - - - 200 339486 text/javascript 1819.7226ms
2024-03-18 23:12:37.781 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 2094.1993ms
2024-03-18 23:12:38.498 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-03-18 23:12:38.498 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/swagger-ui-bundle.js - - - 200 1096145 text/javascript 2813.9303ms
2024-03-18 23:12:39.109 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/favicon-16x16.png - -
2024-03-18 23:12:39.109 +05:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2024-03-18 23:12:39.109 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:12:39.109 +05:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-03-18 23:12:39.109 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/favicon-16x16.png - - - 200 665 image/png 0.5226ms
2024-03-18 23:12:59.393 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-18 23:12:59.393 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-18 23:12:59.393 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:12:59.878 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 485.0460ms
2024-03-18 23:13:25.706 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-18 23:13:25.709 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-18 23:13:25.715 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-18 23:13:25.715 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:13:25.717 +05:00 [INF] No CORS policy found for the specified request.
2024-03-18 23:13:25.717 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-18 23:13:26.690 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-18 23:13:26.691 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:13:27.188 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-18 23:13:27.206 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-18 23:13:27.206 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-18 23:13:27.206 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-18 23:13:27.206 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-18 23:13:27.207 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-18 23:13:27.214 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:13:28.280 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1069.1713ms
2024-03-18 23:13:28.304 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:13:28.571 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'connectionString')
   at MySql.EntityFrameworkCore.Utils.Check.NotEmpty(String value, String parameterName)
   at Microsoft.EntityFrameworkCore.MySQLDbContextOptionsExtensions.UseMySQL(DbContextOptionsBuilder optionsBuilder, String connectionString, Action`1 mySqlOptionsAction)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__0(DbContextOptionsBuilder o) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Program.cs:line 24
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass1_0`2.<AddDbContext>b__0(IServiceProvider _, DbContextOptionsBuilder b)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.CreateDbContextOptions[TContext](IServiceProvider applicationServiceProvider, Action`2 optionsAction)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass17_0`1.<AddCoreServices>b__0(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-18 23:13:28.606 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 500 - text/plain;+charset=utf-8 2900.3085ms
2024-03-18 23:13:28.632 +05:00 [DBG] Connection id "0HN27ERP8VS6M", Request id "0HN27ERP8VS6M:00000021": started reading request body.
2024-03-18 23:13:28.632 +05:00 [DBG] Connection id "0HN27ERP8VS6M", Request id "0HN27ERP8VS6M:00000021": done reading request body.
2024-03-18 23:13:57.912 +05:00 [DBG] Config reload token fired. Checking for changes...
2024-03-18 23:15:07.431 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-18 23:15:07.483 +05:00 [DBG] Hosting starting
2024-03-18 23:15:07.499 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-18 23:15:07.506 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-18 23:15:07.514 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-18 23:15:07.514 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-18 23:15:07.515 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-18 23:15:07.515 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-18 23:15:07.520 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-18 23:15:07.522 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-18 23:15:07.523 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-18 23:15:07.523 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-18 23:15:07.523 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-18 23:15:07.531 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-18 23:15:07.533 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:15:07.538 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-18 23:15:07.539 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:15:07.544 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-18 23:15:07.545 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-18 23:15:07.546 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-18 23:15:07.546 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-18 23:15:07.704 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-18 23:15:07.704 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-18 23:15:07.704 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-18 23:15:07.704 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-18 23:15:07.705 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-18 23:15:07.706 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-18 23:15:07.707 +05:00 [INF] Hosting environment: Development
2024-03-18 23:15:07.707 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-18 23:15:07.707 +05:00 [DBG] Hosting started
2024-03-18 23:15:07.760 +05:00 [DBG] Connection id "0HN27ETBR04H8" received FIN.
2024-03-18 23:15:07.762 +05:00 [DBG] Connection id "0HN27ETBR04H8" accepted.
2024-03-18 23:15:07.763 +05:00 [DBG] Connection id "0HN27ETBR04H8" started.
2024-03-18 23:15:07.779 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-18 23:15:07.795 +05:00 [DBG] Connection id "0HN27ETBR04H8" stopped.
2024-03-18 23:15:07.797 +05:00 [DBG] Connection id "0HN27ETBR04H8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-18 23:15:07.803 +05:00 [DBG] Connection id "0HN27ETBR04H9" accepted.
2024-03-18 23:15:07.804 +05:00 [DBG] Connection id "0HN27ETBR04H9" started.
2024-03-18 23:15:07.839 +05:00 [DBG] Connection 0HN27ETBR04H9 established using the following protocol: "Tls12"
2024-03-18 23:15:07.889 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-18 23:15:07.906 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-18 23:15:07.930 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-18 23:15:07.930 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:15:08.050 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-18 23:15:08.116 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-18 23:15:08.118 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 231.5208ms
2024-03-18 23:15:08.187 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-18 23:15:08.189 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-18 23:15:08.194 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.5478ms
2024-03-18 23:15:08.217 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.1208ms
2024-03-18 23:15:08.726 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-18 23:15:08.729 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-18 23:15:08.729 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:15:08.891 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 164.9666ms
2024-03-18 23:15:24.446 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-18 23:15:24.450 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-18 23:15:24.456 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-18 23:15:24.457 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:15:24.458 +05:00 [INF] No CORS policy found for the specified request.
2024-03-18 23:15:24.460 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-18 23:15:24.496 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-18 23:15:24.497 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:15:24.537 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-18 23:15:24.539 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-18 23:15:24.539 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-18 23:15:24.539 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-18 23:15:24.539 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-18 23:15:24.539 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-18 23:15:24.541 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:15:25.295 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-18 23:15:25.381 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:15:25.414 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:15:25.416 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-18 23:15:25.418 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-18 23:15:25.432 +05:00 [DBG] Connection id "0HN27ETBR04H9", Request id "0HN27ETBR04H9:00000017": started reading request body.
2024-03-18 23:15:25.433 +05:00 [DBG] Connection id "0HN27ETBR04H9", Request id "0HN27ETBR04H9:00000017": done reading request body.
2024-03-18 23:15:25.438 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-18 23:15:25.438 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:15:25.438 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:15:25.438 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:15:25.482 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:15:25.551 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1008.1046ms
2024-03-18 23:15:25.552 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:15:25.578 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.InvalidOperationException: The SMTP host was not specified.
   at System.Net.Mail.SmtpClient.CheckHostAndPort()
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   --- End of inner exception stack trace ---
   at System.Net.Mail.SmtpClient.SendAsync(MailMessage message, Object userToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message, CancellationToken cancellationToken)
   at System.Net.Mail.SmtpClient.SendMailAsync(MailMessage message)
   at BerryMusicV1.Containers.UnauthorizeService.RegistrationSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 47
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-18 23:15:25.585 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 500 - text/plain;+charset=utf-8 1138.5560ms
2024-03-18 23:18:15.727 +05:00 [DBG] Connection id "0HN27ETBR04H9" received FIN.
2024-03-18 23:18:15.748 +05:00 [DBG] Connection id "0HN27ETBR04H9" is closed. The last processed stream ID was 23.
2024-03-18 23:18:15.752 +05:00 [DBG] Connection id "0HN27ETBR04H9" sending FIN because: "The client closed the connection."
2024-03-18 23:18:15.753 +05:00 [DBG] The connection queue processing loop for 0HN27ETBR04H9 completed.
2024-03-18 23:18:15.755 +05:00 [DBG] Connection id "0HN27ETBR04H9" stopped.
2024-03-18 23:27:18.138 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-18 23:27:18.190 +05:00 [DBG] Hosting starting
2024-03-18 23:27:18.205 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-18 23:27:18.212 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-18 23:27:18.218 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-18 23:27:18.218 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-18 23:27:18.219 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-18 23:27:18.219 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-18 23:27:18.224 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-18 23:27:18.228 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-18 23:27:18.228 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-18 23:27:18.229 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-18 23:27:18.229 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-18 23:27:18.240 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-18 23:27:18.242 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:27:18.245 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-18 23:27:18.246 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:27:18.250 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-18 23:27:18.251 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-18 23:27:18.253 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-18 23:27:18.253 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-18 23:27:18.408 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-18 23:27:18.409 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-18 23:27:18.409 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-18 23:27:18.409 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-18 23:27:18.409 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-18 23:27:18.411 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-18 23:27:18.411 +05:00 [INF] Hosting environment: Development
2024-03-18 23:27:18.411 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-18 23:27:18.411 +05:00 [DBG] Hosting started
2024-03-18 23:27:18.438 +05:00 [DBG] Connection id "0HN27F45J9CKC" accepted.
2024-03-18 23:27:18.439 +05:00 [DBG] Connection id "0HN27F45J9CKC" started.
2024-03-18 23:27:18.448 +05:00 [DBG] Connection id "0HN27F45J9CKD" accepted.
2024-03-18 23:27:18.448 +05:00 [DBG] Connection id "0HN27F45J9CKD" started.
2024-03-18 23:27:18.482 +05:00 [DBG] Connection id "0HN27F45J9CKC" received FIN.
2024-03-18 23:27:18.482 +05:00 [DBG] Connection id "0HN27F45J9CKD" received FIN.
2024-03-18 23:27:18.487 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-18 23:27:18.487 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-18 23:27:18.506 +05:00 [DBG] Connection id "0HN27F45J9CKD" stopped.
2024-03-18 23:27:18.506 +05:00 [DBG] Connection id "0HN27F45J9CKC" stopped.
2024-03-18 23:27:18.509 +05:00 [DBG] Connection id "0HN27F45J9CKD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-18 23:27:18.509 +05:00 [DBG] Connection id "0HN27F45J9CKC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-18 23:27:18.525 +05:00 [DBG] Connection id "0HN27F45J9CKE" accepted.
2024-03-18 23:27:18.525 +05:00 [DBG] Connection id "0HN27F45J9CKE" started.
2024-03-18 23:27:18.557 +05:00 [DBG] Connection 0HN27F45J9CKE established using the following protocol: "Tls12"
2024-03-18 23:27:18.605 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-18 23:27:18.622 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-18 23:27:18.642 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-18 23:27:18.643 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:27:18.770 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-18 23:27:18.845 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-18 23:27:18.847 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 244.9525ms
2024-03-18 23:27:18.922 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-18 23:27:18.922 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-18 23:27:18.926 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.1351ms
2024-03-18 23:27:18.943 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.0097ms
2024-03-18 23:27:19.491 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-18 23:27:19.491 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-18 23:27:19.491 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:27:19.596 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 105.2261ms
2024-03-18 23:27:49.174 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-18 23:27:49.181 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-18 23:27:49.186 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-18 23:27:49.186 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:27:49.189 +05:00 [INF] No CORS policy found for the specified request.
2024-03-18 23:27:49.190 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-18 23:27:49.231 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-18 23:27:49.232 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:27:49.282 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-18 23:27:49.285 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-18 23:27:49.285 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-18 23:27:49.286 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-18 23:27:49.286 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-18 23:27:49.286 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-18 23:27:49.290 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:27:49.466 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-18 23:27:49.496 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:27:49.505 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:27:49.508 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-18 23:27:49.510 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-18 23:27:49.521 +05:00 [DBG] Connection id "0HN27F45J9CKE", Request id "0HN27F45J9CKE:00000017": started reading request body.
2024-03-18 23:27:49.521 +05:00 [DBG] Connection id "0HN27F45J9CKE", Request id "0HN27F45J9CKE:00000017": done reading request body.
2024-03-18 23:27:49.525 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-18 23:27:49.526 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:27:49.526 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:27:49.526 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:27:49.537 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:27:49.665 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 374.4698ms
2024-03-18 23:27:49.666 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:27:49.718 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (11001): Этот хост неизвестен.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at BerryMusicV1.Containers.UnauthorizeService.RegistrationSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 48
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-18 23:27:49.729 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 500 - text/plain;+charset=utf-8 554.7697ms
2024-03-18 23:30:39.730 +05:00 [DBG] Connection id "0HN27F45J9CKE" received FIN.
2024-03-18 23:30:39.736 +05:00 [DBG] The connection queue processing loop for 0HN27F45J9CKE completed.
2024-03-18 23:30:39.737 +05:00 [DBG] Connection id "0HN27F45J9CKE" is closed. The last processed stream ID was 23.
2024-03-18 23:30:39.737 +05:00 [DBG] Connection id "0HN27F45J9CKE" sending FIN because: "The client closed the connection."
2024-03-18 23:30:39.739 +05:00 [DBG] Connection id "0HN27F45J9CKE" stopped.
2024-03-18 23:36:32.522 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-18 23:36:32.570 +05:00 [DBG] Hosting starting
2024-03-18 23:36:32.593 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-18 23:36:32.621 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-18 23:36:32.634 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-18 23:36:32.635 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-18 23:36:32.635 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-18 23:36:32.653 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-18 23:36:32.660 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-18 23:36:32.668 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-18 23:36:32.668 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-18 23:36:32.668 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-18 23:36:32.668 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-18 23:36:32.712 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-18 23:36:32.745 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:36:32.748 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-18 23:36:32.750 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:36:32.754 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-18 23:36:32.756 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-18 23:36:32.757 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-18 23:36:32.758 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-18 23:36:32.929 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-18 23:36:32.929 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-18 23:36:32.929 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-18 23:36:32.929 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-18 23:36:32.929 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-18 23:36:32.932 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-18 23:36:32.932 +05:00 [INF] Hosting environment: Development
2024-03-18 23:36:32.932 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-18 23:36:32.932 +05:00 [DBG] Hosting started
2024-03-18 23:36:33.157 +05:00 [DBG] Connection id "0HN27F9ATG6AP" accepted.
2024-03-18 23:36:33.158 +05:00 [DBG] Connection id "0HN27F9ATG6AP" started.
2024-03-18 23:36:33.184 +05:00 [DBG] Connection id "0HN27F9ATG6AP" received FIN.
2024-03-18 23:36:33.190 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-18 23:36:33.207 +05:00 [DBG] Connection id "0HN27F9ATG6AP" stopped.
2024-03-18 23:36:33.209 +05:00 [DBG] Connection id "0HN27F9ATG6AP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-18 23:36:33.284 +05:00 [DBG] Connection id "0HN27F9ATG6AQ" accepted.
2024-03-18 23:36:33.285 +05:00 [DBG] Connection id "0HN27F9ATG6AQ" started.
2024-03-18 23:36:33.320 +05:00 [DBG] Connection 0HN27F9ATG6AQ established using the following protocol: "Tls12"
2024-03-18 23:36:33.369 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-18 23:36:33.386 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-18 23:36:33.408 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-18 23:36:33.408 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:36:33.537 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-18 23:36:33.609 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-18 23:36:33.611 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 245.4741ms
2024-03-18 23:36:33.719 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-18 23:36:33.747 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.0345ms
2024-03-18 23:36:33.772 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-18 23:36:33.776 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.2529ms
2024-03-18 23:36:34.213 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-18 23:36:34.213 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-18 23:36:34.213 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:36:34.315 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 101.2143ms
2024-03-18 23:37:10.536 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-18 23:37:10.542 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-18 23:37:10.546 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-18 23:37:10.547 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:37:10.550 +05:00 [INF] No CORS policy found for the specified request.
2024-03-18 23:37:10.551 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-18 23:37:10.585 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-18 23:37:10.586 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:37:10.628 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-18 23:37:10.629 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-18 23:37:10.629 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-18 23:37:10.632 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-18 23:37:10.632 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-18 23:37:10.633 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-18 23:37:10.634 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:37:10.834 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-18 23:37:10.861 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:37:10.870 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:37:10.874 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-18 23:37:10.876 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-18 23:37:10.887 +05:00 [DBG] Connection id "0HN27F9ATG6AQ", Request id "0HN27F9ATG6AQ:00000017": started reading request body.
2024-03-18 23:37:10.887 +05:00 [DBG] Connection id "0HN27F9ATG6AQ", Request id "0HN27F9ATG6AQ:00000017": done reading request body.
2024-03-18 23:37:10.892 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-18 23:37:10.892 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:37:10.892 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:37:10.892 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:37:10.902 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:37:12.640 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 2002.916ms
2024-03-18 23:37:12.641 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:37:12.665 +05:00 [ERR] An unhandled exception has occurred while executing the request.
MailKit.Security.AuthenticationException: 535: 5.7.8 Error: authentication failed: Invalid user or password! 1710787032-BbIQMm1nF4Y0
 ---> MailKit.Net.Smtp.SmtpCommandException: 5.7.8 Error: authentication failed: Invalid user or password! 1710787032-BbIQMm1nF4Y0
   --- End of inner exception stack trace ---
   at MailKit.Net.Smtp.SmtpClient.AuthenticateAsync(Encoding encoding, ICredentials credentials, CancellationToken cancellationToken)
   at BerryMusicV1.Containers.UnauthorizeService.RegistrationSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 58
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-18 23:37:12.677 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 500 - text/plain;+charset=utf-8 2140.9739ms
2024-03-18 23:40:03.591 +05:00 [DBG] Connection id "0HN27F9ATG6AQ" received FIN.
2024-03-18 23:40:03.594 +05:00 [DBG] The connection queue processing loop for 0HN27F9ATG6AQ completed.
2024-03-18 23:40:03.595 +05:00 [DBG] Connection id "0HN27F9ATG6AQ" is closed. The last processed stream ID was 23.
2024-03-18 23:40:03.595 +05:00 [DBG] Connection id "0HN27F9ATG6AQ" sending FIN because: "The client closed the connection."
2024-03-18 23:40:03.603 +05:00 [DBG] Connection id "0HN27F9ATG6AQ" stopped.
2024-03-18 23:40:12.784 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-18 23:40:12.852 +05:00 [DBG] Hosting starting
2024-03-18 23:40:12.876 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-18 23:40:12.884 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-18 23:40:12.893 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-18 23:40:12.893 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-18 23:40:12.893 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-18 23:40:12.894 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-18 23:40:12.902 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-18 23:40:12.906 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-18 23:40:12.906 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-18 23:40:12.906 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-18 23:40:12.907 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-18 23:40:12.915 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-18 23:40:12.919 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:40:12.923 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-18 23:40:12.925 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:40:12.929 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-18 23:40:12.931 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-18 23:40:12.933 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-18 23:40:12.933 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-18 23:40:13.117 +05:00 [DBG] Connection id "0HN27FBCF6HNK" accepted.
2024-03-18 23:40:13.118 +05:00 [DBG] Connection id "0HN27FBCF6HNK" started.
2024-03-18 23:40:13.125 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-18 23:40:13.126 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-18 23:40:13.126 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-18 23:40:13.126 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-18 23:40:13.126 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-18 23:40:13.128 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-18 23:40:13.128 +05:00 [DBG] Connection id "0HN27FBCF6HNK" received FIN.
2024-03-18 23:40:13.129 +05:00 [INF] Hosting environment: Development
2024-03-18 23:40:13.129 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-18 23:40:13.129 +05:00 [DBG] Hosting started
2024-03-18 23:40:13.134 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-18 23:40:13.160 +05:00 [DBG] Connection id "0HN27FBCF6HNK" stopped.
2024-03-18 23:40:13.162 +05:00 [DBG] Connection id "0HN27FBCF6HNK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-18 23:40:13.461 +05:00 [DBG] Connection id "0HN27FBCF6HNL" accepted.
2024-03-18 23:40:13.462 +05:00 [DBG] Connection id "0HN27FBCF6HNL" started.
2024-03-18 23:40:13.510 +05:00 [DBG] Connection 0HN27FBCF6HNL established using the following protocol: "Tls12"
2024-03-18 23:40:13.575 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-18 23:40:13.596 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-18 23:40:13.628 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-18 23:40:13.629 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:40:13.826 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-18 23:40:13.933 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-18 23:40:13.935 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 364.0594ms
2024-03-18 23:40:14.087 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-18 23:40:14.120 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.3182ms
2024-03-18 23:40:14.138 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-18 23:40:14.143 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.4377ms
2024-03-18 23:40:14.980 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-18 23:40:14.980 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-18 23:40:14.980 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:40:15.097 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.1784ms
2024-03-18 23:40:42.172 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-18 23:40:42.181 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-18 23:40:42.186 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-18 23:40:42.187 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:40:42.190 +05:00 [INF] No CORS policy found for the specified request.
2024-03-18 23:40:42.193 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-18 23:40:42.227 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-18 23:40:42.228 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:40:42.266 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-18 23:40:42.268 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-18 23:40:42.268 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-18 23:40:42.268 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-18 23:40:42.268 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-18 23:40:42.268 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-18 23:40:42.270 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:40:42.458 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-18 23:40:42.492 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:40:42.500 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:40:42.502 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-18 23:40:42.504 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-18 23:40:42.517 +05:00 [DBG] Connection id "0HN27FBCF6HNL", Request id "0HN27FBCF6HNL:00000017": started reading request body.
2024-03-18 23:40:42.517 +05:00 [DBG] Connection id "0HN27FBCF6HNL", Request id "0HN27FBCF6HNL:00000017": done reading request body.
2024-03-18 23:40:42.520 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-18 23:40:42.520 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:40:42.520 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:40:42.520 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:40:42.533 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:42:00.465 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-18 23:42:00.466 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-18 23:42:00.466 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:42:00.467 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-18 23:42:00.489 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-18 23:42:00.489 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 23.7430ms
2024-03-18 23:42:00.540 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-18 23:42:00.541 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-18 23:42:00.544 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 2.4773ms
2024-03-18 23:42:00.587 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.3228ms
2024-03-18 23:42:00.758 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-18 23:42:00.759 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-18 23:42:00.759 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:42:00.764 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.3570ms
2024-03-18 23:42:06.656 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 92
2024-03-18 23:42:06.656 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-18 23:42:06.657 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-18 23:42:06.657 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:42:06.657 +05:00 [INF] No CORS policy found for the specified request.
2024-03-18 23:42:06.658 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-18 23:42:06.660 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-18 23:42:06.661 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:42:06.661 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-18 23:42:06.661 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-18 23:42:06.661 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-18 23:42:06.661 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-18 23:42:06.661 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-18 23:42:06.662 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-18 23:42:06.662 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:42:06.678 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:42:06.679 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:42:06.679 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-18 23:42:06.679 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-18 23:42:06.679 +05:00 [DBG] Connection id "0HN27FBCF6HNL", Request id "0HN27FBCF6HNL:00000021": started reading request body.
2024-03-18 23:42:06.680 +05:00 [DBG] Connection id "0HN27FBCF6HNL", Request id "0HN27FBCF6HNL:00000021": done reading request body.
2024-03-18 23:42:06.680 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-18 23:42:06.681 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:42:06.681 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:42:06.681 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:42:06.682 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:42:30.583 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-18 23:42:30.638 +05:00 [DBG] Hosting starting
2024-03-18 23:42:30.654 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-18 23:42:30.661 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-18 23:42:30.668 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-18 23:42:30.669 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-18 23:42:30.669 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-18 23:42:30.669 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-18 23:42:30.699 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-18 23:42:30.703 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-18 23:42:30.703 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-18 23:42:30.703 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-18 23:42:30.703 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-18 23:42:30.710 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-18 23:42:30.715 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:42:30.717 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-18 23:42:30.719 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:42:30.723 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-18 23:42:30.724 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-18 23:42:30.725 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-18 23:42:30.725 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-18 23:42:30.863 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-18 23:42:30.863 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-18 23:42:30.866 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-18 23:42:30.866 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-18 23:42:30.866 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-18 23:42:30.870 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-18 23:42:30.871 +05:00 [INF] Hosting environment: Development
2024-03-18 23:42:30.871 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-18 23:42:30.871 +05:00 [DBG] Hosting started
2024-03-18 23:42:30.971 +05:00 [DBG] Connection id "0HN27FCLHS66N" accepted.
2024-03-18 23:42:30.972 +05:00 [DBG] Connection id "0HN27FCLHS66N" started.
2024-03-18 23:42:30.997 +05:00 [DBG] Connection id "0HN27FCLHS66N" received FIN.
2024-03-18 23:42:31.004 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-18 23:42:31.021 +05:00 [DBG] Connection id "0HN27FCLHS66N" stopped.
2024-03-18 23:42:31.024 +05:00 [DBG] Connection id "0HN27FCLHS66N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-18 23:42:31.057 +05:00 [DBG] Connection id "0HN27FCLHS66O" accepted.
2024-03-18 23:42:31.058 +05:00 [DBG] Connection id "0HN27FCLHS66O" started.
2024-03-18 23:42:31.095 +05:00 [DBG] Connection 0HN27FCLHS66O established using the following protocol: "Tls12"
2024-03-18 23:42:31.144 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-18 23:42:31.160 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-18 23:42:31.207 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-18 23:42:31.208 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:42:31.776 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-18 23:42:31.984 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-18 23:42:31.984 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-18 23:42:31.987 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 845.2780ms
2024-03-18 23:42:31.987 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-18 23:42:31.993 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.3955ms
2024-03-18 23:42:32.046 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 61.7629ms
2024-03-18 23:42:32.168 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-18 23:42:32.168 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-18 23:42:32.168 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:42:32.327 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.7907ms
2024-03-18 23:42:46.378 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-18 23:42:46.387 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-18 23:42:46.393 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-18 23:42:46.394 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:42:46.396 +05:00 [INF] No CORS policy found for the specified request.
2024-03-18 23:42:46.399 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-18 23:42:46.436 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-18 23:42:46.437 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:42:46.482 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-18 23:42:46.483 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-18 23:42:46.484 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-18 23:42:46.485 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-18 23:42:46.485 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-18 23:42:46.485 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-18 23:42:46.488 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:42:46.695 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-18 23:42:46.728 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:42:46.737 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:42:46.742 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-18 23:42:46.744 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-18 23:42:46.753 +05:00 [DBG] Connection id "0HN27FCLHS66O", Request id "0HN27FCLHS66O:00000017": started reading request body.
2024-03-18 23:42:46.753 +05:00 [DBG] Connection id "0HN27FCLHS66O", Request id "0HN27FCLHS66O:00000017": done reading request body.
2024-03-18 23:42:46.759 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-18 23:42:46.760 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:42:46.760 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:42:46.760 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:42:46.770 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:42:47.453 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 965.0069ms
2024-03-18 23:42:47.454 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:42:47.491 +05:00 [ERR] An unhandled exception has occurred while executing the request.
MailKit.Security.AuthenticationException: 535: 5.7.8 Error: authentication failed: Invalid user or password! 1710787367-kgIIKvFtFeA0
 ---> MailKit.Net.Smtp.SmtpCommandException: 5.7.8 Error: authentication failed: Invalid user or password! 1710787367-kgIIKvFtFeA0
   --- End of inner exception stack trace ---
   at MailKit.Net.Smtp.SmtpClient.AuthenticateAsync(Encoding encoding, ICredentials credentials, CancellationToken cancellationToken)
   at BerryMusicV1.Containers.UnauthorizeService.RegistrationSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 58
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-18 23:42:47.501 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 500 - text/plain;+charset=utf-8 1122.6376ms
2024-03-18 23:43:10.803 +05:00 [DBG] Connection id "0HN27FCLHS66P" accepted.
2024-03-18 23:43:10.803 +05:00 [DBG] Connection id "0HN27FCLHS66P" started.
2024-03-18 23:43:10.819 +05:00 [DBG] Connection 0HN27FCLHS66P established using the following protocol: "Tls12"
2024-03-18 23:43:10.830 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-18 23:43:10.830 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-18 23:43:10.830 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:43:10.837 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 6.3296ms
2024-03-18 23:45:38.212 +05:00 [DBG] Connection id "0HN27FCLHS66O" received FIN.
2024-03-18 23:45:38.216 +05:00 [DBG] The connection queue processing loop for 0HN27FCLHS66O completed.
2024-03-18 23:45:38.217 +05:00 [DBG] Connection id "0HN27FCLHS66O" is closed. The last processed stream ID was 23.
2024-03-18 23:45:38.217 +05:00 [DBG] Connection id "0HN27FCLHS66O" sending FIN because: "The client closed the connection."
2024-03-18 23:45:38.218 +05:00 [DBG] Connection id "0HN27FCLHS66O" stopped.
2024-03-18 23:46:01.230 +05:00 [DBG] Connection id "0HN27FCLHS66P" received FIN.
2024-03-18 23:46:01.231 +05:00 [DBG] Connection id "0HN27FCLHS66P" is closing.
2024-03-18 23:46:01.231 +05:00 [DBG] Connection id "0HN27FCLHS66P" is closed. The last processed stream ID was 15.
2024-03-18 23:46:01.231 +05:00 [DBG] Connection id "0HN27FCLHS66P" sending FIN because: "The client closed the connection."
2024-03-18 23:46:01.231 +05:00 [DBG] The connection queue processing loop for 0HN27FCLHS66P completed.
2024-03-18 23:46:01.231 +05:00 [DBG] Connection id "0HN27FCLHS66P" stopped.
2024-03-18 23:46:49.986 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-18 23:46:50.043 +05:00 [DBG] Hosting starting
2024-03-18 23:46:50.062 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-18 23:46:50.071 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-18 23:46:50.078 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-18 23:46:50.079 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-18 23:46:50.079 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-18 23:46:50.080 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-18 23:46:50.085 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-18 23:46:50.089 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-18 23:46:50.089 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-18 23:46:50.089 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-18 23:46:50.090 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-18 23:46:50.103 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-18 23:46:50.105 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:46:50.109 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-18 23:46:50.110 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:46:50.115 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-18 23:46:50.116 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-18 23:46:50.117 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-18 23:46:50.117 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-18 23:46:50.234 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-18 23:46:50.234 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-18 23:46:50.234 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-18 23:46:50.234 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-18 23:46:50.234 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-18 23:46:50.236 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-18 23:46:50.236 +05:00 [INF] Hosting environment: Development
2024-03-18 23:46:50.236 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-18 23:46:50.236 +05:00 [DBG] Hosting started
2024-03-18 23:46:50.366 +05:00 [DBG] Connection id "0HN27FF2RL6KA" received FIN.
2024-03-18 23:46:50.370 +05:00 [DBG] Connection id "0HN27FF2RL6KA" accepted.
2024-03-18 23:46:50.370 +05:00 [DBG] Connection id "0HN27FF2RL6KA" started.
2024-03-18 23:46:50.385 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-18 23:46:50.400 +05:00 [DBG] Connection id "0HN27FF2RL6KA" stopped.
2024-03-18 23:46:50.401 +05:00 [DBG] Connection id "0HN27FF2RL6KA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-18 23:46:50.410 +05:00 [DBG] Connection id "0HN27FF2RL6KB" accepted.
2024-03-18 23:46:50.410 +05:00 [DBG] Connection id "0HN27FF2RL6KB" started.
2024-03-18 23:46:50.444 +05:00 [DBG] Connection 0HN27FF2RL6KB established using the following protocol: "Tls12"
2024-03-18 23:46:50.490 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-18 23:46:50.506 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-18 23:46:50.525 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-18 23:46:50.526 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:46:50.652 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-18 23:46:50.725 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-18 23:46:50.728 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 241.0164ms
2024-03-18 23:46:50.783 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-18 23:46:50.802 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.4662ms
2024-03-18 23:46:50.819 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-18 23:46:50.826 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 7.2090ms
2024-03-18 23:46:51.121 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-18 23:46:51.121 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-18 23:46:51.121 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:46:51.219 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 98.3824ms
2024-03-18 23:47:05.445 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-18 23:47:05.452 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-18 23:47:05.457 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-18 23:47:05.458 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:47:05.460 +05:00 [INF] No CORS policy found for the specified request.
2024-03-18 23:47:05.462 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-18 23:47:05.496 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-18 23:47:05.499 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:47:05.536 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-18 23:47:05.537 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-18 23:47:05.537 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-18 23:47:05.538 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-18 23:47:05.538 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-18 23:47:05.538 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-18 23:47:05.542 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:47:05.706 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-18 23:47:05.745 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:47:05.752 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:47:05.758 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-18 23:47:05.759 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-18 23:47:05.770 +05:00 [DBG] Connection id "0HN27FF2RL6KB", Request id "0HN27FF2RL6KB:00000017": started reading request body.
2024-03-18 23:47:05.771 +05:00 [DBG] Connection id "0HN27FF2RL6KB", Request id "0HN27FF2RL6KB:00000017": done reading request body.
2024-03-18 23:47:05.776 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-18 23:47:05.776 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:47:05.776 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:47:05.776 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:47:05.786 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:47:06.174 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 631.1291ms
2024-03-18 23:47:06.175 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:47:06.209 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Bad sequence of commands. The server response was: 5.5.4 Error: send AUTH command first. 1710787626-5lIjFGhmC4Y0-34eIZPdO
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at BerryMusicV1.Containers.UnauthorizeService.RegistrationSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 50
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-18 23:47:06.215 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 500 - text/plain;+charset=utf-8 770.1409ms
2024-03-18 23:47:47.485 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-18 23:47:47.538 +05:00 [DBG] Hosting starting
2024-03-18 23:47:47.556 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-18 23:47:47.564 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-18 23:47:47.570 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-18 23:47:47.571 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-18 23:47:47.571 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-18 23:47:47.571 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-18 23:47:47.575 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-18 23:47:47.578 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-18 23:47:47.578 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-18 23:47:47.578 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-18 23:47:47.579 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-18 23:47:47.585 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-18 23:47:47.588 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:47:47.591 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-18 23:47:47.592 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:47:47.596 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-18 23:47:47.597 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-18 23:47:47.599 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-18 23:47:47.599 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-18 23:47:47.729 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-18 23:47:47.729 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-18 23:47:47.729 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-18 23:47:47.729 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-18 23:47:47.729 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-18 23:47:47.734 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-18 23:47:47.734 +05:00 [INF] Hosting environment: Development
2024-03-18 23:47:47.734 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-18 23:47:47.734 +05:00 [DBG] Hosting started
2024-03-18 23:47:47.769 +05:00 [DBG] Connection id "0HN27FFJV37CD" accepted.
2024-03-18 23:47:47.770 +05:00 [DBG] Connection id "0HN27FFJV37CD" started.
2024-03-18 23:47:47.771 +05:00 [DBG] Connection id "0HN27FFJV37CD" received FIN.
2024-03-18 23:47:47.784 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-18 23:47:47.807 +05:00 [DBG] Connection id "0HN27FFJV37CE" accepted.
2024-03-18 23:47:47.810 +05:00 [DBG] Connection id "0HN27FFJV37CE" started.
2024-03-18 23:47:47.813 +05:00 [DBG] Connection id "0HN27FFJV37CD" stopped.
2024-03-18 23:47:47.818 +05:00 [DBG] Connection id "0HN27FFJV37CD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-18 23:47:47.869 +05:00 [DBG] Connection 0HN27FFJV37CE established using the following protocol: "Tls12"
2024-03-18 23:47:47.930 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-18 23:47:47.951 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-18 23:47:47.982 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-18 23:47:47.983 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:47:48.208 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-18 23:47:48.317 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-18 23:47:48.348 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 393.6773ms
2024-03-18 23:47:48.350 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-18 23:47:48.350 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-18 23:47:48.354 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.6201ms
2024-03-18 23:47:48.406 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.3213ms
2024-03-18 23:47:48.527 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-18 23:47:48.528 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-18 23:47:48.528 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:47:48.703 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.6227ms
2024-03-18 23:48:01.321 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-18 23:48:01.329 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-18 23:48:01.334 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-18 23:48:01.334 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:48:01.336 +05:00 [INF] No CORS policy found for the specified request.
2024-03-18 23:48:01.338 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-18 23:48:01.383 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-18 23:48:01.384 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:48:01.433 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-18 23:48:01.435 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-18 23:48:01.435 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-18 23:48:01.437 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-18 23:48:01.437 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-18 23:48:01.437 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-18 23:48:01.439 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:48:01.644 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-18 23:48:01.695 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:48:01.703 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:48:01.709 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-18 23:48:01.712 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-18 23:48:01.729 +05:00 [DBG] Connection id "0HN27FFJV37CE", Request id "0HN27FFJV37CE:00000017": started reading request body.
2024-03-18 23:48:01.729 +05:00 [DBG] Connection id "0HN27FFJV37CE", Request id "0HN27FFJV37CE:00000017": done reading request body.
2024-03-18 23:48:01.734 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-18 23:48:01.734 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:48:01.734 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:48:01.734 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:48:01.746 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:48:02.203 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 723.1364ms
2024-03-18 23:48:02.204 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:48:02.286 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Bad sequence of commands. The server response was: 5.5.4 Error: send AUTH command first. 1710787682-1mIbEugBea60-RV7stcOu
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at BerryMusicV1.Containers.UnauthorizeService.RegistrationSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 48
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-18 23:48:02.293 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 500 - text/plain;+charset=utf-8 971.3518ms
2024-03-18 23:49:57.179 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-18 23:49:57.249 +05:00 [DBG] Hosting starting
2024-03-18 23:49:57.263 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-18 23:49:57.272 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-18 23:49:57.279 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-18 23:49:57.280 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-18 23:49:57.281 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-18 23:49:57.282 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-18 23:49:57.286 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-18 23:49:57.289 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-18 23:49:57.290 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-18 23:49:57.291 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-18 23:49:57.291 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-18 23:49:57.302 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-18 23:49:57.305 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:49:57.314 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-18 23:49:57.316 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:49:57.320 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-18 23:49:57.321 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-18 23:49:57.322 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-18 23:49:57.323 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-18 23:49:57.494 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-18 23:49:57.494 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-18 23:49:57.495 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-18 23:49:57.495 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-18 23:49:57.495 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-18 23:49:57.497 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-18 23:49:57.497 +05:00 [INF] Hosting environment: Development
2024-03-18 23:49:57.497 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-18 23:49:57.497 +05:00 [DBG] Hosting started
2024-03-18 23:49:57.775 +05:00 [DBG] Connection id "0HN27FGQMU32E" accepted.
2024-03-18 23:49:57.776 +05:00 [DBG] Connection id "0HN27FGQMU32E" started.
2024-03-18 23:49:57.786 +05:00 [DBG] Connection id "0HN27FGQMU32E" received FIN.
2024-03-18 23:49:57.797 +05:00 [DBG] Connection id "0HN27FGQMU32F" accepted.
2024-03-18 23:49:57.797 +05:00 [DBG] Connection id "0HN27FGQMU32F" started.
2024-03-18 23:49:57.802 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-18 23:49:57.825 +05:00 [DBG] Connection id "0HN27FGQMU32E" stopped.
2024-03-18 23:49:57.829 +05:00 [DBG] Connection id "0HN27FGQMU32E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-18 23:49:57.851 +05:00 [DBG] Connection 0HN27FGQMU32F established using the following protocol: "Tls12"
2024-03-18 23:49:57.918 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-18 23:49:57.943 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-18 23:49:57.977 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-18 23:49:57.977 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:49:58.134 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-18 23:49:58.247 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-18 23:49:58.251 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-18 23:49:58.257 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.7926ms
2024-03-18 23:49:58.269 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-18 23:49:58.270 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 357.9006ms
2024-03-18 23:49:58.319 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.8025ms
2024-03-18 23:49:58.452 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-18 23:49:58.453 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-18 23:49:58.453 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:49:58.645 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 192.6725ms
2024-03-18 23:50:08.610 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-18 23:50:08.618 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-18 23:50:08.628 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-18 23:50:08.629 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:50:08.630 +05:00 [INF] No CORS policy found for the specified request.
2024-03-18 23:50:08.634 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-18 23:50:08.675 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-18 23:50:08.676 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:50:08.719 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-18 23:50:08.721 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-18 23:50:08.722 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-18 23:50:08.722 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-18 23:50:08.722 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-18 23:50:08.722 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-18 23:50:08.727 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:50:08.903 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-18 23:50:08.938 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:50:08.946 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:50:08.951 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-18 23:50:08.952 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-18 23:50:08.962 +05:00 [DBG] Connection id "0HN27FGQMU32F", Request id "0HN27FGQMU32F:00000017": started reading request body.
2024-03-18 23:50:08.962 +05:00 [DBG] Connection id "0HN27FGQMU32F", Request id "0HN27FGQMU32F:00000017": done reading request body.
2024-03-18 23:50:08.968 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-18 23:50:08.968 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:50:08.968 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:50:08.968 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:50:08.985 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:50:09.375 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 648.6789ms
2024-03-18 23:50:09.375 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:50:09.400 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Bad sequence of commands. The server response was: 5.5.4 Error: send AUTH command first. 1710787809-8oIwUqSNumI0-bos68zYs
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.SmtpTransport.SendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, Boolean allowUnicode, SmtpFailedRecipientException& exception)
   at System.Net.Mail.SmtpClient.Send(MailMessage message)
   at BerryMusicV1.Containers.UnauthorizeService.RegistrationSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 48
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-18 23:50:09.405 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 500 - text/plain;+charset=utf-8 794.2433ms
2024-03-18 23:52:59.633 +05:00 [DBG] Connection id "0HN27FGQMU32F" received FIN.
2024-03-18 23:52:59.640 +05:00 [DBG] Connection id "0HN27FGQMU32F" is closed. The last processed stream ID was 23.
2024-03-18 23:52:59.641 +05:00 [DBG] Connection id "0HN27FGQMU32F" sending FIN because: "The client closed the connection."
2024-03-18 23:52:59.643 +05:00 [DBG] The connection queue processing loop for 0HN27FGQMU32F completed.
2024-03-18 23:52:59.644 +05:00 [DBG] Connection id "0HN27FGQMU32F" stopped.
2024-03-18 23:59:19.479 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-18 23:59:19.529 +05:00 [DBG] Hosting starting
2024-03-18 23:59:19.543 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-18 23:59:19.550 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-18 23:59:19.556 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-18 23:59:19.557 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-18 23:59:19.557 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-18 23:59:19.557 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-18 23:59:19.562 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-18 23:59:19.565 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-18 23:59:19.566 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-18 23:59:19.566 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-18 23:59:19.566 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-18 23:59:19.576 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-18 23:59:19.579 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:59:19.581 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-18 23:59:19.582 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-18 23:59:19.587 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-18 23:59:19.588 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-18 23:59:19.589 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-18 23:59:19.590 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-18 23:59:19.710 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-18 23:59:19.710 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-18 23:59:19.710 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-18 23:59:19.710 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-18 23:59:19.710 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-18 23:59:19.712 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-18 23:59:19.713 +05:00 [INF] Hosting environment: Development
2024-03-18 23:59:19.713 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-18 23:59:19.713 +05:00 [DBG] Hosting started
2024-03-18 23:59:19.890 +05:00 [DBG] Connection id "0HN27FM27M0D8" accepted.
2024-03-18 23:59:19.891 +05:00 [DBG] Connection id "0HN27FM27M0D8" started.
2024-03-18 23:59:19.906 +05:00 [DBG] Connection id "0HN27FM27M0D8" received FIN.
2024-03-18 23:59:19.911 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-18 23:59:19.925 +05:00 [DBG] Connection id "0HN27FM27M0D8" stopped.
2024-03-18 23:59:19.928 +05:00 [DBG] Connection id "0HN27FM27M0D8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-18 23:59:19.998 +05:00 [DBG] Connection id "0HN27FM27M0D9" accepted.
2024-03-18 23:59:19.998 +05:00 [DBG] Connection id "0HN27FM27M0D9" started.
2024-03-18 23:59:20.032 +05:00 [DBG] Connection 0HN27FM27M0D9 established using the following protocol: "Tls12"
2024-03-18 23:59:20.082 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-18 23:59:20.098 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-18 23:59:20.125 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-18 23:59:20.125 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:59:20.260 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-18 23:59:20.344 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-18 23:59:20.346 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 266.3841ms
2024-03-18 23:59:20.421 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-18 23:59:20.421 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-18 23:59:20.425 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.6896ms
2024-03-18 23:59:20.454 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.9027ms
2024-03-18 23:59:20.858 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-18 23:59:20.859 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-18 23:59:20.859 +05:00 [DBG] Request did not match any endpoints
2024-03-18 23:59:20.974 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 115.6468ms
2024-03-18 23:59:25.877 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 92
2024-03-18 23:59:25.884 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-18 23:59:25.889 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-18 23:59:25.889 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:59:25.893 +05:00 [INF] No CORS policy found for the specified request.
2024-03-18 23:59:25.895 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-18 23:59:25.939 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-18 23:59:25.943 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:59:25.997 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-18 23:59:26.000 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-18 23:59:26.001 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-18 23:59:26.001 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-18 23:59:26.001 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-18 23:59:26.001 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-18 23:59:26.003 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:59:26.172 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-18 23:59:26.212 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:59:26.218 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:59:26.222 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-18 23:59:26.224 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-18 23:59:26.239 +05:00 [DBG] Connection id "0HN27FM27M0D9", Request id "0HN27FM27M0D9:00000017": started reading request body.
2024-03-18 23:59:26.239 +05:00 [DBG] Connection id "0HN27FM27M0D9", Request id "0HN27FM27M0D9:00000017": done reading request body.
2024-03-18 23:59:26.254 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-18 23:59:26.254 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:59:26.254 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:59:26.254 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:59:26.266 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:59:27.056 +05:00 [DBG] Connection id "0HN27FM27M0DA" accepted.
2024-03-18 23:59:27.056 +05:00 [DBG] Connection id "0HN27FM27M0DA" started.
2024-03-18 23:59:37.092 +05:00 [DBG] Authentication of the HTTPS connection timed out.
2024-03-18 23:59:37.092 +05:00 [DBG] Connection id "0HN27FM27M0DA" stopped.
2024-03-18 23:59:37.092 +05:00 [DBG] Connection id "0HN27FM27M0DA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-18 23:59:37.098 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 11093.0002ms
2024-03-18 23:59:37.099 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:59:37.314 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (10064): Произошла ошибка операции на сокете, т.к. конечный хост выключен.
   at bf.n(Byte[] a, Int32 b, Int32 c)
   at bf.k(Byte[] a, Int32 b, Int32 c)
   at bf.q()
   at bf.h()
   at EASendMail.SmtpClient.ba(String& a, String& b)
   at EASendMail.SmtpClient.ad()
   at EASendMail.SmtpClient.aj()
   at EASendMail.SmtpClient.al()
   at EASendMail.SmtpClient.n(SmtpServer a, SmtpMail b)
   at EASendMail.SmtpClient.SendMail(SmtpServer server, SmtpMail mail)
   at BerryMusicV1.Containers.UnauthorizeService.RegistrationSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 66
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-18 23:59:37.321 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 92 - 500 - text/plain;+charset=utf-8 11443.4704ms
2024-03-18 23:59:58.292 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-18 23:59:58.292 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-18 23:59:58.292 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-18 23:59:58.292 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:59:58.292 +05:00 [INF] No CORS policy found for the specified request.
2024-03-18 23:59:58.293 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-18 23:59:58.294 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-18 23:59:58.294 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-18 23:59:58.294 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-18 23:59:58.294 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-18 23:59:58.294 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-18 23:59:58.294 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-18 23:59:58.294 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-18 23:59:58.295 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-18 23:59:58.295 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:59:58.303 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-18 23:59:58.303 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:59:58.304 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-18 23:59:58.304 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-18 23:59:58.304 +05:00 [DBG] Connection id "0HN27FM27M0D9", Request id "0HN27FM27M0D9:00000019": started reading request body.
2024-03-18 23:59:58.304 +05:00 [DBG] Connection id "0HN27FM27M0D9", Request id "0HN27FM27M0D9:00000019": done reading request body.
2024-03-18 23:59:58.304 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-18 23:59:58.304 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:59:58.304 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:59:58.305 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-18 23:59:58.305 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-18 23:59:58.307 +05:00 [DBG] Connection id "0HN27FM27M0DB" accepted.
2024-03-18 23:59:58.307 +05:00 [DBG] Connection id "0HN27FM27M0DB" started.
2024-03-19 00:00:08.312 +05:00 [DBG] Authentication of the HTTPS connection timed out.
2024-03-19 00:00:08.312 +05:00 [DBG] Connection id "0HN27FM27M0DB" stopped.
2024-03-19 00:00:08.312 +05:00 [DBG] Connection id "0HN27FM27M0DB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-19 00:00:08.313 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 10018.3449ms
2024-03-19 00:00:08.313 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:00:08.315 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (10064): Произошла ошибка операции на сокете, т.к. конечный хост выключен.
   at bf.n(Byte[] a, Int32 b, Int32 c)
   at bf.k(Byte[] a, Int32 b, Int32 c)
   at bf.q()
   at bf.h()
   at EASendMail.SmtpClient.ba(String& a, String& b)
   at EASendMail.SmtpClient.ad()
   at EASendMail.SmtpClient.aj()
   at EASendMail.SmtpClient.al()
   at EASendMail.SmtpClient.n(SmtpServer a, SmtpMail b)
   at EASendMail.SmtpClient.SendMail(SmtpServer server, SmtpMail mail)
   at BerryMusicV1.Containers.UnauthorizeService.RegistrationSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 66
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-19 00:00:08.317 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 500 - text/plain;+charset=utf-8 10025.5797ms
2024-03-19 00:00:59.517 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-19 00:00:59.572 +05:00 [DBG] Hosting starting
2024-03-19 00:00:59.588 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-19 00:00:59.595 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-19 00:00:59.602 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-19 00:00:59.602 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-19 00:00:59.602 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-19 00:00:59.603 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-19 00:00:59.608 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-19 00:00:59.611 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-19 00:00:59.611 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-19 00:00:59.612 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-19 00:00:59.612 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-19 00:00:59.618 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-19 00:00:59.620 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:00:59.622 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-19 00:00:59.624 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:00:59.628 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-19 00:00:59.629 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-19 00:00:59.630 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-19 00:00:59.630 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-19 00:00:59.808 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-19 00:00:59.808 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-19 00:00:59.808 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-19 00:00:59.808 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-19 00:00:59.808 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-19 00:00:59.811 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-19 00:00:59.811 +05:00 [INF] Hosting environment: Development
2024-03-19 00:00:59.812 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-19 00:00:59.812 +05:00 [DBG] Hosting started
2024-03-19 00:00:59.959 +05:00 [DBG] Connection id "0HN27FN020IIU" accepted.
2024-03-19 00:00:59.960 +05:00 [DBG] Connection id "0HN27FN020IIU" started.
2024-03-19 00:00:59.969 +05:00 [DBG] Connection id "0HN27FN020IIU" received FIN.
2024-03-19 00:00:59.975 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-19 00:01:00.001 +05:00 [DBG] Connection id "0HN27FN020IIU" stopped.
2024-03-19 00:01:00.003 +05:00 [DBG] Connection id "0HN27FN020IIU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-19 00:01:00.083 +05:00 [DBG] Connection id "0HN27FN020IIV" accepted.
2024-03-19 00:01:00.084 +05:00 [DBG] Connection id "0HN27FN020IIV" started.
2024-03-19 00:01:00.128 +05:00 [DBG] Connection 0HN27FN020IIV established using the following protocol: "Tls12"
2024-03-19 00:01:00.185 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-19 00:01:00.213 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-19 00:01:00.252 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-19 00:01:00.252 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:01:00.430 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-19 00:01:00.519 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-19 00:01:00.522 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 340.8041ms
2024-03-19 00:01:00.544 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-19 00:01:00.547 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-19 00:01:00.556 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.7495ms
2024-03-19 00:01:00.598 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.4971ms
2024-03-19 00:01:00.742 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-19 00:01:00.744 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-19 00:01:00.745 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:01:00.921 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 178.7452ms
2024-03-19 00:01:09.062 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-19 00:01:09.067 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-19 00:01:09.070 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-19 00:01:09.071 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:01:09.073 +05:00 [INF] No CORS policy found for the specified request.
2024-03-19 00:01:09.076 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-19 00:01:09.113 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-19 00:01:09.114 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:01:09.162 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-19 00:01:09.164 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-19 00:01:09.164 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-19 00:01:09.164 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-19 00:01:09.164 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-19 00:01:09.164 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-19 00:01:09.169 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:01:09.338 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-19 00:01:09.370 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:01:09.378 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-19 00:01:09.381 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-19 00:01:09.385 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-19 00:01:09.395 +05:00 [DBG] Connection id "0HN27FN020IIV", Request id "0HN27FN020IIV:00000017": started reading request body.
2024-03-19 00:01:09.396 +05:00 [DBG] Connection id "0HN27FN020IIV", Request id "0HN27FN020IIV:00000017": done reading request body.
2024-03-19 00:01:09.400 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-19 00:01:09.401 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:01:09.401 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:01:09.401 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-19 00:01:09.412 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:01:30.744 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 21576.5976ms
2024-03-19 00:01:30.745 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:01:30.887 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (10060): Попытка установить соединение была безуспешной, т.к. от другого компьютера за требуемое время не получен нужный отклик, или было разорвано уже установленное соединение из-за неверного отклика уже подключенного компьютера.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at bg.i(IPAddress a, Int32 b)
   at bg.h(IPAddress[] a, Int32 b)
   at bg.f(String a, Int32 b)
   at bg.l(SmtpServer a)
   at bg.b(SmtpClient a, SmtpServer b)
   at EASendMail.SmtpClient.aa(SmtpServer a, SmtpMail b)
   at EASendMail.SmtpClient.n(SmtpServer a, SmtpMail b)
   at EASendMail.SmtpClient.SendMail(SmtpServer server, SmtpMail mail)
   at BerryMusicV1.Containers.UnauthorizeService.RegistrationSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 66
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-19 00:01:30.952 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 500 - text/plain;+charset=utf-8 21890.6844ms
2024-03-19 00:04:27.192 +05:00 [DBG] Connection id "0HN27FN020IIV" received FIN.
2024-03-19 00:04:27.198 +05:00 [DBG] The connection queue processing loop for 0HN27FN020IIV completed.
2024-03-19 00:04:27.198 +05:00 [DBG] Connection id "0HN27FN020IIV" is closed. The last processed stream ID was 23.
2024-03-19 00:04:27.198 +05:00 [DBG] Connection id "0HN27FN020IIV" sending FIN because: "The client closed the connection."
2024-03-19 00:04:27.200 +05:00 [DBG] Connection id "0HN27FN020IIV" stopped.
2024-03-19 00:04:50.089 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-19 00:04:50.201 +05:00 [DBG] Hosting starting
2024-03-19 00:04:50.232 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-19 00:04:50.265 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-19 00:04:50.284 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-19 00:04:50.285 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-19 00:04:50.285 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-19 00:04:50.287 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-19 00:04:50.294 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-19 00:04:50.297 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-19 00:04:50.298 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-19 00:04:50.298 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-19 00:04:50.299 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-19 00:04:50.311 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-19 00:04:50.315 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:04:50.321 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-19 00:04:50.323 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:04:50.327 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-19 00:04:50.328 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-19 00:04:50.329 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-19 00:04:50.330 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-19 00:04:50.481 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-19 00:04:50.481 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-19 00:04:50.481 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-19 00:04:50.481 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-19 00:04:50.481 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-19 00:04:50.484 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-19 00:04:50.484 +05:00 [INF] Hosting environment: Development
2024-03-19 00:04:50.484 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-19 00:04:50.484 +05:00 [DBG] Hosting started
2024-03-19 00:04:51.062 +05:00 [DBG] Connection id "0HN27FP4TVEPJ" accepted.
2024-03-19 00:04:51.063 +05:00 [DBG] Connection id "0HN27FP4TVEPJ" started.
2024-03-19 00:04:51.063 +05:00 [DBG] Connection id "0HN27FP4TVEPK" accepted.
2024-03-19 00:04:51.063 +05:00 [DBG] Connection id "0HN27FP4TVEPK" started.
2024-03-19 00:04:51.079 +05:00 [DBG] Connection id "0HN27FP4TVEPK" received FIN.
2024-03-19 00:04:51.080 +05:00 [DBG] Connection id "0HN27FP4TVEPJ" received FIN.
2024-03-19 00:04:51.085 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-19 00:04:51.101 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-19 00:04:51.104 +05:00 [DBG] Connection id "0HN27FP4TVEPJ" stopped.
2024-03-19 00:04:51.105 +05:00 [DBG] Connection id "0HN27FP4TVEPK" stopped.
2024-03-19 00:04:51.107 +05:00 [DBG] Connection id "0HN27FP4TVEPJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-19 00:04:51.107 +05:00 [DBG] Connection id "0HN27FP4TVEPK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-19 00:04:52.222 +05:00 [DBG] Connection id "0HN27FP4TVEPL" accepted.
2024-03-19 00:04:52.222 +05:00 [DBG] Connection id "0HN27FP4TVEPL" started.
2024-03-19 00:04:52.262 +05:00 [DBG] Connection 0HN27FP4TVEPL established using the following protocol: "Tls12"
2024-03-19 00:04:52.375 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-19 00:04:52.432 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-19 00:04:52.454 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-19 00:04:52.454 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:04:52.670 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-19 00:04:52.752 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-19 00:04:52.755 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 383.8712ms
2024-03-19 00:04:57.110 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-19 00:04:57.111 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-19 00:04:57.116 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.7203ms
2024-03-19 00:04:57.142 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.3615ms
2024-03-19 00:04:58.999 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-19 00:04:59.000 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-19 00:04:59.000 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:04:59.098 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 98.5830ms
2024-03-19 00:05:12.894 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-19 00:05:12.898 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-19 00:05:12.904 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-19 00:05:12.905 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:05:12.906 +05:00 [INF] No CORS policy found for the specified request.
2024-03-19 00:05:12.909 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-19 00:05:12.968 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-19 00:05:12.969 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:05:13.015 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-19 00:05:13.020 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-19 00:05:13.020 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-19 00:05:13.020 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-19 00:05:13.021 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-19 00:05:13.021 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-19 00:05:13.022 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:05:13.211 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-19 00:05:13.245 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:05:13.252 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-19 00:05:13.255 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-19 00:05:13.256 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-19 00:05:13.271 +05:00 [DBG] Connection id "0HN27FP4TVEPL", Request id "0HN27FP4TVEPL:00000017": started reading request body.
2024-03-19 00:05:13.271 +05:00 [DBG] Connection id "0HN27FP4TVEPL", Request id "0HN27FP4TVEPL:00000017": done reading request body.
2024-03-19 00:05:13.274 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-19 00:05:13.276 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:05:13.276 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:05:13.276 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-19 00:05:13.287 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:05:14.203 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-19 00:05:14.207 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1182.5977ms
2024-03-19 00:05:14.209 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:05:14.212 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1317.7753ms
2024-03-19 00:08:05.156 +05:00 [DBG] Connection id "0HN27FP4TVEPL" received FIN.
2024-03-19 00:08:05.159 +05:00 [DBG] The connection queue processing loop for 0HN27FP4TVEPL completed.
2024-03-19 00:08:05.160 +05:00 [DBG] Connection id "0HN27FP4TVEPL" is closed. The last processed stream ID was 23.
2024-03-19 00:08:05.160 +05:00 [DBG] Connection id "0HN27FP4TVEPL" sending FIN because: "The client closed the connection."
2024-03-19 00:08:05.161 +05:00 [DBG] Connection id "0HN27FP4TVEPL" stopped.
2024-03-19 00:09:44.268 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-19 00:09:44.325 +05:00 [DBG] Hosting starting
2024-03-19 00:09:44.341 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-19 00:09:44.349 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-19 00:09:44.355 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-19 00:09:44.356 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-19 00:09:44.356 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-19 00:09:44.356 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-19 00:09:44.363 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-19 00:09:44.367 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-19 00:09:44.368 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-19 00:09:44.368 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-19 00:09:44.368 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-19 00:09:44.376 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-19 00:09:44.379 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:09:44.381 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-19 00:09:44.383 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:09:44.387 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-19 00:09:44.388 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-19 00:09:44.389 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-19 00:09:44.390 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-19 00:09:44.508 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-19 00:09:44.509 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-19 00:09:44.509 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-19 00:09:44.509 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-19 00:09:44.509 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-19 00:09:44.511 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-19 00:09:44.511 +05:00 [INF] Hosting environment: Development
2024-03-19 00:09:44.511 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-19 00:09:44.511 +05:00 [DBG] Hosting started
2024-03-19 00:09:44.726 +05:00 [DBG] Connection id "0HN27FRSEIND1" received FIN.
2024-03-19 00:09:44.731 +05:00 [DBG] Connection id "0HN27FRSEIND1" accepted.
2024-03-19 00:09:44.732 +05:00 [DBG] Connection id "0HN27FRSEIND1" started.
2024-03-19 00:09:44.745 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-19 00:09:44.762 +05:00 [DBG] Connection id "0HN27FRSEIND1" stopped.
2024-03-19 00:09:44.769 +05:00 [DBG] Connection id "0HN27FRSEIND1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-19 00:09:44.789 +05:00 [DBG] Connection id "0HN27FRSEIND2" accepted.
2024-03-19 00:09:44.793 +05:00 [DBG] Connection id "0HN27FRSEIND2" started.
2024-03-19 00:09:44.844 +05:00 [DBG] Connection 0HN27FRSEIND2 established using the following protocol: "Tls12"
2024-03-19 00:09:44.902 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-19 00:09:44.922 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-19 00:09:44.944 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-19 00:09:44.945 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:09:45.101 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-19 00:09:45.310 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-19 00:09:45.331 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 433.6356ms
2024-03-19 00:09:45.453 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-19 00:09:45.453 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-19 00:09:45.457 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.2755ms
2024-03-19 00:09:45.485 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.5434ms
2024-03-19 00:09:45.879 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-19 00:09:45.879 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-19 00:09:45.879 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:09:46.002 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 123.1852ms
2024-03-19 00:10:47.653 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-19 00:10:47.722 +05:00 [DBG] Hosting starting
2024-03-19 00:10:47.741 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-19 00:10:47.749 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-19 00:10:47.758 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-19 00:10:47.759 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-19 00:10:47.759 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-19 00:10:47.760 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-19 00:10:47.764 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-19 00:10:47.768 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-19 00:10:47.769 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-19 00:10:47.769 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-19 00:10:47.769 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-19 00:10:47.776 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-19 00:10:47.778 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:10:47.781 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-19 00:10:47.783 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:10:47.789 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-19 00:10:47.790 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-19 00:10:47.791 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-19 00:10:47.792 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-19 00:10:47.978 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-19 00:10:47.978 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-19 00:10:47.979 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-19 00:10:47.979 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-19 00:10:47.979 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-19 00:10:47.981 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-19 00:10:47.981 +05:00 [INF] Hosting environment: Development
2024-03-19 00:10:47.981 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-19 00:10:47.981 +05:00 [DBG] Hosting started
2024-03-19 00:10:48.002 +05:00 [DBG] Connection id "0HN27FSFA0U4G" accepted.
2024-03-19 00:10:48.002 +05:00 [DBG] Connection id "0HN27FSFA0U4H" accepted.
2024-03-19 00:10:48.003 +05:00 [DBG] Connection id "0HN27FSFA0U4H" started.
2024-03-19 00:10:48.003 +05:00 [DBG] Connection id "0HN27FSFA0U4G" started.
2024-03-19 00:10:48.024 +05:00 [DBG] Connection id "0HN27FSFA0U4H" received FIN.
2024-03-19 00:10:48.026 +05:00 [DBG] Connection id "0HN27FSFA0U4G" received FIN.
2024-03-19 00:10:48.032 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-19 00:10:48.039 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-19 00:10:48.041 +05:00 [DBG] Connection id "0HN27FSFA0U4I" accepted.
2024-03-19 00:10:48.065 +05:00 [DBG] Connection id "0HN27FSFA0U4I" started.
2024-03-19 00:10:48.072 +05:00 [DBG] Connection id "0HN27FSFA0U4H" stopped.
2024-03-19 00:10:48.072 +05:00 [DBG] Connection id "0HN27FSFA0U4G" stopped.
2024-03-19 00:10:48.078 +05:00 [DBG] Connection id "0HN27FSFA0U4H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-19 00:10:48.079 +05:00 [DBG] Connection id "0HN27FSFA0U4G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-19 00:10:48.117 +05:00 [DBG] Connection 0HN27FSFA0U4I established using the following protocol: "Tls12"
2024-03-19 00:10:48.204 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-19 00:10:48.236 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-19 00:10:48.273 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-19 00:10:48.273 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:10:48.487 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-19 00:10:48.619 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-19 00:10:48.622 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 423.3112ms
2024-03-19 00:10:48.628 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-19 00:10:48.628 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-19 00:10:48.632 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.9043ms
2024-03-19 00:10:48.682 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.1406ms
2024-03-19 00:10:48.783 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-19 00:10:48.784 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-19 00:10:48.785 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:10:48.947 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 163.4659ms
2024-03-19 00:11:03.601 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-19 00:11:03.608 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-19 00:11:03.613 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-19 00:11:03.614 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:11:03.616 +05:00 [INF] No CORS policy found for the specified request.
2024-03-19 00:11:03.618 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-19 00:11:03.650 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-19 00:11:03.651 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:11:03.693 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-19 00:11:03.695 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-19 00:11:03.695 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-19 00:11:03.695 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-19 00:11:03.696 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-19 00:11:03.696 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-19 00:11:03.697 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:11:03.869 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-19 00:11:03.905 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:11:03.913 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-19 00:11:03.915 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-19 00:11:03.919 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-19 00:11:03.930 +05:00 [DBG] Connection id "0HN27FSFA0U4I", Request id "0HN27FSFA0U4I:00000017": started reading request body.
2024-03-19 00:11:03.930 +05:00 [DBG] Connection id "0HN27FSFA0U4I", Request id "0HN27FSFA0U4I:00000017": done reading request body.
2024-03-19 00:11:03.933 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-19 00:11:03.935 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:11:03.935 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:11:03.935 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-19 00:11:03.946 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:11:04.752 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-19 00:11:04.756 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1056.6584ms
2024-03-19 00:11:04.756 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:11:04.760 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1158.3073ms
2024-03-19 00:11:23.580 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=287366 - 0
2024-03-19 00:11:23.581 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-19 00:11:23.581 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-19 00:11:23.581 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:11:23.581 +05:00 [INF] No CORS policy found for the specified request.
2024-03-19 00:11:23.581 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-19 00:11:23.583 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-19 00:11:23.583 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:11:23.637 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-19 00:11:23.637 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-19 00:11:23.637 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-19 00:11:23.637 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-19 00:11:23.637 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-19 00:11:23.637 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-19 00:11:23.637 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:11:23.645 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:11:23.669 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-19 00:11:23.670 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-19 00:11:23.671 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-19 00:11:23.671 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-19 00:11:23.671 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-19 00:11:23.686 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-19 00:11:23.690 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-19 00:11:23.691 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-19 00:11:23.691 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-19 00:11:23.691 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-19 00:11:23.695 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-19 00:11:23.695 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-19 00:11:23.714 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 76.5587ms
2024-03-19 00:11:23.714 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:11:23.715 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=287366 - 0 - 200 - application/json;+charset=utf-8 134.7304ms
2024-03-19 00:11:32.113 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=287355 - 0
2024-03-19 00:11:32.114 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-19 00:11:32.114 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-19 00:11:32.114 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:11:32.114 +05:00 [INF] No CORS policy found for the specified request.
2024-03-19 00:11:32.114 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-19 00:11:32.135 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-19 00:11:32.135 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:11:32.136 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-19 00:11:32.136 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-19 00:11:32.136 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-19 00:11:32.136 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-19 00:11:32.136 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-19 00:11:32.136 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-19 00:11:32.136 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:11:32.138 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:11:32.138 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-19 00:11:32.139 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-19 00:11:32.139 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-19 00:11:32.139 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-19 00:11:32.139 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-19 00:11:32.139 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-19 00:11:32.165 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 29.2563ms
2024-03-19 00:11:32.165 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:11:32.190 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 87
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-19 00:11:32.195 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=287355 - 0 - 500 - text/plain;+charset=utf-8 81.8037ms
2024-03-19 00:13:19.413 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-19 00:13:19.485 +05:00 [DBG] Hosting starting
2024-03-19 00:13:19.500 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-19 00:13:19.506 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-19 00:13:19.513 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-19 00:13:19.513 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-19 00:13:19.514 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-19 00:13:19.514 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-19 00:13:19.520 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-19 00:13:19.523 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-19 00:13:19.523 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-19 00:13:19.523 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-19 00:13:19.523 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-19 00:13:19.531 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-19 00:13:19.534 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:13:19.536 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-19 00:13:19.538 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:13:19.542 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-19 00:13:19.543 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-19 00:13:19.544 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-19 00:13:19.545 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-19 00:13:19.682 +05:00 [DBG] Connection id "0HN27FTSGI5SJ" accepted.
2024-03-19 00:13:19.685 +05:00 [DBG] Connection id "0HN27FTSGI5SJ" started.
2024-03-19 00:13:19.686 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-19 00:13:19.686 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-19 00:13:19.694 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-19 00:13:19.694 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-19 00:13:19.694 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-19 00:13:19.696 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-19 00:13:19.696 +05:00 [INF] Hosting environment: Development
2024-03-19 00:13:19.696 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-19 00:13:19.696 +05:00 [DBG] Hosting started
2024-03-19 00:13:19.713 +05:00 [DBG] Connection id "0HN27FTSGI5SJ" received FIN.
2024-03-19 00:13:19.722 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-19 00:13:19.740 +05:00 [DBG] Connection id "0HN27FTSGI5SJ" stopped.
2024-03-19 00:13:19.743 +05:00 [DBG] Connection id "0HN27FTSGI5SJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-19 00:13:19.801 +05:00 [DBG] Connection id "0HN27FTSGI5SK" accepted.
2024-03-19 00:13:19.801 +05:00 [DBG] Connection id "0HN27FTSGI5SK" started.
2024-03-19 00:13:19.836 +05:00 [DBG] Connection 0HN27FTSGI5SK established using the following protocol: "Tls12"
2024-03-19 00:13:19.894 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-19 00:13:19.911 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-19 00:13:19.971 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-19 00:13:19.972 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:13:20.290 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-19 00:13:20.402 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-19 00:13:20.406 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 515.2298ms
2024-03-19 00:13:20.434 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-19 00:13:20.434 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-19 00:13:20.468 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 33.6352ms
2024-03-19 00:13:20.532 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 97.2336ms
2024-03-19 00:13:20.649 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-19 00:13:20.652 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-19 00:13:20.652 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:13:20.914 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 264.5514ms
2024-03-19 00:13:31.599 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-19 00:13:31.606 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-19 00:13:31.611 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-19 00:13:31.612 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:13:31.614 +05:00 [INF] No CORS policy found for the specified request.
2024-03-19 00:13:31.616 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-19 00:13:31.653 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-19 00:13:31.654 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:13:31.695 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-19 00:13:31.697 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-19 00:13:31.697 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-19 00:13:31.697 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-19 00:13:31.697 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-19 00:13:31.698 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-19 00:13:31.699 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:13:31.912 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-19 00:13:31.949 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:13:31.957 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-19 00:13:31.963 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-19 00:13:31.965 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-19 00:13:31.974 +05:00 [DBG] Connection id "0HN27FTSGI5SK", Request id "0HN27FTSGI5SK:00000017": started reading request body.
2024-03-19 00:13:31.978 +05:00 [DBG] Connection id "0HN27FTSGI5SK", Request id "0HN27FTSGI5SK:00000017": done reading request body.
2024-03-19 00:13:31.982 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-19 00:13:31.983 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:13:31.983 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:13:31.983 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-19 00:13:31.996 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:13:32.933 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-19 00:13:32.937 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1236.3566ms
2024-03-19 00:13:32.938 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:13:32.941 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1341.2611ms
2024-03-19 00:13:52.213 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=520037 - 0
2024-03-19 00:13:52.214 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-19 00:13:52.214 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-19 00:13:52.214 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:13:52.214 +05:00 [INF] No CORS policy found for the specified request.
2024-03-19 00:13:52.214 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-19 00:13:52.215 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-19 00:13:52.216 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:13:52.223 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-19 00:13:52.223 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-19 00:13:52.223 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-19 00:13:52.223 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-19 00:13:52.223 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-19 00:13:52.223 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-19 00:13:52.223 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:13:52.232 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:13:52.236 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-19 00:13:52.237 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-19 00:13:52.239 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-19 00:13:52.239 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-19 00:13:52.239 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-19 00:13:52.239 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-19 00:13:52.241 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 17.5641ms
2024-03-19 00:13:52.241 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:13:52.273 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 87
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-19 00:13:52.277 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=520037 - 0 - 500 - text/plain;+charset=utf-8 64.3440ms
2024-03-19 00:16:27.569 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-19 00:16:27.663 +05:00 [DBG] Hosting starting
2024-03-19 00:16:27.690 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-19 00:16:27.702 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-19 00:16:27.738 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-19 00:16:27.739 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-19 00:16:27.740 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-19 00:16:27.740 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-19 00:16:27.752 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-19 00:16:27.757 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-19 00:16:27.758 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-19 00:16:27.759 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-19 00:16:27.759 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-19 00:16:27.766 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-19 00:16:27.770 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:16:27.772 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-19 00:16:27.774 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:16:27.779 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-19 00:16:27.780 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-19 00:16:27.781 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-19 00:16:27.782 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-19 00:16:28.031 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-19 00:16:28.031 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-19 00:16:28.031 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-19 00:16:28.031 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-19 00:16:28.031 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-19 00:16:28.033 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-19 00:16:28.034 +05:00 [INF] Hosting environment: Development
2024-03-19 00:16:28.034 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-19 00:16:28.034 +05:00 [DBG] Hosting started
2024-03-19 00:16:28.072 +05:00 [DBG] Connection id "0HN27FVKL66KU" accepted.
2024-03-19 00:16:28.073 +05:00 [DBG] Connection id "0HN27FVKL66KU" started.
2024-03-19 00:16:28.083 +05:00 [DBG] Connection id "0HN27FVKL66KU" received FIN.
2024-03-19 00:16:28.093 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-19 00:16:28.114 +05:00 [DBG] Connection id "0HN27FVKL66KU" stopped.
2024-03-19 00:16:28.124 +05:00 [DBG] Connection id "0HN27FVKL66KU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-19 00:16:28.649 +05:00 [DBG] Connection id "0HN27FVKL66KV" accepted.
2024-03-19 00:16:28.650 +05:00 [DBG] Connection id "0HN27FVKL66KV" started.
2024-03-19 00:16:28.685 +05:00 [DBG] Connection 0HN27FVKL66KV established using the following protocol: "Tls12"
2024-03-19 00:16:28.738 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-19 00:16:28.757 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-19 00:16:28.790 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-19 00:16:28.791 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:16:28.933 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-19 00:16:29.025 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-19 00:16:29.028 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 292.3575ms
2024-03-19 00:16:29.112 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-19 00:16:29.114 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-19 00:16:29.120 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 6.0011ms
2024-03-19 00:16:29.138 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.2874ms
2024-03-19 00:16:30.245 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-19 00:16:30.246 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-19 00:16:30.246 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:16:30.366 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 120.3818ms
2024-03-19 00:16:50.791 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-19 00:16:50.800 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-19 00:16:50.806 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-19 00:16:50.807 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:16:50.809 +05:00 [INF] No CORS policy found for the specified request.
2024-03-19 00:16:50.812 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-19 00:16:50.848 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-19 00:16:50.849 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:16:50.906 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-19 00:16:50.908 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-19 00:16:50.910 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-19 00:16:50.911 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-19 00:16:50.911 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-19 00:16:50.912 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-19 00:16:50.914 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:16:51.124 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-19 00:16:51.176 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:16:51.183 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-19 00:16:51.186 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-19 00:16:51.188 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-19 00:16:51.199 +05:00 [DBG] Connection id "0HN27FVKL66KV", Request id "0HN27FVKL66KV:00000017": started reading request body.
2024-03-19 00:16:51.199 +05:00 [DBG] Connection id "0HN27FVKL66KV", Request id "0HN27FVKL66KV:00000017": done reading request body.
2024-03-19 00:16:51.206 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-19 00:16:51.207 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:16:51.207 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:16:51.207 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-19 00:16:51.222 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:16:52.112 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-19 00:16:52.116 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1200.4884ms
2024-03-19 00:16:52.116 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:16:52.119 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1328.2241ms
2024-03-19 00:17:08.338 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=580245 - 0
2024-03-19 00:17:08.339 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-19 00:17:08.339 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-19 00:17:08.339 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:17:08.339 +05:00 [INF] No CORS policy found for the specified request.
2024-03-19 00:17:08.340 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-19 00:17:08.341 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-19 00:17:08.345 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:17:08.355 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-19 00:17:08.355 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-19 00:17:08.355 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-19 00:17:08.355 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-19 00:17:08.355 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-19 00:17:08.355 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-19 00:17:08.355 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:17:08.365 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:17:08.371 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-19 00:17:08.373 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-19 00:17:08.374 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-19 00:17:08.375 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-19 00:17:08.375 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-19 00:17:08.377 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-19 00:17:08.380 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 25.3994ms
2024-03-19 00:17:08.381 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:17:08.430 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 87
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-19 00:17:08.433 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=580245 - 0 - 500 - text/plain;+charset=utf-8 95.4598ms
2024-03-19 00:18:59.576 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-19 00:18:59.737 +05:00 [DBG] Hosting starting
2024-03-19 00:18:59.802 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-19 00:18:59.808 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-19 00:18:59.815 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-19 00:18:59.815 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-19 00:18:59.816 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-19 00:18:59.816 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-19 00:18:59.821 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-19 00:18:59.824 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-19 00:18:59.824 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-19 00:18:59.824 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-19 00:18:59.825 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-19 00:18:59.832 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-19 00:18:59.838 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:18:59.851 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-19 00:18:59.853 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-19 00:18:59.857 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-19 00:18:59.858 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-19 00:18:59.859 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-19 00:18:59.860 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-19 00:19:00.023 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-19 00:19:00.024 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-19 00:19:00.024 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-19 00:19:00.024 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-19 00:19:00.024 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-19 00:19:00.027 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-19 00:19:00.027 +05:00 [INF] Hosting environment: Development
2024-03-19 00:19:00.027 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-19 00:19:00.027 +05:00 [DBG] Hosting started
2024-03-19 00:19:00.460 +05:00 [DBG] Connection id "0HN27G122F80F" accepted.
2024-03-19 00:19:00.461 +05:00 [DBG] Connection id "0HN27G122F80F" started.
2024-03-19 00:19:00.466 +05:00 [DBG] Connection id "0HN27G122F80F" received FIN.
2024-03-19 00:19:00.472 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-19 00:19:00.488 +05:00 [DBG] Connection id "0HN27G122F80G" accepted.
2024-03-19 00:19:00.488 +05:00 [DBG] Connection id "0HN27G122F80G" started.
2024-03-19 00:19:00.496 +05:00 [DBG] Connection id "0HN27G122F80F" stopped.
2024-03-19 00:19:00.501 +05:00 [DBG] Connection id "0HN27G122F80F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-19 00:19:00.528 +05:00 [DBG] Connection 0HN27G122F80G established using the following protocol: "Tls12"
2024-03-19 00:19:00.582 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-19 00:19:00.606 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-19 00:19:00.635 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-19 00:19:00.635 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:19:00.798 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-19 00:19:00.904 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-19 00:19:00.906 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-19 00:19:00.906 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 328.8116ms
2024-03-19 00:19:00.910 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-19 00:19:00.916 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.8407ms
2024-03-19 00:19:00.989 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 83.1398ms
2024-03-19 00:19:01.140 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-19 00:19:01.141 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-19 00:19:01.141 +05:00 [DBG] Request did not match any endpoints
2024-03-19 00:19:01.320 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 176.5275ms
2024-03-19 00:19:07.958 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-19 00:19:07.967 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-19 00:19:07.972 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-19 00:19:07.974 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:19:07.976 +05:00 [INF] No CORS policy found for the specified request.
2024-03-19 00:19:07.978 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-19 00:19:08.023 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-19 00:19:08.024 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:19:08.072 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-19 00:19:08.074 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-19 00:19:08.075 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-19 00:19:08.075 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-19 00:19:08.075 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-19 00:19:08.075 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-19 00:19:08.080 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:19:08.297 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-19 00:19:08.338 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:19:08.347 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-19 00:19:08.350 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-19 00:19:08.353 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-19 00:19:08.366 +05:00 [DBG] Connection id "0HN27G122F80G", Request id "0HN27G122F80G:00000017": started reading request body.
2024-03-19 00:19:08.366 +05:00 [DBG] Connection id "0HN27G122F80G", Request id "0HN27G122F80G:00000017": done reading request body.
2024-03-19 00:19:08.371 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-19 00:19:08.371 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:19:08.371 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:19:08.371 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-19 00:19:08.390 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-19 00:19:09.175 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-19 00:19:09.180 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1100.0984ms
2024-03-19 00:19:09.180 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-19 00:19:09.182 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1224.4352ms
2024-03-19 00:19:25.861 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=867181 - 0
2024-03-19 00:19:25.863 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-19 00:19:25.863 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-19 00:19:25.863 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:19:25.863 +05:00 [INF] No CORS policy found for the specified request.
2024-03-19 00:19:25.863 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-19 00:19:25.864 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-19 00:19:25.864 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:19:25.871 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-19 00:19:25.871 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-19 00:19:25.871 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-19 00:19:25.871 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-19 00:19:25.871 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-19 00:19:25.871 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-19 00:19:25.871 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:19:25.881 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:19:25.885 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-19 00:19:25.886 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-19 00:19:25.888 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-19 00:19:25.888 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-19 00:19:25.888 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-19 00:19:25.889 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-19 00:19:25.893 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-19 00:19:25.894 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-19 00:19:25.895 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-19 00:19:25.895 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-19 00:19:25.895 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-19 00:19:25.896 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-19 00:19:25.904 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 32.6745ms
2024-03-19 00:19:25.904 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:19:25.904 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=867181 - 0 - 200 - application/json;+charset=utf-8 42.8902ms
2024-03-19 00:19:32.388 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=867181 - 0
2024-03-19 00:19:32.388 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-19 00:19:32.388 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-19 00:19:32.388 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:19:32.388 +05:00 [INF] No CORS policy found for the specified request.
2024-03-19 00:19:32.388 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-19 00:19:32.391 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-19 00:19:32.391 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:19:32.391 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-19 00:19:32.392 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-19 00:19:32.392 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-19 00:19:32.392 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-19 00:19:32.392 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-19 00:19:32.392 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-19 00:19:32.393 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:19:32.396 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-19 00:19:32.396 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-19 00:19:32.397 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-19 00:19:32.397 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-19 00:19:32.397 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-19 00:19:32.397 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-19 00:19:32.397 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-19 00:19:32.398 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 5.91ms
2024-03-19 00:19:32.398 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-19 00:19:32.438 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 87
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-19 00:19:32.441 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=867181 - 0 - 500 - text/plain;+charset=utf-8 54.4362ms
2024-03-19 00:22:22.591 +05:00 [DBG] Connection id "0HN27G122F80G" received FIN.
2024-03-19 00:22:22.594 +05:00 [DBG] The connection queue processing loop for 0HN27G122F80G completed.
2024-03-19 00:22:22.597 +05:00 [DBG] Connection id "0HN27G122F80G" is closed. The last processed stream ID was 27.
2024-03-19 00:22:22.597 +05:00 [DBG] Connection id "0HN27G122F80G" sending FIN because: "The client closed the connection."
2024-03-19 00:22:22.603 +05:00 [DBG] Connection id "0HN27G122F80G" stopped.
2024-03-20 17:40:18.965 +05:00 [DBG] Connection id "0HN27G122F80H" received FIN.
2024-03-20 17:40:18.966 +05:00 [DBG] Connection id "0HN27G122F80H" accepted.
2024-03-20 17:40:18.966 +05:00 [DBG] Connection id "0HN27G122F80H" started.
2024-03-20 17:40:18.966 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 17:40:18.967 +05:00 [DBG] Connection id "0HN27G122F80H" stopped.
2024-03-20 17:40:18.967 +05:00 [DBG] Connection id "0HN27G122F80H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 17:40:19.536 +05:00 [DBG] Connection id "0HN27G122F80I" accepted.
2024-03-20 17:40:19.536 +05:00 [DBG] Connection id "0HN27G122F80I" started.
2024-03-20 17:40:19.572 +05:00 [DBG] Connection 0HN27G122F80I established using the following protocol: "Tls12"
2024-03-20 17:40:20.057 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger - -
2024-03-20 17:40:20.069 +05:00 [DBG] No candidates found for the request path '/swagger'
2024-03-20 17:40:20.069 +05:00 [DBG] Request did not match any endpoints
2024-03-20 17:40:20.070 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger - - - 0 - - 13.1802ms
2024-03-20 17:40:20.146 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 17:40:20.146 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 17:40:20.146 +05:00 [DBG] Request did not match any endpoints
2024-03-20 17:40:20.147 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 17:40:20.157 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 17:40:20.157 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 10.8410ms
2024-03-20 17:40:20.179 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/swagger-ui.css - -
2024-03-20 17:40:20.179 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 17:40:20.179 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-03-20 17:40:20.180 +05:00 [DBG] Request did not match any endpoints
2024-03-20 17:40:20.180 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 17:40:20.181 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 0.6968ms
2024-03-20 17:40:20.199 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.9762ms
2024-03-20 17:40:21.010 +05:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2024-03-20 17:40:21.112 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-03-20 17:40:21.112 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/swagger-ui.css - - - 0 143943 text/css 933.2137ms
2024-03-20 17:40:21.840 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/favicon-16x16.png - -
2024-03-20 17:40:21.840 +05:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2024-03-20 17:40:21.840 +05:00 [DBG] Request did not match any endpoints
2024-03-20 17:40:21.841 +05:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-03-20 17:40:21.842 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/favicon-16x16.png - - - 200 665 image/png 1.3521ms
2024-03-20 17:40:21.969 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 17:40:21.969 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 17:40:21.969 +05:00 [DBG] Request did not match any endpoints
2024-03-20 17:40:21.971 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2.2252ms
2024-03-20 17:40:44.602 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 17:40:44.602 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 17:40:44.602 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 17:40:44.603 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 17:40:44.603 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 17:40:44.603 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 17:40:44.604 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 17:40:44.605 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 17:40:44.863 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 17:40:44.863 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 17:40:44.863 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 17:40:44.863 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 17:40:44.863 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 17:40:44.864 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 17:40:44.864 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 17:40:44.864 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 17:40:44.864 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 17:40:44.864 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 17:40:44.864 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 17:40:44.865 +05:00 [DBG] Connection id "0HN27G122F80I", Request id "0HN27G122F80I:0000001D": started reading request body.
2024-03-20 17:40:44.865 +05:00 [DBG] Connection id "0HN27G122F80I", Request id "0HN27G122F80I:0000001D": done reading request body.
2024-03-20 17:40:44.865 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 17:40:44.865 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 17:40:44.865 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 17:40:44.865 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 17:40:44.865 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 17:40:46.015 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 17:40:46.015 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1151.4587ms
2024-03-20 17:40:46.015 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 17:40:46.015 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1413.1863ms
2024-03-20 17:41:11.296 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=186211 - 0
2024-03-20 17:41:11.296 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-20 17:41:11.296 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-20 17:41:11.296 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 17:41:11.296 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 17:41:11.296 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 17:41:11.297 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 17:41:11.297 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 17:41:11.297 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 17:41:11.297 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 17:41:11.297 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 17:41:11.297 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 17:41:11.297 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 17:41:11.297 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 17:41:11.297 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 17:41:11.298 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 17:41:11.298 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-20 17:41:11.298 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-20 17:41:11.298 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 17:41:11.298 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 17:41:11.298 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-20 17:41:11.298 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-20 17:41:11.299 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-20 17:41:11.299 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-20 17:41:11.299 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-20 17:41:11.299 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-20 17:41:11.299 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-20 17:41:11.299 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-20 17:41:11.299 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 2.2042ms
2024-03-20 17:41:11.299 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 17:41:11.300 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=186211 - 0 - 200 - application/json;+charset=utf-8 3.7419ms
2024-03-20 17:41:19.532 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=186211 - 0
2024-03-20 17:41:19.532 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-20 17:41:19.532 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-20 17:41:19.532 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 17:41:19.532 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 17:41:19.532 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 17:41:19.532 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 17:41:19.532 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 17:41:19.532 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 17:41:19.532 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 17:41:19.532 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 17:41:19.532 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 17:41:19.532 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 17:41:19.532 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 17:41:19.532 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 17:41:19.533 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 17:41:19.533 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-20 17:41:19.533 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-20 17:41:19.533 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 17:41:19.533 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 17:41:19.533 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-20 17:41:19.533 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-20 17:41:19.533 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 0.9383ms
2024-03-20 17:41:19.534 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 17:41:19.537 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 87
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-20 17:41:19.539 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=186211 - 0 - 500 - text/plain;+charset=utf-8 6.9454ms
2024-03-20 17:44:11.061 +05:00 [DBG] Connection id "0HN27G122F80I" is closing.
2024-03-20 17:44:11.061 +05:00 [DBG] Connection id "0HN27G122F80I" received FIN.
2024-03-20 17:44:11.061 +05:00 [DBG] Connection id "0HN27G122F80I" is closed. The last processed stream ID was 33.
2024-03-20 17:44:11.061 +05:00 [DBG] Connection id "0HN27G122F80I" sending FIN because: "The client closed the connection."
2024-03-20 17:44:11.061 +05:00 [DBG] The connection queue processing loop for 0HN27G122F80I completed.
2024-03-20 17:44:11.062 +05:00 [DBG] Connection id "0HN27G122F80I" stopped.
2024-03-20 17:59:56.814 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 17:59:56.962 +05:00 [DBG] Hosting starting
2024-03-20 17:59:56.976 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 17:59:56.983 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 17:59:57.151 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 17:59:57.299 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 17:59:57.344 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 17:59:57.480 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 17:59:57.549 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 17:59:57.555 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 17:59:57.555 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 17:59:57.555 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 17:59:57.555 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 17:59:57.565 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 17:59:57.567 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 17:59:57.571 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 17:59:57.572 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 17:59:57.577 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 17:59:57.578 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 17:59:57.579 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 17:59:57.580 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 17:59:58.117 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 17:59:58.117 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 17:59:58.117 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 17:59:58.117 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 17:59:58.117 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 17:59:58.119 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 17:59:58.120 +05:00 [INF] Hosting environment: Development
2024-03-20 17:59:58.120 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 17:59:58.120 +05:00 [DBG] Hosting started
2024-03-20 17:59:58.405 +05:00 [DBG] Connection id "0HN28RMIQHNHP" accepted.
2024-03-20 17:59:58.405 +05:00 [DBG] Connection id "0HN28RMIQHNHP" started.
2024-03-20 17:59:58.423 +05:00 [DBG] Connection id "0HN28RMIQHNHP" received FIN.
2024-03-20 17:59:58.429 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 17:59:58.446 +05:00 [DBG] Connection id "0HN28RMIQHNHP" stopped.
2024-03-20 17:59:58.448 +05:00 [DBG] Connection id "0HN28RMIQHNHP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 17:59:58.673 +05:00 [DBG] Connection id "0HN28RMIQHNHQ" accepted.
2024-03-20 17:59:58.673 +05:00 [DBG] Connection id "0HN28RMIQHNHQ" started.
2024-03-20 17:59:58.743 +05:00 [DBG] Connection 0HN28RMIQHNHQ established using the following protocol: "Tls12"
2024-03-20 17:59:58.925 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 17:59:58.963 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 17:59:58.986 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 17:59:58.986 +05:00 [DBG] Request did not match any endpoints
2024-03-20 17:59:59.217 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 17:59:59.431 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 17:59:59.433 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 510.5558ms
2024-03-20 17:59:59.466 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 17:59:59.466 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 17:59:59.472 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.5144ms
2024-03-20 17:59:59.492 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.0251ms
2024-03-20 17:59:59.949 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/favicon-16x16.png - -
2024-03-20 17:59:59.950 +05:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2024-03-20 17:59:59.950 +05:00 [DBG] Request did not match any endpoints
2024-03-20 17:59:59.957 +05:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-03-20 17:59:59.957 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/favicon-16x16.png - - - 200 665 image/png 7.8042ms
2024-03-20 18:00:00.236 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 18:00:00.236 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 18:00:00.236 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:00:00.369 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.6426ms
2024-03-20 18:02:51.130 +05:00 [DBG] Connection id "0HN28RMIQHNHQ" received FIN.
2024-03-20 18:02:51.137 +05:00 [DBG] Connection id "0HN28RMIQHNHQ" is closed. The last processed stream ID was 23.
2024-03-20 18:02:51.138 +05:00 [DBG] Connection id "0HN28RMIQHNHQ" sending FIN because: "The client closed the connection."
2024-03-20 18:02:51.139 +05:00 [DBG] The connection queue processing loop for 0HN28RMIQHNHQ completed.
2024-03-20 18:02:51.141 +05:00 [DBG] Connection id "0HN28RMIQHNHQ" stopped.
2024-03-20 18:03:27.325 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 18:03:27.422 +05:00 [DBG] Hosting starting
2024-03-20 18:03:27.440 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 18:03:27.460 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 18:03:27.468 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 18:03:27.468 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 18:03:27.469 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 18:03:27.469 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 18:03:27.473 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 18:03:27.502 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 18:03:27.503 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 18:03:27.503 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 18:03:27.503 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 18:03:27.520 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 18:03:27.534 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:03:27.540 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 18:03:27.542 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:03:27.547 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 18:03:27.550 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 18:03:27.553 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 18:03:27.553 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 18:03:27.816 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 18:03:27.816 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 18:03:27.816 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 18:03:27.816 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 18:03:27.816 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 18:03:27.819 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 18:03:27.819 +05:00 [INF] Hosting environment: Development
2024-03-20 18:03:27.819 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 18:03:27.819 +05:00 [DBG] Hosting started
2024-03-20 18:03:27.828 +05:00 [DBG] Connection id "0HN28ROH7OO91" received FIN.
2024-03-20 18:03:27.834 +05:00 [DBG] Connection id "0HN28ROH7OO91" accepted.
2024-03-20 18:03:27.834 +05:00 [DBG] Connection id "0HN28ROH7OO91" started.
2024-03-20 18:03:27.840 +05:00 [DBG] Connection id "0HN28ROH7OO92" accepted.
2024-03-20 18:03:27.841 +05:00 [DBG] Connection id "0HN28ROH7OO92" started.
2024-03-20 18:03:27.860 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 18:03:27.884 +05:00 [DBG] Connection id "0HN28ROH7OO91" stopped.
2024-03-20 18:03:27.888 +05:00 [DBG] Connection id "0HN28ROH7OO91" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 18:03:27.969 +05:00 [DBG] Connection 0HN28ROH7OO92 established using the following protocol: "Tls12"
2024-03-20 18:03:28.027 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 18:03:28.048 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 18:03:28.075 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 18:03:28.076 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:03:28.267 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 18:03:28.660 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 18:03:28.667 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 640.5296ms
2024-03-20 18:03:28.695 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 18:03:28.695 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 18:03:28.701 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.8675ms
2024-03-20 18:03:28.742 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.8172ms
2024-03-20 18:03:29.231 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 18:03:29.232 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 18:03:29.232 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:03:29.486 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 255.9272ms
2024-03-20 18:03:43.406 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 18:03:43.417 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:03:43.480 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:03:43.482 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:03:43.605 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:03:43.607 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:03:44.618 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:03:44.619 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:03:45.215 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:03:45.217 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:03:45.217 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:03:45.218 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:03:45.218 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:03:45.218 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:03:45.220 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:03:48.441 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 18:03:48.702 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:03:48.746 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:03:48.749 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:03:48.750 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:03:48.822 +05:00 [DBG] Connection id "0HN28ROH7OO92", Request id "0HN28ROH7OO92:00000017": started reading request body.
2024-03-20 18:03:48.822 +05:00 [DBG] Connection id "0HN28ROH7OO92", Request id "0HN28ROH7OO92:00000017": done reading request body.
2024-03-20 18:03:48.826 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:03:48.826 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:03:48.826 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:03:48.826 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:03:48.869 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:03:50.578 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 18:03:50.584 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 5360.2653ms
2024-03-20 18:03:50.585 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:03:50.587 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 7180.8496ms
2024-03-20 18:05:36.811 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 18:05:36.864 +05:00 [DBG] Hosting starting
2024-03-20 18:05:36.878 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 18:05:36.886 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 18:05:36.892 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 18:05:36.892 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 18:05:36.893 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 18:05:36.893 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 18:05:36.898 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 18:05:36.901 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 18:05:36.901 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 18:05:36.901 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 18:05:36.901 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 18:05:36.908 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 18:05:36.910 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:05:36.913 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 18:05:36.914 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:05:36.919 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 18:05:36.920 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 18:05:36.921 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 18:05:36.922 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 18:05:37.040 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 18:05:37.040 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 18:05:37.040 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 18:05:37.040 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 18:05:37.040 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 18:05:37.042 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 18:05:37.042 +05:00 [INF] Hosting environment: Development
2024-03-20 18:05:37.042 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 18:05:37.042 +05:00 [DBG] Hosting started
2024-03-20 18:05:37.139 +05:00 [DBG] Connection id "0HN28RPNOVBMH" accepted.
2024-03-20 18:05:37.139 +05:00 [DBG] Connection id "0HN28RPNOVBMI" accepted.
2024-03-20 18:05:37.140 +05:00 [DBG] Connection id "0HN28RPNOVBMI" started.
2024-03-20 18:05:37.140 +05:00 [DBG] Connection id "0HN28RPNOVBMH" started.
2024-03-20 18:05:37.153 +05:00 [DBG] Connection id "0HN28RPNOVBMH" received FIN.
2024-03-20 18:05:37.154 +05:00 [DBG] Connection id "0HN28RPNOVBMI" received FIN.
2024-03-20 18:05:37.162 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 18:05:37.162 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 18:05:37.170 +05:00 [DBG] Connection id "0HN28RPNOVBMJ" accepted.
2024-03-20 18:05:37.176 +05:00 [DBG] Connection id "0HN28RPNOVBMJ" started.
2024-03-20 18:05:37.180 +05:00 [DBG] Connection id "0HN28RPNOVBMI" stopped.
2024-03-20 18:05:37.180 +05:00 [DBG] Connection id "0HN28RPNOVBMH" stopped.
2024-03-20 18:05:37.185 +05:00 [DBG] Connection id "0HN28RPNOVBMI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 18:05:37.186 +05:00 [DBG] Connection id "0HN28RPNOVBMH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 18:05:37.216 +05:00 [DBG] Connection 0HN28RPNOVBMJ established using the following protocol: "Tls12"
2024-03-20 18:05:37.269 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 18:05:37.287 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 18:05:37.314 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 18:05:37.315 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:05:37.455 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 18:05:37.529 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 18:05:37.531 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 265.4856ms
2024-03-20 18:05:37.574 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 18:05:37.574 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 18:05:37.583 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 8.2418ms
2024-03-20 18:05:37.610 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.4384ms
2024-03-20 18:05:37.835 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 18:05:37.836 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 18:05:37.836 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:05:38.025 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 190.2803ms
2024-03-20 18:05:51.696 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 18:05:51.704 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:05:51.709 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:05:51.710 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:05:51.712 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:05:51.716 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:05:51.748 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:05:51.750 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:05:51.793 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:05:51.794 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:05:51.795 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:05:51.795 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:05:51.795 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:05:51.795 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:05:51.799 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:05:51.987 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 18:05:52.035 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:05:52.042 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:05:52.046 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:05:52.048 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:05:52.062 +05:00 [DBG] Connection id "0HN28RPNOVBMJ", Request id "0HN28RPNOVBMJ:00000017": started reading request body.
2024-03-20 18:05:52.062 +05:00 [DBG] Connection id "0HN28RPNOVBMJ", Request id "0HN28RPNOVBMJ:00000017": done reading request body.
2024-03-20 18:05:52.068 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:05:52.068 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:05:52.068 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:05:52.068 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:05:52.079 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:05:53.292 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 18:05:53.296 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1497.5051ms
2024-03-20 18:05:53.298 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:05:53.300 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1603.9307ms
2024-03-20 18:07:47.589 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 18:07:47.651 +05:00 [DBG] Hosting starting
2024-03-20 18:07:47.668 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 18:07:47.678 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 18:07:47.687 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 18:07:47.688 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 18:07:47.689 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 18:07:47.690 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 18:07:47.698 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 18:07:47.704 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 18:07:47.704 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 18:07:47.704 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 18:07:47.704 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 18:07:47.713 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 18:07:47.716 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:07:47.720 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 18:07:47.722 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:07:47.727 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 18:07:47.728 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 18:07:47.730 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 18:07:47.730 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 18:07:47.904 +05:00 [DBG] Connection id "0HN28RQUO1L5M" received FIN.
2024-03-20 18:07:47.905 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 18:07:47.905 +05:00 [DBG] Connection id "0HN28RQUO1L5N" accepted.
2024-03-20 18:07:47.905 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 18:07:47.905 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 18:07:47.906 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 18:07:47.906 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 18:07:47.906 +05:00 [DBG] Connection id "0HN28RQUO1L5N" started.
2024-03-20 18:07:47.906 +05:00 [DBG] Connection id "0HN28RQUO1L5M" accepted.
2024-03-20 18:07:47.907 +05:00 [DBG] Connection id "0HN28RQUO1L5M" started.
2024-03-20 18:07:47.906 +05:00 [DBG] Connection id "0HN28RQUO1L5N" received FIN.
2024-03-20 18:07:47.908 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 18:07:47.909 +05:00 [INF] Hosting environment: Development
2024-03-20 18:07:47.909 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 18:07:47.909 +05:00 [DBG] Hosting started
2024-03-20 18:07:47.917 +05:00 [DBG] Connection id "0HN28RQUO1L5O" accepted.
2024-03-20 18:07:47.918 +05:00 [DBG] Connection id "0HN28RQUO1L5O" started.
2024-03-20 18:07:47.924 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 18:07:47.951 +05:00 [DBG] Connection id "0HN28RQUO1L5N" stopped.
2024-03-20 18:07:47.955 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 18:07:47.956 +05:00 [DBG] Connection id "0HN28RQUO1L5M" stopped.
2024-03-20 18:07:47.957 +05:00 [DBG] Connection id "0HN28RQUO1L5N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 18:07:47.963 +05:00 [DBG] Connection id "0HN28RQUO1L5M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 18:07:48.035 +05:00 [DBG] Connection 0HN28RQUO1L5O established using the following protocol: "Tls12"
2024-03-20 18:07:48.201 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 18:07:48.227 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 18:07:48.267 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 18:07:48.268 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:07:48.435 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 18:07:48.520 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 18:07:48.524 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 327.8087ms
2024-03-20 18:07:48.571 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 18:07:48.571 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 18:07:48.582 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 10.7894ms
2024-03-20 18:07:48.623 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.8977ms
2024-03-20 18:07:48.790 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 18:07:48.791 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 18:07:48.791 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:07:48.951 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.6126ms
2024-03-20 18:08:03.377 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 18:08:03.385 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:08:03.391 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:08:03.392 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:08:03.394 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:08:03.396 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:08:03.434 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:08:03.435 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:08:03.486 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:08:03.490 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:08:03.491 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:08:03.492 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:08:03.492 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:08:03.492 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:08:03.494 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:08:03.666 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 18:08:03.712 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:08:03.718 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:08:03.721 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:08:03.726 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:08:03.736 +05:00 [DBG] Connection id "0HN28RQUO1L5O", Request id "0HN28RQUO1L5O:00000017": started reading request body.
2024-03-20 18:08:03.736 +05:00 [DBG] Connection id "0HN28RQUO1L5O", Request id "0HN28RQUO1L5O:00000017": done reading request body.
2024-03-20 18:08:03.739 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:08:03.741 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:08:03.741 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:08:03.741 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:08:03.750 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:08:04.741 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 18:08:04.745 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1248.9213ms
2024-03-20 18:08:04.745 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:08:04.750 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1372.1876ms
2024-03-20 18:09:04.403 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 18:09:04.466 +05:00 [DBG] Hosting starting
2024-03-20 18:09:04.480 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 18:09:04.488 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 18:09:04.493 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 18:09:04.494 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 18:09:04.494 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 18:09:04.494 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 18:09:04.498 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 18:09:04.501 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 18:09:04.502 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 18:09:04.502 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 18:09:04.502 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 18:09:04.508 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 18:09:04.510 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:09:04.513 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 18:09:04.515 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:09:04.520 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 18:09:04.521 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 18:09:04.523 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 18:09:04.523 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 18:09:04.658 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 18:09:04.658 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 18:09:04.659 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 18:09:04.659 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 18:09:04.659 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 18:09:04.663 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 18:09:04.664 +05:00 [INF] Hosting environment: Development
2024-03-20 18:09:04.664 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 18:09:04.664 +05:00 [DBG] Hosting started
2024-03-20 18:09:04.730 +05:00 [DBG] Connection id "0HN28RRLKN2F0" accepted.
2024-03-20 18:09:04.731 +05:00 [DBG] Connection id "0HN28RRLKN2F0" started.
2024-03-20 18:09:04.734 +05:00 [DBG] Connection id "0HN28RRLKN2F0" received FIN.
2024-03-20 18:09:04.744 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 18:09:04.760 +05:00 [DBG] Connection id "0HN28RRLKN2F0" stopped.
2024-03-20 18:09:04.762 +05:00 [DBG] Connection id "0HN28RRLKN2F0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 18:09:05.029 +05:00 [DBG] Connection id "0HN28RRLKN2F1" accepted.
2024-03-20 18:09:05.030 +05:00 [DBG] Connection id "0HN28RRLKN2F1" started.
2024-03-20 18:09:05.072 +05:00 [DBG] Connection 0HN28RRLKN2F1 established using the following protocol: "Tls12"
2024-03-20 18:09:05.130 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 18:09:05.148 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 18:09:05.173 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 18:09:05.173 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:09:05.310 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 18:09:05.407 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 18:09:05.408 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 18:09:05.410 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 284.0149ms
2024-03-20 18:09:05.412 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 18:09:05.421 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 7.1807ms
2024-03-20 18:09:05.453 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.6129ms
2024-03-20 18:09:05.632 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 18:09:05.632 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 18:09:05.633 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:09:05.765 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.0249ms
2024-03-20 18:09:05.794 +05:00 [DBG] Connection id "0HN28RRLKN2F2" received FIN.
2024-03-20 18:09:05.794 +05:00 [DBG] Connection id "0HN28RRLKN2F2" accepted.
2024-03-20 18:09:05.794 +05:00 [DBG] Connection id "0HN28RRLKN2F2" started.
2024-03-20 18:09:05.795 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 18:09:05.795 +05:00 [DBG] Connection id "0HN28RRLKN2F2" stopped.
2024-03-20 18:09:05.795 +05:00 [DBG] Connection id "0HN28RRLKN2F2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 18:09:12.798 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 18:09:12.807 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:09:12.811 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:09:12.812 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:09:12.814 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:09:12.816 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:09:12.850 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:09:12.852 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:09:12.893 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:09:12.894 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:09:12.895 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:09:12.895 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:09:12.895 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:09:12.895 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:09:12.899 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:09:13.128 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 18:09:13.165 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:09:13.170 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:09:13.174 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:09:13.176 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:09:13.186 +05:00 [DBG] Connection id "0HN28RRLKN2F1", Request id "0HN28RRLKN2F1:00000017": started reading request body.
2024-03-20 18:09:13.186 +05:00 [DBG] Connection id "0HN28RRLKN2F1", Request id "0HN28RRLKN2F1:00000017": done reading request body.
2024-03-20 18:09:13.189 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:09:13.190 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:09:13.190 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:09:13.190 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:09:13.199 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:09:14.303 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 18:09:14.310 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1408.1038ms
2024-03-20 18:09:14.310 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:09:14.313 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1515.7241ms
2024-03-20 18:09:22.228 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 18:09:22.229 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:09:22.229 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:09:22.229 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:09:22.229 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:09:22.229 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:09:22.231 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:09:22.231 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:09:22.232 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:09:22.232 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:09:22.232 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:09:22.232 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:09:22.232 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:09:22.232 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:09:22.233 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:09:22.267 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:09:22.268 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:09:22.268 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:09:22.268 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:09:22.269 +05:00 [DBG] Connection id "0HN28RRLKN2F1", Request id "0HN28RRLKN2F1:00000019": started reading request body.
2024-03-20 18:09:22.269 +05:00 [DBG] Connection id "0HN28RRLKN2F1", Request id "0HN28RRLKN2F1:00000019": done reading request body.
2024-03-20 18:09:22.269 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:09:22.269 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:09:22.269 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:09:22.269 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:09:22.270 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:09:23.337 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 18:09:23.338 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1105.037ms
2024-03-20 18:09:23.338 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:09:23.338 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1110.1717ms
2024-03-20 18:09:34.373 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 18:09:34.439 +05:00 [DBG] Hosting starting
2024-03-20 18:09:34.455 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 18:09:34.462 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 18:09:34.469 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 18:09:34.470 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 18:09:34.470 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 18:09:34.470 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 18:09:34.475 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 18:09:34.478 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 18:09:34.478 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 18:09:34.478 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 18:09:34.479 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 18:09:34.490 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 18:09:34.492 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:09:34.495 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 18:09:34.497 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:09:34.502 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 18:09:34.503 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 18:09:34.504 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 18:09:34.504 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 18:09:34.629 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 18:09:34.630 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 18:09:34.630 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 18:09:34.630 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 18:09:34.630 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 18:09:34.632 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 18:09:34.633 +05:00 [INF] Hosting environment: Development
2024-03-20 18:09:34.633 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 18:09:34.633 +05:00 [DBG] Hosting started
2024-03-20 18:09:34.804 +05:00 [DBG] Connection id "0HN28RRUJGRLL" accepted.
2024-03-20 18:09:34.805 +05:00 [DBG] Connection id "0HN28RRUJGRLL" started.
2024-03-20 18:09:34.830 +05:00 [DBG] Connection id "0HN28RRUJGRLL" received FIN.
2024-03-20 18:09:34.841 +05:00 [DBG] Connection id "0HN28RRUJGRLM" accepted.
2024-03-20 18:09:34.841 +05:00 [DBG] Connection id "0HN28RRUJGRLM" started.
2024-03-20 18:09:34.840 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 18:09:34.857 +05:00 [DBG] Connection id "0HN28RRUJGRLL" stopped.
2024-03-20 18:09:34.860 +05:00 [DBG] Connection id "0HN28RRUJGRLL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 18:09:34.880 +05:00 [DBG] Connection 0HN28RRUJGRLM established using the following protocol: "Tls12"
2024-03-20 18:09:34.940 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 18:09:34.962 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 18:09:34.999 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 18:09:35.000 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:09:35.178 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 18:09:35.263 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 18:09:35.268 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 331.1980ms
2024-03-20 18:09:35.302 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 18:09:35.302 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 18:09:35.316 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 13.2139ms
2024-03-20 18:09:35.360 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.5514ms
2024-03-20 18:09:35.550 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 18:09:35.550 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 18:09:35.550 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:09:35.711 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.9947ms
2024-03-20 18:09:42.266 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 18:09:42.274 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:09:42.279 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:09:42.279 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:09:42.282 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:09:42.284 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:09:42.317 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:09:42.318 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:09:42.367 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:09:42.368 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:09:42.368 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:09:42.368 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:09:42.369 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:09:42.369 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:09:42.370 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:09:42.566 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 18:09:42.602 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:09:42.609 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:09:42.612 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:09:42.613 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:09:42.626 +05:00 [DBG] Connection id "0HN28RRUJGRLM", Request id "0HN28RRUJGRLM:00000017": started reading request body.
2024-03-20 18:09:42.626 +05:00 [DBG] Connection id "0HN28RRUJGRLM", Request id "0HN28RRUJGRLM:00000017": done reading request body.
2024-03-20 18:09:42.630 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:09:42.633 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:09:42.633 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:09:42.633 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:09:42.642 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:09:43.664 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 18:09:43.669 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1296.6213ms
2024-03-20 18:09:43.669 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:09:43.672 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1405.8185ms
2024-03-20 18:09:52.702 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 18:09:52.704 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:09:52.704 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:09:52.705 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:09:52.705 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:09:52.705 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:09:52.709 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:09:52.710 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:09:52.710 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:09:52.710 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:09:52.710 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:09:52.710 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:09:52.710 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:09:52.711 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:09:52.711 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:09:52.720 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:09:52.720 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:09:52.720 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:09:52.721 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:09:52.721 +05:00 [DBG] Connection id "0HN28RRUJGRLM", Request id "0HN28RRUJGRLM:00000019": started reading request body.
2024-03-20 18:09:52.721 +05:00 [DBG] Connection id "0HN28RRUJGRLM", Request id "0HN28RRUJGRLM:00000019": done reading request body.
2024-03-20 18:09:52.722 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:09:52.722 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:09:52.722 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:09:52.722 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:09:52.722 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:09:53.798 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 18:09:53.798 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1087.7439ms
2024-03-20 18:09:53.798 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:09:53.799 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1096.5686ms
2024-03-20 18:10:04.830 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 18:10:04.907 +05:00 [DBG] Hosting starting
2024-03-20 18:10:04.927 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 18:10:04.935 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 18:10:04.941 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 18:10:04.941 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 18:10:04.942 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 18:10:04.942 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 18:10:04.946 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 18:10:04.950 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 18:10:04.952 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 18:10:04.952 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 18:10:04.954 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 18:10:04.965 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 18:10:04.967 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:10:04.970 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 18:10:04.971 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:10:04.975 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 18:10:04.976 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 18:10:04.977 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 18:10:04.977 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 18:10:05.088 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 18:10:05.088 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 18:10:05.088 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 18:10:05.088 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 18:10:05.088 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 18:10:05.090 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 18:10:05.090 +05:00 [INF] Hosting environment: Development
2024-03-20 18:10:05.090 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 18:10:05.091 +05:00 [DBG] Hosting started
2024-03-20 18:10:05.523 +05:00 [DBG] Connection id "0HN28RS7OFJCN" accepted.
2024-03-20 18:10:05.524 +05:00 [DBG] Connection id "0HN28RS7OFJCN" started.
2024-03-20 18:10:05.529 +05:00 [DBG] Connection id "0HN28RS7OFJCN" received FIN.
2024-03-20 18:10:05.536 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 18:10:05.545 +05:00 [DBG] Connection id "0HN28RS7OFJCO" accepted.
2024-03-20 18:10:05.551 +05:00 [DBG] Connection id "0HN28RS7OFJCO" started.
2024-03-20 18:10:05.556 +05:00 [DBG] Connection id "0HN28RS7OFJCN" stopped.
2024-03-20 18:10:05.917 +05:00 [DBG] Connection id "0HN28RS7OFJCN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 18:10:06.010 +05:00 [DBG] Connection 0HN28RS7OFJCO established using the following protocol: "Tls12"
2024-03-20 18:10:06.070 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 18:10:06.094 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 18:10:06.120 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 18:10:06.121 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:10:06.273 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 18:10:06.348 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 18:10:06.352 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 283.3963ms
2024-03-20 18:10:06.378 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 18:10:06.379 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 18:10:06.391 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 11.4145ms
2024-03-20 18:10:06.418 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.7779ms
2024-03-20 18:10:06.607 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 18:10:06.608 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 18:10:06.608 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:10:06.827 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 219.9177ms
2024-03-20 18:10:12.145 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 18:10:12.151 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:10:12.156 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:10:12.157 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:10:12.159 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:10:12.161 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:10:12.195 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:10:12.195 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:10:12.237 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:10:12.238 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:10:12.239 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:10:12.239 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:10:12.239 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:10:12.240 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:10:12.241 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:10:12.450 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 18:10:12.490 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:10:12.496 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:10:12.502 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:10:12.504 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:10:12.518 +05:00 [DBG] Connection id "0HN28RS7OFJCO", Request id "0HN28RS7OFJCO:00000017": started reading request body.
2024-03-20 18:10:12.518 +05:00 [DBG] Connection id "0HN28RS7OFJCO", Request id "0HN28RS7OFJCO:00000017": done reading request body.
2024-03-20 18:10:12.524 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:10:12.525 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:10:12.525 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:10:12.525 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:10:12.537 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:10:13.579 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 18:10:13.584 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1340.0831ms
2024-03-20 18:10:13.585 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:10:13.587 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1442.0240ms
2024-03-20 18:10:48.603 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 18:10:48.675 +05:00 [DBG] Hosting starting
2024-03-20 18:10:48.699 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 18:10:48.706 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 18:10:48.712 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 18:10:48.713 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 18:10:48.713 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 18:10:48.713 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 18:10:48.719 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 18:10:48.725 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 18:10:48.725 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 18:10:48.726 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 18:10:48.726 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 18:10:48.738 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 18:10:48.740 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:10:48.744 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 18:10:48.745 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:10:48.750 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 18:10:48.752 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 18:10:48.754 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 18:10:48.754 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 18:10:48.877 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 18:10:48.877 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 18:10:48.877 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 18:10:48.877 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 18:10:48.877 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 18:10:48.879 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 18:10:48.879 +05:00 [INF] Hosting environment: Development
2024-03-20 18:10:48.880 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 18:10:48.880 +05:00 [DBG] Hosting started
2024-03-20 18:10:49.033 +05:00 [DBG] Connection id "0HN28RSKNDRN6" accepted.
2024-03-20 18:10:49.034 +05:00 [DBG] Connection id "0HN28RSKNDRN6" started.
2024-03-20 18:10:49.044 +05:00 [DBG] Connection id "0HN28RSKNDRN6" received FIN.
2024-03-20 18:10:49.052 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 18:10:49.068 +05:00 [DBG] Connection id "0HN28RSKNDRN6" stopped.
2024-03-20 18:10:49.070 +05:00 [DBG] Connection id "0HN28RSKNDRN6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 18:10:49.112 +05:00 [DBG] Connection id "0HN28RSKNDRN7" accepted.
2024-03-20 18:10:49.112 +05:00 [DBG] Connection id "0HN28RSKNDRN7" started.
2024-03-20 18:10:49.159 +05:00 [DBG] Connection 0HN28RSKNDRN7 established using the following protocol: "Tls12"
2024-03-20 18:10:49.223 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 18:10:49.240 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 18:10:49.267 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 18:10:49.268 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:10:49.418 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 18:10:49.514 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 18:10:49.520 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 299.2041ms
2024-03-20 18:10:49.532 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 18:10:49.536 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 18:10:49.548 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 10.7537ms
2024-03-20 18:10:49.573 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.4524ms
2024-03-20 18:10:49.742 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 18:10:49.742 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 18:10:49.742 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:10:49.867 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 125.3400ms
2024-03-20 18:10:53.061 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 92
2024-03-20 18:10:53.066 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:10:53.073 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:10:53.074 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:10:53.076 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:10:53.078 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:10:53.112 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:10:53.113 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:10:53.161 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:10:53.162 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:10:53.163 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:10:53.165 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:10:53.166 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:10:53.166 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:10:53.168 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:10:53.364 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 18:10:53.402 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:10:53.408 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:10:53.411 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:10:53.413 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:10:53.430 +05:00 [DBG] Connection id "0HN28RSKNDRN7", Request id "0HN28RSKNDRN7:00000017": started reading request body.
2024-03-20 18:10:53.430 +05:00 [DBG] Connection id "0HN28RSKNDRN7", Request id "0HN28RSKNDRN7:00000017": done reading request body.
2024-03-20 18:10:53.436 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:10:53.436 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:10:53.436 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:10:53.436 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:10:53.446 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:10:53.538 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 368.3536ms
2024-03-20 18:10:53.640 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:10:53.885 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The specified string is not in the form required for an e-mail address.
   at System.Net.Mail.MailAddressParser.TryReadCfwsAndThrowIfIncomplete(String data, Int32 index, Int32& outIndex, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseDomain(String data, Int32& index, String& domain, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseAddress(String data, Boolean expectMultipleAddresses, Int32& index, ParseAddressInfo& parseAddressInfo, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.ParseMultipleAddresses(String data)
   at System.Net.Mail.MailAddressCollection.ParseValue(String addresses)
   at System.Net.Mail.Message..ctor(String from, String to)
   at System.Net.Mail.MailMessage..ctor(String from, String to)
   at System.Net.Mail.MailMessage..ctor(String from, String to, String subject, String body)
   at BerryMusicV1.Containers.UnauthorizeService.RegistrationSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 48
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-20 18:10:53.945 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 92 - 500 - text/plain;+charset=utf-8 884.3273ms
2024-03-20 18:11:00.061 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 18:11:00.062 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:11:00.062 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:11:00.062 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:11:00.062 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:11:00.063 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:11:00.064 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:11:00.064 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:11:00.065 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:11:00.066 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:11:00.066 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:11:00.066 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:11:00.066 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:11:00.066 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:11:00.066 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:11:00.083 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:11:00.083 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:11:00.084 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:11:00.084 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:11:00.085 +05:00 [DBG] Connection id "0HN28RSKNDRN7", Request id "0HN28RSKNDRN7:00000019": started reading request body.
2024-03-20 18:11:00.085 +05:00 [DBG] Connection id "0HN28RSKNDRN7", Request id "0HN28RSKNDRN7:00000019": done reading request body.
2024-03-20 18:11:00.087 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:11:00.088 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:11:00.088 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:11:00.088 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:11:00.088 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:11:01.291 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 18:11:01.292 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1226.2693ms
2024-03-20 18:11:01.293 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:11:01.294 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1233.0735ms
2024-03-20 18:13:51.376 +05:00 [DBG] Connection id "0HN28RSKNDRN7" received FIN.
2024-03-20 18:13:51.988 +05:00 [DBG] Connection id "0HN28RSKNDRN7" is closing.
2024-03-20 18:13:51.992 +05:00 [DBG] Connection id "0HN28RSKNDRN7" is closed. The last processed stream ID was 25.
2024-03-20 18:13:52.016 +05:00 [DBG] Connection id "0HN28RSKNDRN7" sending FIN because: "The client closed the connection."
2024-03-20 18:13:52.018 +05:00 [DBG] The connection queue processing loop for 0HN28RSKNDRN7 completed.
2024-03-20 18:13:52.019 +05:00 [DBG] Connection id "0HN28RSKNDRN7" stopped.
2024-03-20 18:14:16.520 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 18:14:16.589 +05:00 [DBG] Hosting starting
2024-03-20 18:14:16.606 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 18:14:16.618 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 18:14:16.628 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 18:14:16.629 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 18:14:16.629 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 18:14:16.630 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 18:14:16.635 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 18:14:16.638 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 18:14:16.638 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 18:14:16.638 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 18:14:16.638 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 18:14:16.646 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 18:14:16.649 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:14:16.652 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 18:14:16.653 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 18:14:16.658 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 18:14:16.659 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 18:14:16.660 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 18:14:16.660 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 18:14:16.873 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 18:14:16.873 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 18:14:16.873 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 18:14:16.873 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 18:14:16.873 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 18:14:16.876 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 18:14:16.876 +05:00 [INF] Hosting environment: Development
2024-03-20 18:14:16.876 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 18:14:16.876 +05:00 [DBG] Hosting started
2024-03-20 18:14:17.021 +05:00 [DBG] Connection id "0HN28RUIMUJVP" accepted.
2024-03-20 18:14:17.022 +05:00 [DBG] Connection id "0HN28RUIMUJVP" started.
2024-03-20 18:14:17.032 +05:00 [DBG] Connection id "0HN28RUIMUJVQ" accepted.
2024-03-20 18:14:17.032 +05:00 [DBG] Connection id "0HN28RUIMUJVQ" started.
2024-03-20 18:14:17.037 +05:00 [DBG] Connection id "0HN28RUIMUJVQ" received FIN.
2024-03-20 18:14:17.041 +05:00 [DBG] Connection id "0HN28RUIMUJVP" received FIN.
2024-03-20 18:14:17.045 +05:00 [DBG] Connection id "0HN28RUIMUJVR" accepted.
2024-03-20 18:14:17.046 +05:00 [DBG] Connection id "0HN28RUIMUJVR" started.
2024-03-20 18:14:17.044 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 18:14:17.044 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 18:14:17.068 +05:00 [DBG] Connection id "0HN28RUIMUJVQ" stopped.
2024-03-20 18:14:17.072 +05:00 [DBG] Connection id "0HN28RUIMUJVQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 18:14:17.076 +05:00 [DBG] Connection id "0HN28RUIMUJVP" stopped.
2024-03-20 18:14:17.077 +05:00 [DBG] Connection id "0HN28RUIMUJVP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 18:14:17.108 +05:00 [DBG] Connection 0HN28RUIMUJVR established using the following protocol: "Tls12"
2024-03-20 18:14:17.169 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 18:14:17.194 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 18:14:17.227 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 18:14:17.228 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:14:17.378 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 18:14:17.612 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 18:14:17.614 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 450.5194ms
2024-03-20 18:14:17.630 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 18:14:17.630 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 18:14:17.638 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 6.7218ms
2024-03-20 18:14:17.654 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.6148ms
2024-03-20 18:14:18.183 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 18:14:18.184 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 18:14:18.184 +05:00 [DBG] Request did not match any endpoints
2024-03-20 18:14:18.435 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 251.9264ms
2024-03-20 18:14:27.023 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 18:14:27.036 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:14:27.043 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:14:27.043 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:14:27.045 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:14:27.046 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:14:27.305 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:14:27.307 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:14:27.353 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:14:27.354 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:14:27.355 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:14:27.355 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:14:27.355 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:14:27.355 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:14:27.360 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:14:27.677 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 18:14:27.704 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:14:28.367 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:14:28.370 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:14:28.371 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:14:28.381 +05:00 [DBG] Connection id "0HN28RUIMUJVR", Request id "0HN28RUIMUJVR:00000017": started reading request body.
2024-03-20 18:14:28.382 +05:00 [DBG] Connection id "0HN28RUIMUJVR", Request id "0HN28RUIMUJVR:00000017": done reading request body.
2024-03-20 18:14:28.386 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:14:28.386 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:14:28.386 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:14:28.386 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:14:28.395 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:14:29.643 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 18:14:29.647 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 2288.3501ms
2024-03-20 18:14:29.649 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:14:29.652 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 2629.0171ms
2024-03-20 18:14:42.539 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 18:14:42.540 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:14:42.540 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:14:42.540 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:14:42.541 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:14:42.541 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:14:42.543 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:14:42.543 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:14:42.543 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:14:42.543 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:14:42.543 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:14:42.544 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:14:42.544 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:14:42.544 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:14:42.544 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:14:42.565 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:14:42.566 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:14:42.566 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:14:42.566 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:14:42.566 +05:00 [DBG] Connection id "0HN28RUIMUJVR", Request id "0HN28RUIMUJVR:00000019": started reading request body.
2024-03-20 18:14:42.566 +05:00 [DBG] Connection id "0HN28RUIMUJVR", Request id "0HN28RUIMUJVR:00000019": done reading request body.
2024-03-20 18:14:42.567 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:14:42.567 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:14:42.567 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:14:42.567 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:14:42.568 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:14:44.080 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 18:14:44.080 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1536.2749ms
2024-03-20 18:14:44.080 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:14:44.080 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1540.9211ms
2024-03-20 18:14:54.284 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 18:14:54.284 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 18:14:54.284 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 18:14:54.284 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:14:54.284 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 18:14:54.285 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 18:14:54.591 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 18:14:54.591 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:14:54.591 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 18:14:54.591 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 18:14:54.591 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 18:14:54.591 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 18:14:54.591 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 18:14:54.592 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 18:14:54.592 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:14:54.593 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 18:14:54.593 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:14:54.594 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 18:14:54.594 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 18:14:54.594 +05:00 [DBG] Connection id "0HN28RUIMUJVR", Request id "0HN28RUIMUJVR:0000001B": started reading request body.
2024-03-20 18:14:54.594 +05:00 [DBG] Connection id "0HN28RUIMUJVR", Request id "0HN28RUIMUJVR:0000001B": done reading request body.
2024-03-20 18:14:54.594 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 18:14:54.594 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:14:54.594 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:14:54.594 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 18:14:54.594 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 18:14:55.620 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 18:14:55.620 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1028.5786ms
2024-03-20 18:14:55.620 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 18:14:55.620 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1336.3357ms
2024-03-20 18:17:45.734 +05:00 [DBG] Connection id "0HN28RUIMUJVR" received FIN.
2024-03-20 18:17:45.735 +05:00 [DBG] Connection id "0HN28RUIMUJVR" is closing.
2024-03-20 18:17:45.737 +05:00 [DBG] The connection queue processing loop for 0HN28RUIMUJVR completed.
2024-03-20 18:17:45.738 +05:00 [DBG] Connection id "0HN28RUIMUJVR" is closed. The last processed stream ID was 27.
2024-03-20 18:17:45.738 +05:00 [DBG] Connection id "0HN28RUIMUJVR" sending FIN because: "The client closed the connection."
2024-03-20 18:17:45.748 +05:00 [DBG] Connection id "0HN28RUIMUJVR" stopped.
2024-03-20 19:05:48.697 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 19:05:48.778 +05:00 [DBG] Hosting starting
2024-03-20 19:05:48.872 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 19:05:48.879 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 19:05:48.900 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 19:05:48.908 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 19:05:48.919 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 19:05:48.948 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 19:05:49.149 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 19:05:49.181 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 19:05:49.181 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 19:05:49.181 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 19:05:49.182 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 19:05:49.189 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 19:05:49.191 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:05:49.195 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 19:05:49.196 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:05:49.201 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 19:05:49.202 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 19:05:49.203 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 19:05:49.204 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 19:05:49.477 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 19:05:49.477 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 19:05:49.478 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 19:05:49.478 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 19:05:49.478 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 19:05:49.480 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 19:05:49.480 +05:00 [INF] Hosting environment: Development
2024-03-20 19:05:49.480 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 19:05:49.480 +05:00 [DBG] Hosting started
2024-03-20 19:05:49.797 +05:00 [DBG] Connection id "0HN28SRCDUVVG" received FIN.
2024-03-20 19:05:49.801 +05:00 [DBG] Connection id "0HN28SRCDUVVG" accepted.
2024-03-20 19:05:49.802 +05:00 [DBG] Connection id "0HN28SRCDUVVG" started.
2024-03-20 19:05:49.818 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 19:05:49.853 +05:00 [DBG] Connection id "0HN28SRCDUVVH" accepted.
2024-03-20 19:05:49.870 +05:00 [DBG] Connection id "0HN28SRCDUVVH" started.
2024-03-20 19:05:49.878 +05:00 [DBG] Connection id "0HN28SRCDUVVG" stopped.
2024-03-20 19:05:49.882 +05:00 [DBG] Connection id "0HN28SRCDUVVG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 19:05:49.950 +05:00 [DBG] Connection 0HN28SRCDUVVH established using the following protocol: "Tls12"
2024-03-20 19:05:50.172 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 19:05:50.209 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 19:05:50.234 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 19:05:50.235 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:05:50.420 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 19:05:50.551 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 19:05:50.555 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 384.9208ms
2024-03-20 19:05:50.577 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 19:05:50.579 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 19:05:50.592 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 13.5940ms
2024-03-20 19:05:50.621 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.7028ms
2024-03-20 19:05:50.960 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 19:05:50.961 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 19:05:50.961 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:05:51.147 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 186.7377ms
2024-03-20 19:06:18.986 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 19:06:18.993 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 19:06:18.998 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 19:06:18.998 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:06:19.000 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:06:19.003 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:06:19.124 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:06:19.126 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:06:19.180 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:06:19.181 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:06:19.182 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:06:19.182 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:06:19.182 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:06:19.182 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:06:19.187 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:06:19.399 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 19:06:19.436 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:06:19.446 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:06:19.449 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 19:06:19.450 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 19:06:19.459 +05:00 [DBG] Connection id "0HN28SRCDUVVH", Request id "0HN28SRCDUVVH:00000017": started reading request body.
2024-03-20 19:06:19.459 +05:00 [DBG] Connection id "0HN28SRCDUVVH", Request id "0HN28SRCDUVVH:00000017": done reading request body.
2024-03-20 19:06:19.463 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 19:06:19.464 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:06:19.464 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:06:19.464 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:06:19.478 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:06:20.548 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 19:06:20.556 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1366.4681ms
2024-03-20 19:06:20.557 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:06:20.562 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1576.3328ms
2024-03-20 19:06:51.282 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=990125 - 0
2024-03-20 19:06:51.283 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-20 19:06:51.283 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-20 19:06:51.284 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:06:51.284 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:06:51.284 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:06:51.288 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:06:51.288 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:06:51.314 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:06:51.314 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:06:51.314 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:06:51.314 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:06:51.314 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:06:51.315 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:06:51.315 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:06:51.323 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:06:51.345 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-20 19:06:51.346 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-20 19:06:51.347 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:06:51.347 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:06:51.347 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-20 19:06:51.352 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-20 19:06:52.145 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-20 19:06:52.146 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-20 19:06:52.571 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-20 19:06:52.704 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:06:52.732 +05:00 [DBG] The navigation 'Playlist.IdUserNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:06:52.753 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:06:52.758 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-20 19:06:52.763 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-20 19:06:52.780 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-20 19:06:52.895 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-20 19:06:52.942 +05:00 [DBG] Creating DbConnection.
2024-03-20 19:06:52.992 +05:00 [DBG] Created DbConnection. (49ms).
2024-03-20 19:06:52.997 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:06:53.941 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:06:53.946 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-20 19:06:53.956 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-20 19:06:53.966 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-20 19:06:53.972 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-20 19:06:53.980 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-03-20 19:06:53.989 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:06:54.038 +05:00 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:06:54.046 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-20 19:06:54.053 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 8ms reading results.
2024-03-20 19:06:54.057 +05:00 [DBG] Committing transaction.
2024-03-20 19:06:54.087 +05:00 [DBG] Committed transaction.
2024-03-20 19:06:54.090 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:06:54.095 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (5ms).
2024-03-20 19:06:54.097 +05:00 [DBG] Disposing transaction.
2024-03-20 19:06:54.111 +05:00 [DBG] An entity of type 'User' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:06:54.111 +05:00 [DBG] An entity of type 'Playlist' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:06:54.113 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-20 19:06:54.149 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 2834.655ms
2024-03-20 19:06:54.150 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:06:54.328 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at BerryMusicV1.Containers.UnauthorizeService.GenerateJwtToken(User user) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 89
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 138
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-20 19:06:54.365 +05:00 [DBG] 'BMContext' disposed.
2024-03-20 19:06:54.370 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:06:54.372 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-20 19:06:54.372 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=990125 - 0 - 500 - text/plain;+charset=utf-8 3090.0522ms
2024-03-20 19:09:44.704 +05:00 [DBG] Connection id "0HN28SRCDUVVH" received FIN.
2024-03-20 19:09:44.707 +05:00 [DBG] Connection id "0HN28SRCDUVVH" is closed. The last processed stream ID was 25.
2024-03-20 19:09:44.708 +05:00 [DBG] Connection id "0HN28SRCDUVVH" sending FIN because: "The client closed the connection."
2024-03-20 19:09:44.710 +05:00 [DBG] The connection queue processing loop for 0HN28SRCDUVVH completed.
2024-03-20 19:09:44.712 +05:00 [DBG] Connection id "0HN28SRCDUVVH" stopped.
2024-03-20 19:14:28.553 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 19:14:28.608 +05:00 [DBG] Hosting starting
2024-03-20 19:14:28.624 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 19:14:28.634 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 19:14:28.641 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 19:14:28.643 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 19:14:28.643 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 19:14:28.643 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 19:14:28.650 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 19:14:28.660 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 19:14:28.661 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 19:14:28.661 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 19:14:28.661 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 19:14:28.679 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 19:14:28.682 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:14:28.688 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 19:14:28.689 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:14:28.694 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 19:14:28.695 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 19:14:28.696 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 19:14:28.697 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 19:14:28.831 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 19:14:28.831 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 19:14:28.831 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 19:14:28.831 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 19:14:28.831 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 19:14:28.834 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 19:14:28.834 +05:00 [INF] Hosting environment: Development
2024-03-20 19:14:28.834 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 19:14:28.834 +05:00 [DBG] Hosting started
2024-03-20 19:14:29.101 +05:00 [DBG] Connection id "0HN28T076DRGJ" accepted.
2024-03-20 19:14:29.101 +05:00 [DBG] Connection id "0HN28T076DRGJ" started.
2024-03-20 19:14:29.126 +05:00 [DBG] Connection id "0HN28T076DRGJ" received FIN.
2024-03-20 19:14:29.131 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 19:14:29.149 +05:00 [DBG] Connection id "0HN28T076DRGJ" stopped.
2024-03-20 19:14:29.151 +05:00 [DBG] Connection id "0HN28T076DRGJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 19:14:29.254 +05:00 [DBG] Connection id "0HN28T076DRGK" accepted.
2024-03-20 19:14:29.254 +05:00 [DBG] Connection id "0HN28T076DRGK" started.
2024-03-20 19:14:29.295 +05:00 [DBG] Connection 0HN28T076DRGK established using the following protocol: "Tls12"
2024-03-20 19:14:29.349 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 19:14:29.368 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 19:14:29.397 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 19:14:29.398 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:14:29.548 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 19:14:29.625 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 19:14:29.629 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 282.7335ms
2024-03-20 19:14:29.655 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 19:14:29.655 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 19:14:29.664 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 8.6197ms
2024-03-20 19:14:29.683 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.9864ms
2024-03-20 19:14:29.994 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 19:14:29.995 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 19:14:29.995 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:14:30.140 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 146.0140ms
2024-03-20 19:14:49.836 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 19:14:49.844 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 19:14:49.853 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 19:14:49.853 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:14:49.855 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:14:49.857 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:14:49.891 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:14:49.894 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:14:49.938 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:14:49.939 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:14:49.939 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:14:49.940 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:14:49.940 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:14:49.940 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:14:49.942 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:14:50.137 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 19:14:50.176 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:14:50.183 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:14:50.188 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 19:14:50.189 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 19:14:50.203 +05:00 [DBG] Connection id "0HN28T076DRGK", Request id "0HN28T076DRGK:00000017": started reading request body.
2024-03-20 19:14:50.204 +05:00 [DBG] Connection id "0HN28T076DRGK", Request id "0HN28T076DRGK:00000017": done reading request body.
2024-03-20 19:14:50.207 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 19:14:50.208 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:14:50.208 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:14:50.208 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:14:50.223 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:14:51.219 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 19:14:51.224 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1279.7589ms
2024-03-20 19:14:51.224 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:14:51.228 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1392.8876ms
2024-03-20 19:15:05.649 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=959343 - 0
2024-03-20 19:15:05.650 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-20 19:15:05.650 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-20 19:15:05.650 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:15:05.650 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:15:05.651 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:15:05.653 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:15:05.653 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:15:05.659 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:15:05.659 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:15:05.659 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:15:05.659 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:15:05.659 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:15:05.659 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:15:05.660 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:15:05.671 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:15:05.675 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-20 19:15:05.676 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-20 19:15:05.679 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:15:05.679 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:15:05.679 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-20 19:15:05.680 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-20 19:15:06.305 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-20 19:15:06.306 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-20 19:15:06.690 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-20 19:15:06.828 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:15:06.861 +05:00 [DBG] The navigation 'Playlist.IdUserNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:15:06.879 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:15:06.887 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-20 19:15:06.891 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-20 19:15:06.905 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-20 19:15:07.033 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-20 19:15:07.046 +05:00 [DBG] Creating DbConnection.
2024-03-20 19:15:07.052 +05:00 [DBG] Created DbConnection. (7ms).
2024-03-20 19:15:07.057 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:15:07.409 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:15:07.413 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-20 19:15:07.425 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-20 19:15:07.440 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-20 19:15:07.449 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-20 19:15:07.457 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-03-20 19:15:07.470 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:15:07.499 +05:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:15:07.508 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-20 19:15:07.525 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 14ms reading results.
2024-03-20 19:15:07.538 +05:00 [DBG] Committing transaction.
2024-03-20 19:15:07.558 +05:00 [DBG] Committed transaction.
2024-03-20 19:15:07.564 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:15:07.572 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (7ms).
2024-03-20 19:15:07.574 +05:00 [DBG] Disposing transaction.
2024-03-20 19:15:07.587 +05:00 [DBG] An entity of type 'User' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:15:07.588 +05:00 [DBG] An entity of type 'Playlist' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:15:07.590 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-20 19:15:07.660 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 2000.8859ms
2024-03-20 19:15:07.661 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:15:07.691 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.GenerateJwtToken(User user) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 90
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 138
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-20 19:15:07.698 +05:00 [DBG] 'BMContext' disposed.
2024-03-20 19:15:07.703 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:15:07.705 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-20 19:15:07.705 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=959343 - 0 - 500 - text/plain;+charset=utf-8 2056.7948ms
2024-03-20 19:17:59.677 +05:00 [DBG] Connection id "0HN28T076DRGK" received FIN.
2024-03-20 19:17:59.678 +05:00 [DBG] Connection id "0HN28T076DRGK" is closed. The last processed stream ID was 25.
2024-03-20 19:17:59.678 +05:00 [DBG] Connection id "0HN28T076DRGK" sending FIN because: "The client closed the connection."
2024-03-20 19:17:59.679 +05:00 [DBG] The connection queue processing loop for 0HN28T076DRGK completed.
2024-03-20 19:17:59.680 +05:00 [DBG] Connection id "0HN28T076DRGK" stopped.
2024-03-20 19:20:58.150 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 19:20:58.249 +05:00 [DBG] Hosting starting
2024-03-20 19:20:58.268 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 19:20:58.280 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 19:20:58.288 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 19:20:58.288 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 19:20:58.288 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 19:20:58.289 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 19:20:58.296 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 19:20:58.300 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 19:20:58.300 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 19:20:58.300 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 19:20:58.300 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 19:20:58.314 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 19:20:58.317 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:20:58.323 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 19:20:58.325 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:20:58.332 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 19:20:58.333 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 19:20:58.334 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 19:20:58.335 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 19:20:58.507 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 19:20:58.508 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 19:20:58.508 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 19:20:58.508 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 19:20:58.508 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 19:20:58.510 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 19:20:58.510 +05:00 [INF] Hosting environment: Development
2024-03-20 19:20:58.511 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 19:20:58.511 +05:00 [DBG] Hosting started
2024-03-20 19:20:58.879 +05:00 [DBG] Connection id "0HN28T3RBKTLN" received FIN.
2024-03-20 19:20:58.879 +05:00 [DBG] Connection id "0HN28T3RBKTLO" received FIN.
2024-03-20 19:20:58.884 +05:00 [DBG] Connection id "0HN28T3RBKTLO" accepted.
2024-03-20 19:20:58.884 +05:00 [DBG] Connection id "0HN28T3RBKTLN" accepted.
2024-03-20 19:20:58.885 +05:00 [DBG] Connection id "0HN28T3RBKTLN" started.
2024-03-20 19:20:58.885 +05:00 [DBG] Connection id "0HN28T3RBKTLO" started.
2024-03-20 19:20:58.897 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 19:20:58.897 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 19:20:58.912 +05:00 [DBG] Connection id "0HN28T3RBKTLN" stopped.
2024-03-20 19:20:58.912 +05:00 [DBG] Connection id "0HN28T3RBKTLO" stopped.
2024-03-20 19:20:58.914 +05:00 [DBG] Connection id "0HN28T3RBKTLN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 19:20:58.914 +05:00 [DBG] Connection id "0HN28T3RBKTLO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 19:20:59.700 +05:00 [DBG] Connection id "0HN28T3RBKTLP" accepted.
2024-03-20 19:20:59.701 +05:00 [DBG] Connection id "0HN28T3RBKTLP" started.
2024-03-20 19:20:59.747 +05:00 [DBG] Connection 0HN28T3RBKTLP established using the following protocol: "Tls12"
2024-03-20 19:20:59.823 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 19:20:59.855 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 19:20:59.891 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 19:20:59.891 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:21:00.068 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 19:21:00.196 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 19:21:00.203 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 19:21:00.203 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 19:21:00.207 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 400.7671ms
2024-03-20 19:21:00.212 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 9.0320ms
2024-03-20 19:21:00.326 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 129.5235ms
2024-03-20 19:21:00.488 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 19:21:00.488 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 19:21:00.488 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:21:00.647 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 157.6792ms
2024-03-20 19:21:12.392 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 19:21:12.417 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 19:21:12.423 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 19:21:12.424 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:21:12.426 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:21:12.429 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:21:12.473 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:21:12.474 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:21:12.524 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:21:12.526 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:21:12.528 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:21:12.529 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:21:12.529 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:21:12.529 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:21:12.531 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:21:12.790 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 19:21:12.833 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:21:12.841 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:21:12.844 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 19:21:12.846 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 19:21:12.857 +05:00 [DBG] Connection id "0HN28T3RBKTLP", Request id "0HN28T3RBKTLP:00000017": started reading request body.
2024-03-20 19:21:12.857 +05:00 [DBG] Connection id "0HN28T3RBKTLP", Request id "0HN28T3RBKTLP:00000017": done reading request body.
2024-03-20 19:21:12.862 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 19:21:12.863 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:21:12.863 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:21:12.863 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:21:12.875 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:21:14.098 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 19:21:14.103 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1568.7764ms
2024-03-20 19:21:14.104 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:21:14.109 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1716.2736ms
2024-03-20 19:21:43.014 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=398901 - 0
2024-03-20 19:21:43.015 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-20 19:21:43.015 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-20 19:21:43.015 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:21:43.016 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:21:43.016 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:21:43.018 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:21:43.018 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:21:43.025 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:21:43.025 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:21:43.025 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:21:43.025 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:21:43.025 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:21:43.025 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:21:43.026 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:21:43.034 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:21:43.040 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-20 19:21:43.041 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-20 19:21:43.042 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:21:43.042 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:21:43.043 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-20 19:21:43.043 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-20 19:22:14.537 +05:00 [WRN] As of ""2024-03-20T14:21:44.8379089+00:00"", the heartbeat has been running for ""00:00:29.6877860"" which is longer than ""00:00:01"". This could be caused by thread pool starvation.
2024-03-20 19:22:14.671 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-20 19:22:14.672 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-20 19:22:15.026 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-20 19:22:15.153 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:22:15.182 +05:00 [DBG] The navigation 'Playlist.IdUserNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:22:15.200 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:22:15.207 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-20 19:22:15.213 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-20 19:22:15.226 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-20 19:22:15.345 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-20 19:22:15.353 +05:00 [DBG] Creating DbConnection.
2024-03-20 19:22:15.357 +05:00 [DBG] Created DbConnection. (5ms).
2024-03-20 19:22:15.362 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:22:15.690 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:22:15.696 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-20 19:22:15.713 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-20 19:22:15.727 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-20 19:22:15.733 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-03-20 19:22:15.740 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-03-20 19:22:15.750 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:22:15.774 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:22:15.781 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-20 19:22:15.790 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 7ms reading results.
2024-03-20 19:22:15.794 +05:00 [DBG] Committing transaction.
2024-03-20 19:22:15.808 +05:00 [DBG] Committed transaction.
2024-03-20 19:22:15.814 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:22:15.822 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (8ms).
2024-03-20 19:22:15.824 +05:00 [DBG] Disposing transaction.
2024-03-20 19:22:15.834 +05:00 [DBG] An entity of type 'User' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:22:15.835 +05:00 [DBG] An entity of type 'Playlist' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:22:15.839 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-20 19:22:15.840 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 32814.6861ms
2024-03-20 19:22:15.841 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:22:15.895 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.GenerateJwtToken(User user) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 90
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 138
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-20 19:22:15.924 +05:00 [DBG] 'BMContext' disposed.
2024-03-20 19:22:15.929 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:22:15.931 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-20 19:22:15.931 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=398901 - 0 - 500 - text/plain;+charset=utf-8 32917.4404ms
2024-03-20 19:25:08.201 +05:00 [DBG] Connection id "0HN28T3RBKTLP" received FIN.
2024-03-20 19:25:08.205 +05:00 [DBG] Connection id "0HN28T3RBKTLP" is closed. The last processed stream ID was 25.
2024-03-20 19:25:08.206 +05:00 [DBG] Connection id "0HN28T3RBKTLP" sending FIN because: "The client closed the connection."
2024-03-20 19:25:08.207 +05:00 [DBG] Connection id "0HN28T3RBKTLP" is closing.
2024-03-20 19:25:08.208 +05:00 [DBG] The connection queue processing loop for 0HN28T3RBKTLP completed.
2024-03-20 19:25:08.209 +05:00 [DBG] Connection id "0HN28T3RBKTLP" stopped.
2024-03-20 19:33:59.486 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 19:33:59.545 +05:00 [DBG] Hosting starting
2024-03-20 19:33:59.561 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 19:33:59.568 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 19:33:59.574 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 19:33:59.575 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 19:33:59.575 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 19:33:59.575 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 19:33:59.582 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 19:33:59.585 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 19:33:59.585 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 19:33:59.585 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 19:33:59.585 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 19:33:59.593 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 19:33:59.595 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:33:59.598 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 19:33:59.599 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:33:59.603 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 19:33:59.604 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 19:33:59.605 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 19:33:59.605 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 19:33:59.743 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 19:33:59.743 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 19:33:59.743 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 19:33:59.743 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 19:33:59.743 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 19:33:59.746 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 19:33:59.746 +05:00 [INF] Hosting environment: Development
2024-03-20 19:33:59.746 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 19:33:59.746 +05:00 [DBG] Hosting started
2024-03-20 19:34:00.154 +05:00 [DBG] Connection id "0HN28TB46F3E7" accepted.
2024-03-20 19:34:00.154 +05:00 [DBG] Connection id "0HN28TB46F3E8" accepted.
2024-03-20 19:34:00.155 +05:00 [DBG] Connection id "0HN28TB46F3E8" started.
2024-03-20 19:34:00.155 +05:00 [DBG] Connection id "0HN28TB46F3E7" started.
2024-03-20 19:34:00.173 +05:00 [DBG] Connection id "0HN28TB46F3E8" received FIN.
2024-03-20 19:34:00.173 +05:00 [DBG] Connection id "0HN28TB46F3E7" received FIN.
2024-03-20 19:34:00.178 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 19:34:00.178 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 19:34:00.193 +05:00 [DBG] Connection id "0HN28TB46F3E7" stopped.
2024-03-20 19:34:00.193 +05:00 [DBG] Connection id "0HN28TB46F3E8" stopped.
2024-03-20 19:34:00.196 +05:00 [DBG] Connection id "0HN28TB46F3E7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 19:34:00.196 +05:00 [DBG] Connection id "0HN28TB46F3E8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 19:34:00.215 +05:00 [DBG] Connection id "0HN28TB46F3E9" accepted.
2024-03-20 19:34:00.215 +05:00 [DBG] Connection id "0HN28TB46F3E9" started.
2024-03-20 19:34:00.254 +05:00 [DBG] Connection 0HN28TB46F3E9 established using the following protocol: "Tls12"
2024-03-20 19:34:00.321 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 19:34:00.339 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 19:34:00.363 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 19:34:00.364 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:34:00.564 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 19:34:00.658 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 19:34:00.661 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 343.1746ms
2024-03-20 19:34:00.730 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 19:34:00.735 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.5816ms
2024-03-20 19:34:00.762 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 19:34:00.805 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.8175ms
2024-03-20 19:34:01.579 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 19:34:01.579 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 19:34:01.579 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:34:01.768 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 188.8411ms
2024-03-20 19:34:10.397 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 19:34:10.404 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 19:34:10.410 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 19:34:10.410 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:34:10.413 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:34:10.415 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:34:10.454 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:34:10.455 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:34:10.500 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:34:10.502 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:34:10.502 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:34:10.502 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:34:10.502 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:34:10.502 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:34:10.510 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:34:10.711 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 19:34:10.751 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:34:10.760 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:34:10.764 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 19:34:10.765 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 19:34:10.777 +05:00 [DBG] Connection id "0HN28TB46F3E9", Request id "0HN28TB46F3E9:00000017": started reading request body.
2024-03-20 19:34:10.777 +05:00 [DBG] Connection id "0HN28TB46F3E9", Request id "0HN28TB46F3E9:00000017": done reading request body.
2024-03-20 19:34:10.782 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 19:34:10.782 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:34:10.782 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:34:10.782 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:34:10.793 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:34:11.867 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 19:34:11.871 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1360.003ms
2024-03-20 19:34:11.872 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:34:11.875 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1477.6180ms
2024-03-20 19:34:27.424 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=013505 - 0
2024-03-20 19:34:27.425 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-20 19:34:27.425 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-20 19:34:27.425 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:34:27.425 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:34:27.425 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:34:27.427 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:34:27.427 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:34:27.434 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:34:27.434 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:34:27.434 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:34:27.434 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:34:27.434 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:34:27.434 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:34:27.434 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:34:27.443 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:34:27.448 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-20 19:34:27.449 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-20 19:34:27.450 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:34:27.450 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:34:27.450 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-20 19:34:27.450 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-20 19:34:28.061 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-20 19:34:28.062 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-20 19:34:28.449 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-20 19:34:28.585 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:34:28.616 +05:00 [DBG] The navigation 'Playlist.IdUserNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:34:28.635 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:34:28.643 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-20 19:34:28.651 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-20 19:34:28.664 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-20 19:34:28.785 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-20 19:34:28.796 +05:00 [DBG] Creating DbConnection.
2024-03-20 19:34:28.800 +05:00 [DBG] Created DbConnection. (5ms).
2024-03-20 19:34:28.806 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:34:29.106 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:34:29.109 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-20 19:34:29.122 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-20 19:34:29.133 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-20 19:34:29.141 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-20 19:34:29.149 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-03-20 19:34:29.159 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:34:29.220 +05:00 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:34:29.226 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-20 19:34:29.234 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 7ms reading results.
2024-03-20 19:34:29.241 +05:00 [DBG] Committing transaction.
2024-03-20 19:34:29.314 +05:00 [DBG] Committed transaction.
2024-03-20 19:34:29.317 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:34:29.323 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-20 19:34:29.326 +05:00 [DBG] Disposing transaction.
2024-03-20 19:34:29.338 +05:00 [DBG] An entity of type 'User' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:34:29.339 +05:00 [DBG] An entity of type 'Playlist' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:34:29.342 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-20 19:34:29.343 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 1909.467ms
2024-03-20 19:34:29.344 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:34:29.418 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.GenerateJwtToken(User user) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 131
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 88
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-20 19:34:29.423 +05:00 [DBG] 'BMContext' disposed.
2024-03-20 19:34:29.426 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:34:29.428 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-20 19:34:29.428 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=013505 - 0 - 500 - text/plain;+charset=utf-8 2004.4143ms
2024-03-20 19:36:46.413 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 19:36:46.567 +05:00 [DBG] Hosting starting
2024-03-20 19:36:46.596 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 19:36:46.607 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 19:36:46.621 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 19:36:46.621 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 19:36:46.622 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 19:36:46.622 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 19:36:46.626 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 19:36:46.633 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 19:36:46.633 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 19:36:46.633 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 19:36:46.634 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 19:36:46.651 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 19:36:46.657 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:36:46.666 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 19:36:46.717 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:36:46.724 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 19:36:46.743 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 19:36:46.749 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 19:36:46.750 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 19:36:46.964 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 19:36:46.964 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 19:36:46.965 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 19:36:46.965 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 19:36:46.965 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 19:36:46.967 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 19:36:46.967 +05:00 [INF] Hosting environment: Development
2024-03-20 19:36:46.967 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 19:36:46.967 +05:00 [DBG] Hosting started
2024-03-20 19:36:47.503 +05:00 [DBG] Connection id "0HN28TCM2DT2A" accepted.
2024-03-20 19:36:47.504 +05:00 [DBG] Connection id "0HN28TCM2DT2A" started.
2024-03-20 19:36:47.521 +05:00 [DBG] Connection id "0HN28TCM2DT2A" received FIN.
2024-03-20 19:36:47.527 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 19:36:47.533 +05:00 [DBG] Connection id "0HN28TCM2DT2B" accepted.
2024-03-20 19:36:47.546 +05:00 [DBG] Connection id "0HN28TCM2DT2B" started.
2024-03-20 19:36:47.552 +05:00 [DBG] Connection id "0HN28TCM2DT2A" stopped.
2024-03-20 19:36:47.556 +05:00 [DBG] Connection id "0HN28TCM2DT2A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 19:36:47.583 +05:00 [DBG] Connection 0HN28TCM2DT2B established using the following protocol: "Tls12"
2024-03-20 19:36:47.644 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 19:36:47.664 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 19:36:47.695 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 19:36:47.696 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:36:47.851 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 19:36:47.924 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 19:36:47.927 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 287.0604ms
2024-03-20 19:36:47.971 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 19:36:47.972 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 19:36:47.982 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 9.3130ms
2024-03-20 19:36:48.004 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.8813ms
2024-03-20 19:36:48.185 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 19:36:48.185 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 19:36:48.185 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:36:48.343 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.4502ms
2024-03-20 19:36:56.546 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 19:36:56.556 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 19:36:56.561 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 19:36:56.561 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:36:56.563 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:36:56.565 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:36:56.600 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:36:56.601 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:36:56.650 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:36:56.653 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:36:56.655 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:36:56.655 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:36:56.656 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:36:56.656 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:36:56.657 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:36:56.924 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 19:36:56.970 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:36:56.981 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:36:56.983 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 19:36:56.985 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 19:36:57.000 +05:00 [DBG] Connection id "0HN28TCM2DT2B", Request id "0HN28TCM2DT2B:00000017": started reading request body.
2024-03-20 19:36:57.000 +05:00 [DBG] Connection id "0HN28TCM2DT2B", Request id "0HN28TCM2DT2B:00000017": done reading request body.
2024-03-20 19:36:57.002 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 19:36:57.003 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:36:57.003 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:36:57.004 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:36:57.015 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:36:57.996 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 19:36:58.000 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1340.7951ms
2024-03-20 19:36:58.001 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:36:58.003 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1456.9374ms
2024-03-20 19:37:26.853 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=616075 - 0
2024-03-20 19:37:26.854 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-20 19:37:26.855 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-20 19:37:26.855 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:37:26.856 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:37:26.856 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:37:26.860 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:37:26.860 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:37:26.868 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:37:26.868 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:37:26.868 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:37:26.868 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:37:26.868 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:37:26.868 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:37:26.868 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:37:26.885 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:37:26.893 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-20 19:37:26.894 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-20 19:37:26.895 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:37:26.895 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:37:26.896 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-20 19:37:26.896 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-20 19:37:27.527 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-20 19:37:27.527 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-20 19:37:27.918 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-20 19:37:28.042 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:37:28.069 +05:00 [DBG] The navigation 'Playlist.IdUserNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:37:28.093 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:37:28.099 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-20 19:37:28.102 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-20 19:37:28.127 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-20 19:37:28.240 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-20 19:37:28.252 +05:00 [DBG] Creating DbConnection.
2024-03-20 19:37:28.257 +05:00 [DBG] Created DbConnection. (5ms).
2024-03-20 19:37:28.261 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:37:28.563 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:37:28.566 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-20 19:37:28.573 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-20 19:37:28.590 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-20 19:37:28.598 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-03-20 19:37:28.603 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-03-20 19:37:28.626 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:37:28.652 +05:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:37:28.658 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-20 19:37:28.665 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 7ms reading results.
2024-03-20 19:37:28.673 +05:00 [DBG] Committing transaction.
2024-03-20 19:37:28.739 +05:00 [DBG] Committed transaction.
2024-03-20 19:37:28.743 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:37:28.752 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (9ms).
2024-03-20 19:37:28.756 +05:00 [DBG] Disposing transaction.
2024-03-20 19:37:28.766 +05:00 [DBG] An entity of type 'User' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:37:28.767 +05:00 [DBG] An entity of type 'Playlist' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:37:28.769 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-20 19:37:28.799 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 1930.5543ms
2024-03-20 19:37:28.799 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:37:28.824 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.GenerateJwtToken(User user) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 132
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 88
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-20 19:37:28.830 +05:00 [DBG] 'BMContext' disposed.
2024-03-20 19:37:28.834 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:37:28.835 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-20 19:37:28.836 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=616075 - 0 - 500 - text/plain;+charset=utf-8 1982.2204ms
2024-03-20 19:38:03.821 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 19:38:03.878 +05:00 [DBG] Hosting starting
2024-03-20 19:38:03.894 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 19:38:03.903 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 19:38:03.911 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 19:38:03.912 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 19:38:03.912 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 19:38:03.914 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 19:38:03.922 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 19:38:03.926 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 19:38:03.926 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 19:38:03.926 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 19:38:03.926 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 19:38:03.932 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 19:38:03.934 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:38:03.937 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 19:38:03.939 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:38:03.943 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 19:38:03.944 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 19:38:03.946 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 19:38:03.946 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 19:38:04.061 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 19:38:04.061 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 19:38:04.062 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 19:38:04.062 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 19:38:04.062 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 19:38:04.064 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 19:38:04.064 +05:00 [INF] Hosting environment: Development
2024-03-20 19:38:04.064 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 19:38:04.064 +05:00 [DBG] Hosting started
2024-03-20 19:38:04.198 +05:00 [DBG] Connection id "0HN28TDCTRE6R" accepted.
2024-03-20 19:38:04.199 +05:00 [DBG] Connection id "0HN28TDCTRE6R" started.
2024-03-20 19:38:04.219 +05:00 [DBG] Connection id "0HN28TDCTRE6R" received FIN.
2024-03-20 19:38:04.230 +05:00 [DBG] Connection id "0HN28TDCTRE6S" accepted.
2024-03-20 19:38:04.230 +05:00 [DBG] Connection id "0HN28TDCTRE6S" started.
2024-03-20 19:38:04.228 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 19:38:04.246 +05:00 [DBG] Connection id "0HN28TDCTRE6R" stopped.
2024-03-20 19:38:04.249 +05:00 [DBG] Connection id "0HN28TDCTRE6R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 19:38:04.268 +05:00 [DBG] Connection 0HN28TDCTRE6S established using the following protocol: "Tls12"
2024-03-20 19:38:04.324 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 19:38:04.341 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 19:38:04.366 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 19:38:04.367 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:38:04.551 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 19:38:04.690 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 19:38:04.694 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 373.5443ms
2024-03-20 19:38:04.704 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 19:38:04.704 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 19:38:04.715 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 10.4045ms
2024-03-20 19:38:04.748 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.5097ms
2024-03-20 19:38:04.914 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 19:38:04.916 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 19:38:04.916 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:38:05.091 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 176.1779ms
2024-03-20 19:38:13.997 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 19:38:14.003 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 19:38:14.009 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 19:38:14.010 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:38:14.015 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:38:14.017 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:38:14.061 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:38:14.063 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:38:14.102 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:38:14.104 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:38:14.105 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:38:14.106 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:38:14.107 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:38:14.107 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:38:14.109 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:38:14.302 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 19:38:14.341 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:38:14.348 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:38:14.351 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 19:38:14.352 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 19:38:14.361 +05:00 [DBG] Connection id "0HN28TDCTRE6S", Request id "0HN28TDCTRE6S:00000017": started reading request body.
2024-03-20 19:38:14.361 +05:00 [DBG] Connection id "0HN28TDCTRE6S", Request id "0HN28TDCTRE6S:00000017": done reading request body.
2024-03-20 19:38:14.365 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 19:38:14.367 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:38:14.367 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:38:14.368 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:38:14.377 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:38:15.660 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 19:38:15.666 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1553.8473ms
2024-03-20 19:38:15.667 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:38:15.672 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1675.4494ms
2024-03-20 19:38:34.483 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=906393 - 0
2024-03-20 19:38:34.484 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-20 19:38:34.484 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-20 19:38:34.484 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:38:34.484 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:38:34.484 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:38:34.490 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:38:34.490 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:38:34.499 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:38:34.499 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:38:34.499 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:38:34.499 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:38:34.499 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:38:34.499 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:38:34.499 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:38:34.508 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:38:34.512 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-20 19:38:34.514 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-20 19:38:34.516 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:38:34.516 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:38:34.516 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-20 19:38:34.516 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-20 19:38:35.242 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-20 19:38:35.242 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-20 19:38:35.643 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-20 19:38:35.777 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:38:35.810 +05:00 [DBG] The navigation 'Playlist.IdUserNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:38:35.831 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:38:35.836 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-20 19:38:35.841 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-20 19:38:35.858 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-20 19:38:35.985 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-20 19:38:35.993 +05:00 [DBG] Creating DbConnection.
2024-03-20 19:38:35.999 +05:00 [DBG] Created DbConnection. (5ms).
2024-03-20 19:38:36.003 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:38:36.305 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:38:36.309 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-20 19:38:36.318 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-20 19:38:36.331 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-20 19:38:36.338 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-20 19:38:36.347 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-03-20 19:38:36.358 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:38:36.400 +05:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:38:36.419 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-20 19:38:36.429 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 22ms reading results.
2024-03-20 19:38:36.434 +05:00 [DBG] Committing transaction.
2024-03-20 19:38:36.476 +05:00 [DBG] Committed transaction.
2024-03-20 19:38:36.481 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:38:36.487 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (7ms).
2024-03-20 19:38:36.490 +05:00 [DBG] Disposing transaction.
2024-03-20 19:38:36.500 +05:00 [DBG] An entity of type 'User' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:38:36.501 +05:00 [DBG] An entity of type 'Playlist' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:38:36.502 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-20 19:38:36.508 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 2009.0522ms
2024-03-20 19:38:36.508 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:38:36.584 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.GenerateJwtToken(User user) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 132
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 88
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-20 19:38:36.590 +05:00 [DBG] 'BMContext' disposed.
2024-03-20 19:38:36.593 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:38:36.597 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-20 19:38:36.597 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=906393 - 0 - 500 - text/plain;+charset=utf-8 2114.2274ms
2024-03-20 19:41:29.618 +05:00 [DBG] Connection id "0HN28TDCTRE6S" received FIN.
2024-03-20 19:41:29.619 +05:00 [DBG] Connection id "0HN28TDCTRE6S" is closed. The last processed stream ID was 25.
2024-03-20 19:41:29.619 +05:00 [DBG] Connection id "0HN28TDCTRE6S" sending FIN because: "The client closed the connection."
2024-03-20 19:41:29.620 +05:00 [DBG] The connection queue processing loop for 0HN28TDCTRE6S completed.
2024-03-20 19:41:29.621 +05:00 [DBG] Connection id "0HN28TDCTRE6S" stopped.
2024-03-20 19:42:57.375 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 19:42:57.429 +05:00 [DBG] Hosting starting
2024-03-20 19:42:57.444 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 19:42:57.456 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 19:42:57.462 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 19:42:57.463 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 19:42:57.463 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 19:42:57.463 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 19:42:57.467 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 19:42:57.470 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 19:42:57.470 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 19:42:57.470 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 19:42:57.471 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 19:42:57.479 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 19:42:57.482 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:42:57.485 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 19:42:57.486 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:42:57.490 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 19:42:57.492 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 19:42:57.493 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 19:42:57.494 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 19:42:57.628 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 19:42:57.629 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 19:42:57.629 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 19:42:57.629 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 19:42:57.629 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 19:42:57.631 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 19:42:57.632 +05:00 [INF] Hosting environment: Development
2024-03-20 19:42:57.632 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 19:42:57.632 +05:00 [DBG] Hosting started
2024-03-20 19:42:58.048 +05:00 [DBG] Connection id "0HN28TG4G769P" accepted.
2024-03-20 19:42:58.050 +05:00 [DBG] Connection id "0HN28TG4G769P" received FIN.
2024-03-20 19:42:58.051 +05:00 [DBG] Connection id "0HN28TG4G769P" started.
2024-03-20 19:42:58.060 +05:00 [DBG] Connection id "0HN28TG4G769Q" accepted.
2024-03-20 19:42:58.061 +05:00 [DBG] Connection id "0HN28TG4G769Q" started.
2024-03-20 19:42:58.070 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 19:42:58.090 +05:00 [DBG] Connection id "0HN28TG4G769P" stopped.
2024-03-20 19:42:58.092 +05:00 [DBG] Connection id "0HN28TG4G769P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 19:42:58.123 +05:00 [DBG] Connection 0HN28TG4G769Q established using the following protocol: "Tls12"
2024-03-20 19:42:58.179 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 19:42:58.200 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 19:42:58.233 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 19:42:58.233 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:42:58.384 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 19:42:58.457 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 19:42:58.467 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 289.6158ms
2024-03-20 19:42:58.497 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 19:42:58.502 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 19:42:58.509 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 6.5947ms
2024-03-20 19:42:58.551 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.8973ms
2024-03-20 19:42:58.592 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/favicon-16x16.png - -
2024-03-20 19:42:58.593 +05:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2024-03-20 19:42:58.594 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:42:58.708 +05:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2024-03-20 19:42:58.718 +05:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-03-20 19:42:58.719 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/favicon-16x16.png - - - 0 665 image/png 126.5517ms
2024-03-20 19:42:58.723 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 19:42:58.723 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 19:42:58.723 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:42:58.888 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 165.1135ms
2024-03-20 19:43:11.059 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 19:43:11.066 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 19:43:11.073 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 19:43:11.074 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:43:11.076 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:43:11.076 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:43:11.128 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:43:11.133 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:43:11.191 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:43:11.193 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:43:11.193 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:43:11.194 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:43:11.194 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:43:11.194 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:43:11.199 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:43:11.407 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 19:43:11.441 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:43:11.451 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:43:11.453 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 19:43:11.457 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 19:43:11.468 +05:00 [DBG] Connection id "0HN28TG4G769Q", Request id "0HN28TG4G769Q:00000019": started reading request body.
2024-03-20 19:43:11.468 +05:00 [DBG] Connection id "0HN28TG4G769Q", Request id "0HN28TG4G769Q:00000019": done reading request body.
2024-03-20 19:43:11.472 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 19:43:11.472 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:43:11.473 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:43:11.473 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:43:11.486 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:43:12.495 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 19:43:12.501 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1301.8572ms
2024-03-20 19:43:12.501 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:43:12.505 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1445.8110ms
2024-03-20 19:43:28.099 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=141368 - 0
2024-03-20 19:43:28.100 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-20 19:43:28.100 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-20 19:43:28.101 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:43:28.101 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:43:28.101 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:43:28.102 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:43:28.103 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:43:28.111 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:43:28.112 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:43:28.112 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:43:28.112 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:43:28.112 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:43:28.112 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:43:28.112 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:43:28.120 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:43:28.125 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-20 19:43:28.126 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-20 19:43:28.128 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:43:28.128 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:43:28.128 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-20 19:43:28.128 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-20 19:43:28.773 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-20 19:43:28.774 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-20 19:43:29.144 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-20 19:43:29.302 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:43:29.334 +05:00 [DBG] The navigation 'Playlist.IdUserNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:43:29.358 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:43:29.363 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-20 19:43:29.367 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-20 19:43:29.381 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-20 19:43:29.502 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-20 19:43:29.512 +05:00 [DBG] Creating DbConnection.
2024-03-20 19:43:29.516 +05:00 [DBG] Created DbConnection. (4ms).
2024-03-20 19:43:29.520 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:43:29.842 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:43:29.845 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-20 19:43:29.858 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-20 19:43:29.870 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-20 19:43:29.878 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-20 19:43:29.889 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-03-20 19:43:29.899 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:43:29.925 +05:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:43:29.932 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-20 19:43:29.942 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 8ms reading results.
2024-03-20 19:43:29.950 +05:00 [DBG] Committing transaction.
2024-03-20 19:43:29.969 +05:00 [DBG] Committed transaction.
2024-03-20 19:43:29.973 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:43:29.982 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-20 19:43:29.984 +05:00 [DBG] Disposing transaction.
2024-03-20 19:43:29.994 +05:00 [DBG] An entity of type 'User' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:43:29.995 +05:00 [DBG] An entity of type 'Playlist' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:43:29.998 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-20 19:43:30.001 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 1888.7941ms
2024-03-20 19:43:30.001 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:43:30.027 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.GenerateJwtToken(User user) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 134
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 88
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-20 19:43:30.034 +05:00 [DBG] 'BMContext' disposed.
2024-03-20 19:43:30.038 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:43:30.040 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-20 19:43:30.041 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=141368 - 0 - 500 - text/plain;+charset=utf-8 1941.5499ms
2024-03-20 19:44:02.491 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 19:44:02.560 +05:00 [DBG] Hosting starting
2024-03-20 19:44:02.581 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 19:44:02.590 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 19:44:02.598 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 19:44:02.598 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 19:44:02.598 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 19:44:02.599 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 19:44:02.602 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 19:44:02.606 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 19:44:02.607 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 19:44:02.607 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 19:44:02.608 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 19:44:02.616 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 19:44:02.618 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:44:02.621 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 19:44:02.622 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:44:02.627 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 19:44:02.628 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 19:44:02.629 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 19:44:02.630 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 19:44:02.757 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 19:44:02.757 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 19:44:02.757 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 19:44:02.757 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 19:44:02.757 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 19:44:02.759 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 19:44:02.759 +05:00 [INF] Hosting environment: Development
2024-03-20 19:44:02.759 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 19:44:02.759 +05:00 [DBG] Hosting started
2024-03-20 19:44:02.869 +05:00 [DBG] Connection id "0HN28TGNQD0UD" accepted.
2024-03-20 19:44:02.870 +05:00 [DBG] Connection id "0HN28TGNQD0UD" started.
2024-03-20 19:44:02.892 +05:00 [DBG] Connection id "0HN28TGNQD0UD" received FIN.
2024-03-20 19:44:02.897 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 19:44:02.920 +05:00 [DBG] Connection id "0HN28TGNQD0UD" stopped.
2024-03-20 19:44:02.926 +05:00 [DBG] Connection id "0HN28TGNQD0UE" accepted.
2024-03-20 19:44:02.926 +05:00 [DBG] Connection id "0HN28TGNQD0UE" started.
2024-03-20 19:44:02.929 +05:00 [DBG] Connection id "0HN28TGNQD0UD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 19:44:02.967 +05:00 [DBG] Connection 0HN28TGNQD0UE established using the following protocol: "Tls12"
2024-03-20 19:44:03.057 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 19:44:03.080 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 19:44:03.133 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 19:44:03.134 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:44:03.310 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 19:44:03.417 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 19:44:03.420 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 369.6192ms
2024-03-20 19:44:03.450 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 19:44:03.450 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 19:44:03.456 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.0155ms
2024-03-20 19:44:03.481 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.3175ms
2024-03-20 19:44:03.674 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 19:44:03.675 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 19:44:03.675 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:44:03.893 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 218.1148ms
2024-03-20 19:44:15.732 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 19:44:15.742 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 19:44:15.751 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 19:44:15.752 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:44:15.754 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:44:15.757 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:44:15.793 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:44:15.795 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:44:15.835 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:44:15.836 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:44:15.837 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:44:15.838 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:44:15.839 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:44:15.839 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:44:15.843 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:44:16.028 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 19:44:16.068 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:44:16.076 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:44:16.081 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 19:44:16.082 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 19:44:16.094 +05:00 [DBG] Connection id "0HN28TGNQD0UE", Request id "0HN28TGNQD0UE:00000017": started reading request body.
2024-03-20 19:44:16.094 +05:00 [DBG] Connection id "0HN28TGNQD0UE", Request id "0HN28TGNQD0UE:00000017": done reading request body.
2024-03-20 19:44:16.099 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 19:44:16.099 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:44:16.099 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:44:16.099 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:44:16.108 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:44:17.313 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 19:44:17.318 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1473.5863ms
2024-03-20 19:44:17.318 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:44:17.321 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1589.3476ms
2024-03-20 19:44:34.913 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=882520 - 0
2024-03-20 19:44:34.915 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-20 19:44:34.915 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-20 19:44:34.916 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:44:34.916 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:44:34.916 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:44:34.918 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:44:34.919 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:44:34.927 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:44:34.927 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:44:34.927 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:44:34.927 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:44:34.927 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:44:34.927 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:44:34.927 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:44:34.936 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:44:34.943 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-20 19:44:34.944 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-20 19:44:34.945 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:44:34.945 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:44:34.945 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-20 19:44:34.945 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-20 19:44:35.634 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-20 19:44:35.694 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-20 19:44:36.335 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-20 19:44:36.460 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:44:36.497 +05:00 [DBG] The navigation 'Playlist.IdUserNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:44:36.517 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:44:36.524 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-20 19:44:36.527 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-20 19:44:36.542 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-20 19:44:36.659 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-20 19:44:36.668 +05:00 [DBG] Creating DbConnection.
2024-03-20 19:44:36.674 +05:00 [DBG] Created DbConnection. (3ms).
2024-03-20 19:44:36.683 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:44:37.006 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:44:37.010 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-20 19:44:37.020 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-20 19:44:37.032 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-20 19:44:37.041 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-03-20 19:44:37.050 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-03-20 19:44:37.059 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:44:37.159 +05:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:44:37.165 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-20 19:44:37.175 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 7ms reading results.
2024-03-20 19:44:37.180 +05:00 [DBG] Committing transaction.
2024-03-20 19:44:37.210 +05:00 [DBG] Committed transaction.
2024-03-20 19:44:37.216 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:44:37.222 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-20 19:44:37.224 +05:00 [DBG] Disposing transaction.
2024-03-20 19:44:37.234 +05:00 [DBG] An entity of type 'User' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:44:37.235 +05:00 [DBG] An entity of type 'Playlist' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:44:37.237 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-20 19:44:37.242 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 2314.9142ms
2024-03-20 19:44:37.242 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:44:37.331 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.GenerateJwtToken(User user) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 131
   at BerryMusicV1.Containers.UnauthorizeService.RegistrtionAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 88
   at BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-20 19:44:37.336 +05:00 [DBG] 'BMContext' disposed.
2024-03-20 19:44:37.340 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:44:37.341 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-20 19:44:37.342 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=882520 - 0 - 500 - text/plain;+charset=utf-8 2428.2715ms
2024-03-20 19:45:20.960 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-20 19:45:21.024 +05:00 [DBG] Hosting starting
2024-03-20 19:45:21.038 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-20 19:45:21.046 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-20 19:45:21.052 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-20 19:45:21.052 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-20 19:45:21.053 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-20 19:45:21.053 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-20 19:45:21.057 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-20 19:45:21.061 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-20 19:45:21.061 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-20 19:45:21.061 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-20 19:45:21.061 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-20 19:45:21.067 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-20 19:45:21.069 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:45:21.073 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-20 19:45:21.075 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-20 19:45:21.080 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-20 19:45:21.081 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-20 19:45:21.082 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-20 19:45:21.083 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-20 19:45:21.225 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-20 19:45:21.226 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-20 19:45:21.226 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-20 19:45:21.226 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-20 19:45:21.226 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-20 19:45:21.230 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-20 19:45:21.230 +05:00 [INF] Hosting environment: Development
2024-03-20 19:45:21.230 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-20 19:45:21.230 +05:00 [DBG] Hosting started
2024-03-20 19:45:21.583 +05:00 [DBG] Connection id "0HN28THF92MEO" accepted.
2024-03-20 19:45:21.583 +05:00 [DBG] Connection id "0HN28THF92MEP" received FIN.
2024-03-20 19:45:21.584 +05:00 [DBG] Connection id "0HN28THF92MEP" started.
2024-03-20 19:45:21.597 +05:00 [DBG] Connection id "0HN28THF92MEQ" accepted.
2024-03-20 19:45:21.598 +05:00 [DBG] Connection id "0HN28THF92MEQ" started.
2024-03-20 19:45:21.601 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-20 19:45:21.619 +05:00 [DBG] Connection id "0HN28THF92MEP" stopped.
2024-03-20 19:45:21.621 +05:00 [DBG] Connection id "0HN28THF92MEP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-20 19:45:21.641 +05:00 [DBG] Connection 0HN28THF92MEQ established using the following protocol: "Tls12"
2024-03-20 19:45:21.719 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-20 19:45:21.739 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-20 19:45:21.766 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-20 19:45:21.766 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:45:21.920 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-20 19:45:21.993 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-20 19:45:21.995 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 280.8088ms
2024-03-20 19:45:22.020 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-20 19:45:22.024 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-20 19:45:22.030 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.3213ms
2024-03-20 19:45:22.061 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.0729ms
2024-03-20 19:45:22.262 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-20 19:45:22.263 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-20 19:45:22.263 +05:00 [DBG] Request did not match any endpoints
2024-03-20 19:45:22.411 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 147.3154ms
2024-03-20 19:45:35.219 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 112
2024-03-20 19:45:35.227 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-20 19:45:35.233 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-20 19:45:35.233 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:45:35.235 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:45:35.236 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:45:35.272 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:45:35.275 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:45:35.316 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:45:35.318 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:45:35.318 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:45:35.318 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:45:35.318 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:45:35.318 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:45:35.321 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:45:35.503 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-20 19:45:35.550 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:45:35.558 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:45:35.561 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-20 19:45:35.562 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-20 19:45:35.574 +05:00 [DBG] Connection id "0HN28THF92MEQ", Request id "0HN28THF92MEQ:00000017": started reading request body.
2024-03-20 19:45:35.574 +05:00 [DBG] Connection id "0HN28THF92MEQ", Request id "0HN28THF92MEQ:00000017": done reading request body.
2024-03-20 19:45:35.577 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-20 19:45:35.578 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:45:35.578 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:45:35.578 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-20 19:45:35.590 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-20 19:45:36.540 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-20 19:45:36.544 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 1222.5371ms
2024-03-20 19:45:36.545 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-20 19:45:36.549 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 112 - 200 0 - 1329.6074ms
2024-03-20 19:45:50.595 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/code?code=502831 - 0
2024-03-20 19:45:50.596 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/code'
2024-03-20 19:45:50.597 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/code' is valid for the request path '/unauth/code'
2024-03-20 19:45:50.597 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:45:50.597 +05:00 [INF] No CORS policy found for the specified request.
2024-03-20 19:45:50.597 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-20 19:45:50.599 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-20 19:45:50.599 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:45:50.604 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-20 19:45:50.605 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-20 19:45:50.605 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-20 19:45:50.605 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-20 19:45:50.605 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-20 19:45:50.605 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-20 19:45:50.605 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:45:50.614 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-20 19:45:50.618 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-20 19:45:50.619 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-20 19:45:50.620 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:45:50.620 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-20 19:45:50.620 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-20 19:45:50.620 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-20 19:45:51.358 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-20 19:45:51.358 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-20 19:45:51.773 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-20 19:45:51.911 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:45:51.951 +05:00 [DBG] The navigation 'Playlist.IdUserNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:45:51.969 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:45:51.976 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-20 19:45:51.983 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-20 19:45:51.995 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-20 19:45:52.120 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-20 19:45:52.130 +05:00 [DBG] Creating DbConnection.
2024-03-20 19:45:52.134 +05:00 [DBG] Created DbConnection. (4ms).
2024-03-20 19:45:52.142 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:52.457 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:52.460 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-20 19:45:52.469 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-20 19:45:52.486 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-20 19:45:52.494 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-20 19:45:52.501 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-03-20 19:45:52.517 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:45:52.542 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-20 19:45:52.549 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:52.557 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 8ms reading results.
2024-03-20 19:45:52.562 +05:00 [DBG] Committing transaction.
2024-03-20 19:45:52.591 +05:00 [DBG] Committed transaction.
2024-03-20 19:45:52.594 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:52.601 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-20 19:45:52.602 +05:00 [DBG] Disposing transaction.
2024-03-20 19:45:52.617 +05:00 [DBG] An entity of type 'User' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:45:52.617 +05:00 [DBG] An entity of type 'Playlist' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:45:52.619 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-20 19:45:53.211 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-20 19:45:53.509 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-20 19:45:53.557 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-20 19:45:53.557 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-20 19:45:53.557 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-20 19:45:53.557 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:53.561 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:53.562 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-20 19:45:53.565 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-20 19:45:53.569 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:53.569 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 3ms reading results.
2024-03-20 19:45:53.569 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:53.569 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-20 19:45:53.584 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:45:53.584 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-20 19:45:53.584 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-20 19:45:53.589 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-20 19:45:53.591 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:53.592 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:53.592 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-20 19:45:53.593 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-20 19:45:53.593 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-20 19:45:53.593 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-20 19:45:53.593 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-20 19:45:53.593 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_User`, `id_Device`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-20 19:45:53.594 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_User`, `id_Device`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-20 19:45:53.594 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:53.594 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-20 19:45:53.594 +05:00 [DBG] Committing transaction.
2024-03-20 19:45:53.617 +05:00 [DBG] Committed transaction.
2024-03-20 19:45:53.617 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:53.617 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-20 19:45:53.617 +05:00 [DBG] Disposing transaction.
2024-03-20 19:45:53.618 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-20 19:45:53.618 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-20 19:45:53.635 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-20 19:45:53.637 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-20 19:45:53.637 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-20 19:45:53.637 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-20 19:45:53.639 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-20 19:45:53.640 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-20 19:45:53.653 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 3048.2878ms
2024-03-20 19:45:53.654 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-20 19:45:53.655 +05:00 [DBG] 'BMContext' disposed.
2024-03-20 19:45:53.659 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-20 19:45:53.661 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-20 19:45:53.661 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/code?code=502831 - 0 - 200 - application/json;+charset=utf-8 3065.8325ms
2024-03-20 19:48:44.407 +05:00 [DBG] Connection id "0HN28THF92MEQ" received FIN.
2024-03-20 19:48:44.408 +05:00 [DBG] Connection id "0HN28THF92MEQ" is closed. The last processed stream ID was 25.
2024-03-20 19:48:44.408 +05:00 [DBG] Connection id "0HN28THF92MEQ" sending FIN because: "The client closed the connection."
2024-03-20 19:48:44.409 +05:00 [DBG] The connection queue processing loop for 0HN28THF92MEQ completed.
2024-03-20 19:48:44.410 +05:00 [DBG] Connection id "0HN28THF92MEQ" stopped.
2024-03-29 20:30:01.743 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 20:30:01.837 +05:00 [DBG] Hosting starting
2024-03-29 20:30:01.934 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 20:30:01.946 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 20:30:02.178 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 20:30:02.205 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 20:30:02.225 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 20:30:02.251 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 20:30:02.274 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 20:30:02.300 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 20:30:02.300 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 20:30:02.301 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 20:30:02.301 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 20:30:02.331 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 20:30:02.333 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 20:30:02.337 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 20:30:02.339 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 20:30:02.347 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 20:30:02.348 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 20:30:02.349 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 20:30:02.349 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 20:30:02.658 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 20:30:02.658 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 20:30:02.658 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 20:30:02.658 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 20:30:02.658 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 20:30:02.660 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 20:30:02.660 +05:00 [INF] Hosting environment: Development
2024-03-29 20:30:02.661 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 20:30:02.661 +05:00 [DBG] Hosting started
2024-03-29 20:30:02.822 +05:00 [DBG] Connection id "0HN2G0KD6R84F" accepted.
2024-03-29 20:30:02.822 +05:00 [DBG] Connection id "0HN2G0KD6R84F" started.
2024-03-29 20:30:02.830 +05:00 [DBG] Connection id "0HN2G0KD6R84F" received FIN.
2024-03-29 20:30:02.870 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 20:30:02.917 +05:00 [DBG] Connection id "0HN2G0KD6R84F" stopped.
2024-03-29 20:30:02.919 +05:00 [DBG] Connection id "0HN2G0KD6R84F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 20:30:12.639 +05:00 [DBG] Connection id "0HN2G0KD6R84G" accepted.
2024-03-29 20:30:12.640 +05:00 [DBG] Connection id "0HN2G0KD6R84G" started.
2024-03-29 20:30:13.656 +05:00 [DBG] Connection 0HN2G0KD6R84G established using the following protocol: "Tls12"
2024-03-29 20:30:18.765 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 20:30:19.174 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 20:30:19.633 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 20:30:19.633 +05:00 [DBG] Request did not match any endpoints
2024-03-29 20:30:21.550 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 20:30:23.123 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 20:30:23.126 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 4445.5719ms
2024-03-29 20:30:23.705 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 20:30:23.768 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 62.8375ms
2024-03-29 20:30:23.828 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/swagger-ui.css - -
2024-03-29 20:30:23.829 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-03-29 20:30:23.829 +05:00 [DBG] Request did not match any endpoints
2024-03-29 20:30:24.240 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/swagger-ui-bundle.js - -
2024-03-29 20:30:24.241 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-03-29 20:30:24.241 +05:00 [DBG] Request did not match any endpoints
2024-03-29 20:30:24.330 +05:00 [INF] The file /swagger-ui.css was not modified
2024-03-29 20:30:24.334 +05:00 [DBG] Handled. Status code: 304 File: /swagger-ui.css
2024-03-29 20:30:24.334 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/swagger-ui.css - - - 304 - text/css 506.2596ms
2024-03-29 20:30:24.353 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/swagger-ui-standalone-preset.js - -
2024-03-29 20:30:24.353 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-03-29 20:30:24.353 +05:00 [DBG] Request did not match any endpoints
2024-03-29 20:30:24.387 +05:00 [INF] The file /swagger-ui-bundle.js was not modified
2024-03-29 20:30:24.388 +05:00 [DBG] Handled. Status code: 304 File: /swagger-ui-bundle.js
2024-03-29 20:30:24.388 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/swagger-ui-bundle.js - - - 304 - text/javascript 147.4024ms
2024-03-29 20:30:24.393 +05:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2024-03-29 20:30:24.393 +05:00 [DBG] Handled. Status code: 304 File: /swagger-ui-standalone-preset.js
2024-03-29 20:30:24.393 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/swagger-ui-standalone-preset.js - - - 304 - text/javascript 40.1109ms
2024-03-29 20:30:44.637 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 20:30:44.637 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 20:30:44.637 +05:00 [DBG] Request did not match any endpoints
2024-03-29 20:30:45.337 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 699.4541ms
2024-03-29 20:33:35.709 +05:00 [DBG] Connection id "0HN2G0KD6R84G" received FIN.
2024-03-29 20:33:35.735 +05:00 [DBG] The connection queue processing loop for 0HN2G0KD6R84G completed.
2024-03-29 20:33:35.737 +05:00 [DBG] Connection id "0HN2G0KD6R84G" is closed. The last processed stream ID was 25.
2024-03-29 20:33:35.738 +05:00 [DBG] Connection id "0HN2G0KD6R84G" sending FIN because: "The client closed the connection."
2024-03-29 20:33:35.738 +05:00 [DBG] Connection id "0HN2G0KD6R84G" stopped.
2024-03-29 20:57:54.711 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 20:57:54.766 +05:00 [DBG] Hosting starting
2024-03-29 20:57:54.780 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 20:57:54.786 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 20:57:54.793 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 20:57:54.793 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 20:57:54.794 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 20:57:54.794 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 20:57:54.799 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 20:57:54.803 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 20:57:54.803 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 20:57:54.803 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 20:57:54.804 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 20:57:54.812 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 20:57:54.814 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 20:57:54.817 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 20:57:54.818 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 20:57:54.822 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 20:57:54.824 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 20:57:54.825 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 20:57:54.825 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 20:57:54.951 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 20:57:54.951 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 20:57:54.952 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 20:57:54.952 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 20:57:54.952 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 20:57:54.953 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 20:57:54.954 +05:00 [INF] Hosting environment: Development
2024-03-29 20:57:54.954 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 20:57:54.954 +05:00 [DBG] Hosting started
2024-03-29 20:57:55.051 +05:00 [DBG] Connection id "0HN2G13VIF7M2" received FIN.
2024-03-29 20:57:55.055 +05:00 [DBG] Connection id "0HN2G13VIF7M2" accepted.
2024-03-29 20:57:55.056 +05:00 [DBG] Connection id "0HN2G13VIF7M2" started.
2024-03-29 20:57:55.058 +05:00 [DBG] Connection id "0HN2G13VIF7M3" accepted.
2024-03-29 20:57:55.058 +05:00 [DBG] Connection id "0HN2G13VIF7M3" started.
2024-03-29 20:57:55.070 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 20:57:55.085 +05:00 [DBG] Connection id "0HN2G13VIF7M2" stopped.
2024-03-29 20:57:55.087 +05:00 [DBG] Connection id "0HN2G13VIF7M2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 20:57:55.104 +05:00 [DBG] Connection 0HN2G13VIF7M3 established using the following protocol: "Tls12"
2024-03-29 20:57:55.159 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 20:57:55.179 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 20:57:55.211 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 20:57:55.211 +05:00 [DBG] Request did not match any endpoints
2024-03-29 20:57:55.356 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 20:57:55.534 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 20:57:55.537 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 381.3756ms
2024-03-29 20:57:55.563 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 20:57:55.567 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.0871ms
2024-03-29 20:57:55.628 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 20:57:55.892 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 263.3764ms
2024-03-29 20:57:56.025 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 20:57:56.026 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 20:57:56.026 +05:00 [DBG] Request did not match any endpoints
2024-03-29 20:57:56.163 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 137.2307ms
2024-03-29 21:00:47.069 +05:00 [DBG] Connection id "0HN2G13VIF7M3" received FIN.
2024-03-29 21:00:47.071 +05:00 [DBG] The connection queue processing loop for 0HN2G13VIF7M3 completed.
2024-03-29 21:00:47.075 +05:00 [DBG] Connection id "0HN2G13VIF7M3" is closed. The last processed stream ID was 21.
2024-03-29 21:00:47.075 +05:00 [DBG] Connection id "0HN2G13VIF7M3" sending FIN because: "The client closed the connection."
2024-03-29 21:00:47.085 +05:00 [DBG] Connection id "0HN2G13VIF7M3" stopped.
2024-03-29 21:02:46.904 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 21:02:46.964 +05:00 [DBG] Hosting starting
2024-03-29 21:02:46.977 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 21:02:46.983 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 21:02:46.988 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 21:02:46.989 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 21:02:46.989 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 21:02:46.989 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 21:02:46.994 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 21:02:46.998 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 21:02:46.999 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 21:02:46.999 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 21:02:46.999 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 21:02:47.006 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 21:02:47.009 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 21:02:47.012 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 21:02:47.013 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 21:02:47.017 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 21:02:47.018 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 21:02:47.019 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 21:02:47.019 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 21:02:47.133 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 21:02:47.133 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 21:02:47.134 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 21:02:47.134 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 21:02:47.134 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 21:02:47.136 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 21:02:47.136 +05:00 [INF] Hosting environment: Development
2024-03-29 21:02:47.136 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 21:02:47.136 +05:00 [DBG] Hosting started
2024-03-29 21:02:47.490 +05:00 [DBG] Connection id "0HN2G16MNCBE6" accepted.
2024-03-29 21:02:47.491 +05:00 [DBG] Connection id "0HN2G16MNCBE6" started.
2024-03-29 21:02:47.518 +05:00 [DBG] Connection id "0HN2G16MNCBE6" received FIN.
2024-03-29 21:02:47.522 +05:00 [DBG] Connection id "0HN2G16MNCBE7" accepted.
2024-03-29 21:02:47.522 +05:00 [DBG] Connection id "0HN2G16MNCBE7" started.
2024-03-29 21:02:47.525 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 21:02:47.543 +05:00 [DBG] Connection id "0HN2G16MNCBE6" stopped.
2024-03-29 21:02:47.545 +05:00 [DBG] Connection id "0HN2G16MNCBE6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 21:02:47.559 +05:00 [DBG] Connection 0HN2G16MNCBE7 established using the following protocol: "Tls12"
2024-03-29 21:02:47.624 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 21:02:47.652 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 21:02:47.681 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 21:02:47.681 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:02:47.824 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 21:02:47.892 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 21:02:47.897 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 277.0813ms
2024-03-29 21:02:47.935 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 21:02:47.940 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 21:02:47.953 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 12.4656ms
2024-03-29 21:02:47.969 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.0232ms
2024-03-29 21:02:48.143 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 21:02:48.143 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 21:02:48.143 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:02:48.298 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.0890ms
2024-03-29 21:03:09.875 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 90
2024-03-29 21:03:09.882 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-29 21:03:09.887 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-29 21:03:09.887 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:03:09.889 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 21:03:09.892 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:03:10.128 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 21:03:10.128 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:03:10.359 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 21:03:10.361 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 21:03:10.361 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 21:03:10.361 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 21:03:10.362 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 21:03:10.362 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 21:03:10.364 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:03:11.620 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 21:03:11.663 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:03:11.704 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 21:03:11.708 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-29 21:03:11.709 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 21:03:11.735 +05:00 [DBG] Connection id "0HN2G16MNCBE7", Request id "0HN2G16MNCBE7:00000017": started reading request body.
2024-03-29 21:03:11.735 +05:00 [DBG] Connection id "0HN2G16MNCBE7", Request id "0HN2G16MNCBE7:00000017": done reading request body.
2024-03-29 21:03:11.738 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-29 21:03:11.739 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:03:11.739 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:03:11.739 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 21:03:11.784 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:03:12.610 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-29 21:03:12.610 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-29 21:03:12.984 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 21:03:13.025 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-29 21:03:13.333 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:03:13.385 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:03:13.387 +05:00 [DBG] Creating DbConnection.
2024-03-29 21:03:13.396 +05:00 [DBG] Created DbConnection. (5ms).
2024-03-29 21:03:13.407 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2024-03-29 21:03:13.443 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (60ms).
2024-03-29 21:03:13.450 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:03:14.222 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:03:14.233 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 21:03:14.255 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 21:03:14.319 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:03:14.368 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:03:14.377 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 113ms reading results.
2024-03-29 21:03:14.380 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:03:14.386 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (5ms).
2024-03-29 21:03:14.388 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(d => d.IdUser == __user_Id_0 && d.IdDevice == __userCred_DeviceId_1)'
2024-03-29 21:03:14.395 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE (t.id_User == @__user_Id_0) && (t.id_Device == @__userCred_DeviceId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:03:14.397 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:03:14.397 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:03:14.397 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:03:14.398 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:03:14.403 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:03:14.403 +05:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 250), @__userCred_DeviceId_1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE (`t`.`id_User` = @__user_Id_0) AND (`t`.`id_Device` = @__userCred_DeviceId_1)
LIMIT 1
2024-03-29 21:03:14.405 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 250), @__userCred_DeviceId_1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE (`t`.`id_User` = @__user_Id_0) AND (`t`.`id_Device` = @__userCred_DeviceId_1)
LIMIT 1
2024-03-29 21:03:14.405 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:03:14.405 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 21:03:14.406 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:03:14.406 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:03:14.460 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 4093.217ms
2024-03-29 21:03:14.466 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:03:14.677 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The specified string is not in the form required for an e-mail address.
   at System.Net.Mail.MailAddressParser.TryReadCfwsAndThrowIfIncomplete(String data, Int32 index, Int32& outIndex, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseDomain(String data, Int32& index, String& domain, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseAddress(String data, Boolean expectMultipleAddresses, Int32& index, ParseAddressInfo& parseAddressInfo, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.ParseMultipleAddresses(String data)
   at System.Net.Mail.MailAddressCollection.ParseValue(String addresses)
   at System.Net.Mail.Message..ctor(String from, String to)
   at System.Net.Mail.MailMessage..ctor(String from, String to)
   at System.Net.Mail.MailMessage..ctor(String from, String to, String subject, String body)
   at BerryMusicV1.Containers.UnauthorizeService.SendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 155
   at BerryMusicV1.Containers.UnauthorizeService.AuthorizeSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 93
   at BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-29 21:03:14.728 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 21:03:14.735 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:03:14.737 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-29 21:03:14.738 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 90 - 500 - text/plain;+charset=utf-8 4862.8786ms
2024-03-29 21:05:13.120 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 21:05:13.176 +05:00 [DBG] Hosting starting
2024-03-29 21:05:13.189 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 21:05:13.198 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 21:05:13.203 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 21:05:13.204 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 21:05:13.204 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 21:05:13.204 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 21:05:13.211 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 21:05:13.215 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 21:05:13.215 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 21:05:13.215 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 21:05:13.215 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 21:05:13.224 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 21:05:13.226 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 21:05:13.229 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 21:05:13.231 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 21:05:13.236 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 21:05:13.237 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 21:05:13.238 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 21:05:13.239 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 21:05:13.357 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 21:05:13.357 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 21:05:13.357 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 21:05:13.357 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 21:05:13.357 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 21:05:13.359 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 21:05:13.359 +05:00 [INF] Hosting environment: Development
2024-03-29 21:05:13.360 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 21:05:13.360 +05:00 [DBG] Hosting started
2024-03-29 21:05:13.462 +05:00 [DBG] Connection id "0HN2G1827FKG0" received FIN.
2024-03-29 21:05:13.463 +05:00 [DBG] Connection id "0HN2G1827FKG1" received FIN.
2024-03-29 21:05:13.467 +05:00 [DBG] Connection id "0HN2G1827FKG0" accepted.
2024-03-29 21:05:13.467 +05:00 [DBG] Connection id "0HN2G1827FKG1" accepted.
2024-03-29 21:05:13.468 +05:00 [DBG] Connection id "0HN2G1827FKG1" started.
2024-03-29 21:05:13.468 +05:00 [DBG] Connection id "0HN2G1827FKG0" started.
2024-03-29 21:05:13.470 +05:00 [DBG] Connection id "0HN2G1827FKG2" accepted.
2024-03-29 21:05:13.470 +05:00 [DBG] Connection id "0HN2G1827FKG2" started.
2024-03-29 21:05:13.482 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 21:05:13.481 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 21:05:13.500 +05:00 [DBG] Connection id "0HN2G1827FKG1" stopped.
2024-03-29 21:05:13.501 +05:00 [DBG] Connection id "0HN2G1827FKG0" stopped.
2024-03-29 21:05:13.505 +05:00 [DBG] Connection id "0HN2G1827FKG0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 21:05:13.507 +05:00 [DBG] Connection id "0HN2G1827FKG1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 21:05:13.522 +05:00 [DBG] Connection 0HN2G1827FKG2 established using the following protocol: "Tls12"
2024-03-29 21:05:13.573 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 21:05:13.591 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 21:05:13.623 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 21:05:13.623 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:05:13.765 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 21:05:13.850 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 21:05:13.853 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 282.3489ms
2024-03-29 21:05:13.867 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 21:05:13.872 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 21:05:13.878 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.6619ms
2024-03-29 21:05:13.910 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.9677ms
2024-03-29 21:05:14.087 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 21:05:14.087 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 21:05:14.087 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:05:14.211 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 123.8295ms
2024-03-29 21:05:30.020 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 90
2024-03-29 21:05:30.027 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-29 21:05:30.033 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-29 21:05:30.034 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:05:30.040 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 21:05:30.042 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:05:30.077 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 21:05:30.078 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:05:30.121 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 21:05:30.122 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 21:05:30.122 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 21:05:30.123 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 21:05:30.123 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 21:05:30.125 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 21:05:30.127 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:05:30.293 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 21:05:30.327 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:05:30.335 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 21:05:30.339 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-29 21:05:30.345 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 21:05:30.355 +05:00 [DBG] Connection id "0HN2G1827FKG2", Request id "0HN2G1827FKG2:00000017": started reading request body.
2024-03-29 21:05:30.355 +05:00 [DBG] Connection id "0HN2G1827FKG2", Request id "0HN2G1827FKG2:00000017": done reading request body.
2024-03-29 21:05:30.360 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-29 21:05:30.361 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:05:30.361 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:05:30.361 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 21:05:30.376 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:05:30.994 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-29 21:05:30.995 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-29 21:05:31.376 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 21:05:31.419 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-29 21:05:31.672 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:05:31.726 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:05:31.728 +05:00 [DBG] Creating DbConnection.
2024-03-29 21:05:31.736 +05:00 [DBG] Created DbConnection. (3ms).
2024-03-29 21:05:31.745 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (16ms).
2024-03-29 21:05:31.754 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2024-03-29 21:05:31.761 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:05:32.078 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:05:32.091 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 21:05:32.116 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 21:05:32.168 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:05:32.214 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:05:32.220 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 97ms reading results.
2024-03-29 21:05:32.224 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:05:32.231 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-29 21:05:32.236 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(d => d.IdUser == __user_Id_0 && d.IdDevice == __userCred_DeviceId_1)'
2024-03-29 21:05:32.243 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE (t.id_User == @__user_Id_0) && (t.id_Device == @__userCred_DeviceId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:05:32.245 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:05:32.245 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:05:32.245 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:05:32.246 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:05:32.249 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:05:32.250 +05:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 250), @__userCred_DeviceId_1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE (`t`.`id_User` = @__user_Id_0) AND (`t`.`id_Device` = @__userCred_DeviceId_1)
LIMIT 1
2024-03-29 21:05:32.252 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 250), @__userCred_DeviceId_1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE (`t`.`id_User` = @__user_Id_0) AND (`t`.`id_Device` = @__userCred_DeviceId_1)
LIMIT 1
2024-03-29 21:05:32.253 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:05:32.253 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 21:05:32.253 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:05:32.253 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:05:33.201 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 21:05:33.203 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 21:05:33.203 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 21:05:33.203 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 21:05:33.204 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-29 21:05:33.204 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-29 21:05:33.210 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 3080.0876ms
2024-03-29 21:05:33.211 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:05:33.214 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 21:05:33.218 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:05:33.219 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-29 21:05:33.220 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 90 - 204 - - 3199.4867ms
2024-03-29 21:06:02.241 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=576016 - 0
2024-03-29 21:06:02.243 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-29 21:06:02.243 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-29 21:06:02.243 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:06:02.243 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 21:06:02.243 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:06:02.245 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 21:06:02.245 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:06:02.265 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 21:06:02.266 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 21:06:02.266 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 21:06:02.266 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 21:06:02.266 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 21:06:02.266 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 21:06:02.266 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:06:02.268 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:06:02.315 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-29 21:06:02.316 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-29 21:06:02.318 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 21:06:02.318 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 21:06:02.318 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-29 21:06:02.336 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-29 21:06:02.796 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 21:06:02.797 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-29 21:06:02.804 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:06:02.805 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:06:02.805 +05:00 [DBG] Creating DbConnection.
2024-03-29 21:06:02.805 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-29 21:06:02.805 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:06:02.805 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:06:02.805 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:06:02.810 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:06:02.810 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 21:06:02.812 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 21:06:02.812 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:06:02.812 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 21:06:02.812 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:06:02.812 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:06:02.872 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:06:02.878 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-29 21:06:02.883 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-29 21:06:02.891 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-29 21:06:02.980 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:06:02.981 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:06:02.986 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-29 21:06:03.011 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-29 21:06:03.015 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:06:03.015 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:06:03.016 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-03-29 21:06:03.017 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_User`, `id_Device`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-29 21:06:03.017 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_User`, `id_Device`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-29 21:06:03.020 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:06:03.021 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 3ms reading results.
2024-03-29 21:06:03.025 +05:00 [DBG] Committing transaction.
2024-03-29 21:06:03.051 +05:00 [DBG] Committed transaction.
2024-03-29 21:06:03.053 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:06:03.053 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:06:03.054 +05:00 [DBG] Disposing transaction.
2024-03-29 21:06:03.063 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:06:03.066 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-29 21:06:03.132 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 865.3528ms
2024-03-29 21:06:03.132 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:06:03.218 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'Token' cannot be tracked because another instance with the same key value for {'IdUser'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityStateAsync(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintActionAsync(EntityEntryGraphNode`1 node, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraphAsync[TState](EntityEntryGraphNode`1 node, Func`3 handleNode, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraphAsync(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.AddAsync(TEntity entity, CancellationToken cancellationToken)
   at BerryMusicV1.Containers.UnauthorizeService.AuthorizeAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 118
   at BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-29 21:06:03.224 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 21:06:03.225 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:06:03.225 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:06:03.225 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=576016 - 0 - 500 - text/plain;+charset=utf-8 983.7635ms
2024-03-29 21:08:54.165 +05:00 [DBG] Connection id "0HN2G1827FKG2" received FIN.
2024-03-29 21:08:54.166 +05:00 [DBG] Connection id "0HN2G1827FKG2" is closed. The last processed stream ID was 25.
2024-03-29 21:08:54.167 +05:00 [DBG] Connection id "0HN2G1827FKG2" sending FIN because: "The client closed the connection."
2024-03-29 21:08:54.167 +05:00 [DBG] The connection queue processing loop for 0HN2G1827FKG2 completed.
2024-03-29 21:08:54.169 +05:00 [DBG] Connection id "0HN2G1827FKG2" stopped.
2024-03-29 21:10:08.460 +05:00 [DBG] Connection id "0HN2G1827FKG3" accepted.
2024-03-29 21:10:08.461 +05:00 [DBG] Connection id "0HN2G1827FKG3" started.
2024-03-29 21:10:08.493 +05:00 [DBG] Connection 0HN2G1827FKG3 established using the following protocol: "Tls12"
2024-03-29 21:10:08.495 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=576016 - 0
2024-03-29 21:10:08.495 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-29 21:10:08.495 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-29 21:10:08.495 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:10:08.495 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 21:10:08.495 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:10:08.518 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 21:10:08.518 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:10:08.518 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 21:10:08.518 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 21:10:08.518 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 21:10:08.518 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 21:10:08.518 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 21:10:08.518 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 21:10:08.518 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:10:08.521 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:10:08.521 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-29 21:10:08.521 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-29 21:10:08.522 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 21:10:08.522 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 21:10:08.522 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-29 21:10:08.522 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-29 21:10:08.613 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 21:10:08.618 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:10:08.619 +05:00 [DBG] Creating DbConnection.
2024-03-29 21:10:08.619 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-29 21:10:08.619 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:10:08.619 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:10:08.619 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:08.619 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:08.620 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 21:10:08.620 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 21:10:08.621 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:08.621 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 21:10:08.621 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:08.621 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:10:08.622 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:10:08.622 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-29 21:10:08.622 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-29 21:10:08.622 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-29 21:10:08.623 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:08.626 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:08.626 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-29 21:10:08.627 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-29 21:10:08.628 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:10:08.628 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:10:08.628 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:10:08.628 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_User`, `id_Device`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-29 21:10:08.629 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_User`, `id_Device`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-29 21:10:08.629 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:08.630 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 21:10:08.630 +05:00 [DBG] Committing transaction.
2024-03-29 21:10:08.650 +05:00 [DBG] Committed transaction.
2024-03-29 21:10:08.650 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:08.650 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:10:08.651 +05:00 [DBG] Disposing transaction.
2024-03-29 21:10:08.652 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:10:08.652 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-29 21:10:08.653 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 134.4467ms
2024-03-29 21:10:08.653 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:10:08.655 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'Token' cannot be tracked because another instance with the same key value for {'IdUser'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityStateAsync(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintActionAsync(EntityEntryGraphNode`1 node, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraphAsync[TState](EntityEntryGraphNode`1 node, Func`3 handleNode, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraphAsync(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.AddAsync(TEntity entity, CancellationToken cancellationToken)
   at BerryMusicV1.Containers.UnauthorizeService.AuthorizeAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 118
   at BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-29 21:10:08.660 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 21:10:08.660 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:08.660 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:10:08.661 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=576016 - 0 - 500 - text/plain;+charset=utf-8 165.6130ms
2024-03-29 21:10:18.489 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 90
2024-03-29 21:10:18.489 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-29 21:10:18.489 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-29 21:10:18.489 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:10:18.489 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 21:10:18.489 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:10:18.489 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 21:10:18.489 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:10:18.489 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 21:10:18.489 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 21:10:18.489 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 21:10:18.489 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 21:10:18.490 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 21:10:18.490 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 21:10:18.490 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:10:18.490 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:10:18.490 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 21:10:18.491 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-29 21:10:18.491 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 21:10:18.491 +05:00 [DBG] Connection id "0HN2G1827FKG3", Request id "0HN2G1827FKG3:00000011": started reading request body.
2024-03-29 21:10:18.491 +05:00 [DBG] Connection id "0HN2G1827FKG3", Request id "0HN2G1827FKG3:00000011": done reading request body.
2024-03-29 21:10:18.492 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-29 21:10:18.492 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:10:18.492 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:10:18.492 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 21:10:18.493 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:10:18.494 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 21:10:18.495 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:10:18.495 +05:00 [DBG] Creating DbConnection.
2024-03-29 21:10:18.495 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-29 21:10:18.495 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:10:18.495 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:10:18.495 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:18.496 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:18.497 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 21:10:18.498 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 21:10:18.499 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:10:18.500 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:18.500 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 1ms reading results.
2024-03-29 21:10:18.500 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:18.500 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:10:18.501 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:10:18.501 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:10:18.501 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:10:18.501 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:18.502 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:18.503 +05:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 250), @__userCred_DeviceId_1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE (`t`.`id_User` = @__user_Id_0) AND (`t`.`id_Device` = @__userCred_DeviceId_1)
LIMIT 1
2024-03-29 21:10:18.504 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 250), @__userCred_DeviceId_1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE (`t`.`id_User` = @__user_Id_0) AND (`t`.`id_Device` = @__userCred_DeviceId_1)
LIMIT 1
2024-03-29 21:10:18.504 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:18.505 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 21:10:18.505 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:18.505 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:10:19.342 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 21:10:19.343 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 21:10:19.343 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 21:10:19.343 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 21:10:19.343 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-29 21:10:19.343 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-29 21:10:19.343 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 853.6883ms
2024-03-29 21:10:19.343 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:10:19.343 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 21:10:19.343 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:19.344 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:10:19.344 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 90 - 204 - - 855.1339ms
2024-03-29 21:10:33.303 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=997777 - 0
2024-03-29 21:10:33.303 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-29 21:10:33.303 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-29 21:10:33.304 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:10:33.304 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 21:10:33.304 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:10:33.304 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 21:10:33.304 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:10:33.304 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 21:10:33.304 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 21:10:33.304 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 21:10:33.304 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 21:10:33.304 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 21:10:33.304 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 21:10:33.304 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:10:33.305 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:10:33.305 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-29 21:10:33.305 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-29 21:10:33.305 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 21:10:33.305 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 21:10:33.305 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-29 21:10:33.305 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-29 21:10:33.306 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 21:10:33.307 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:10:33.307 +05:00 [DBG] Creating DbConnection.
2024-03-29 21:10:33.307 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-29 21:10:33.307 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:10:33.308 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-03-29 21:10:33.308 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:33.309 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:33.310 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 21:10:33.311 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 21:10:33.312 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:10:33.312 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:33.312 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 21:10:33.312 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:33.312 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:10:33.312 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-29 21:10:33.313 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-29 21:10:33.314 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-29 21:10:33.314 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:10:33.314 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-29 21:10:33.319 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:33.320 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:33.320 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:10:33.320 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:10:33.320 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:10:33.320 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-29 21:10:33.346 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-29 21:10:33.346 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:33.346 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 21:10:33.346 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:33.346 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:10:33.346 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:10:33.346 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-29 21:10:33.347 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 42.2793ms
2024-03-29 21:10:33.347 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:10:33.351 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'Token' cannot be tracked because another instance with the same key value for {'IdUser'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityStateAsync(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintActionAsync(EntityEntryGraphNode`1 node, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraphAsync[TState](EntityEntryGraphNode`1 node, Func`3 handleNode, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraphAsync(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.AddAsync(TEntity entity, CancellationToken cancellationToken)
   at BerryMusicV1.Containers.UnauthorizeService.AuthorizeAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 118
   at BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-29 21:10:33.353 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 21:10:33.353 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:10:33.353 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:10:33.353 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=997777 - 0 - 500 - text/plain;+charset=utf-8 50.0381ms
2024-03-29 21:11:45.759 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 21:11:45.818 +05:00 [DBG] Hosting starting
2024-03-29 21:11:45.839 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 21:11:45.848 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 21:11:45.855 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 21:11:45.856 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 21:11:45.856 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 21:11:45.858 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 21:11:45.864 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 21:11:45.869 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 21:11:45.869 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 21:11:45.869 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 21:11:45.869 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 21:11:45.879 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 21:11:45.881 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 21:11:45.885 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 21:11:45.887 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 21:11:45.894 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 21:11:45.895 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 21:11:45.897 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 21:11:45.897 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 21:11:46.032 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 21:11:46.032 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 21:11:46.033 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 21:11:46.033 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 21:11:46.033 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 21:11:46.034 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 21:11:46.035 +05:00 [INF] Hosting environment: Development
2024-03-29 21:11:46.035 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 21:11:46.035 +05:00 [DBG] Hosting started
2024-03-29 21:11:46.055 +05:00 [DBG] Connection id "0HN2G1BN7HDSV" accepted.
2024-03-29 21:11:46.056 +05:00 [DBG] Connection id "0HN2G1BN7HDSV" started.
2024-03-29 21:11:46.083 +05:00 [DBG] Connection id "0HN2G1BN7HDSV" received FIN.
2024-03-29 21:11:46.090 +05:00 [DBG] Connection id "0HN2G1BN7HDT0" accepted.
2024-03-29 21:11:46.090 +05:00 [DBG] Connection id "0HN2G1BN7HDT0" started.
2024-03-29 21:11:46.088 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 21:11:46.111 +05:00 [DBG] Connection id "0HN2G1BN7HDSV" stopped.
2024-03-29 21:11:46.114 +05:00 [DBG] Connection id "0HN2G1BN7HDSV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 21:11:46.160 +05:00 [DBG] Connection 0HN2G1BN7HDT0 established using the following protocol: "Tls12"
2024-03-29 21:11:46.220 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 21:11:46.241 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 21:11:46.267 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 21:11:46.267 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:11:46.491 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 21:11:46.584 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 21:11:46.587 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 370.6816ms
2024-03-29 21:11:46.605 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 21:11:46.605 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 21:11:46.611 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.5608ms
2024-03-29 21:11:46.637 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.6808ms
2024-03-29 21:11:46.894 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 21:11:46.894 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 21:11:46.894 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:11:47.043 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.0010ms
2024-03-29 21:12:16.694 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 90
2024-03-29 21:12:16.701 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-29 21:12:16.707 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-29 21:12:16.708 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:12:16.711 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 21:12:16.713 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:12:16.752 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 21:12:16.753 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:12:16.793 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 21:12:16.795 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 21:12:16.795 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 21:12:16.796 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 21:12:16.796 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 21:12:16.796 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 21:12:16.798 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:12:16.970 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 21:12:17.008 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:12:17.013 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 21:12:17.019 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-29 21:12:17.021 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 21:12:17.038 +05:00 [DBG] Connection id "0HN2G1BN7HDT0", Request id "0HN2G1BN7HDT0:00000017": started reading request body.
2024-03-29 21:12:17.038 +05:00 [DBG] Connection id "0HN2G1BN7HDT0", Request id "0HN2G1BN7HDT0:00000017": done reading request body.
2024-03-29 21:12:17.043 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-29 21:12:17.044 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:12:17.044 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:12:17.044 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 21:12:17.055 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:12:17.689 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-29 21:12:17.690 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-29 21:12:18.045 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 21:12:18.088 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-29 21:12:18.343 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:12:18.394 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:12:18.395 +05:00 [DBG] Creating DbConnection.
2024-03-29 21:12:18.405 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-29 21:12:18.418 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (21ms).
2024-03-29 21:12:18.425 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2024-03-29 21:12:18.430 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:18.751 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:18.762 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 21:12:18.785 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 21:12:18.839 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:12:18.882 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:18.889 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 98ms reading results.
2024-03-29 21:12:18.894 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:18.901 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (5ms).
2024-03-29 21:12:18.904 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(d => d.IdUser == __user_Id_0 && d.IdDevice == __userCred_DeviceId_1)'
2024-03-29 21:12:18.911 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE (t.id_User == @__user_Id_0) && (t.id_Device == @__userCred_DeviceId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:12:18.913 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:12:18.913 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:12:18.913 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:12:18.913 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:18.920 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:18.920 +05:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 250), @__userCred_DeviceId_1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE (`t`.`id_User` = @__user_Id_0) AND (`t`.`id_Device` = @__userCred_DeviceId_1)
LIMIT 1
2024-03-29 21:12:18.922 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 250), @__userCred_DeviceId_1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE (`t`.`id_User` = @__user_Id_0) AND (`t`.`id_Device` = @__userCred_DeviceId_1)
LIMIT 1
2024-03-29 21:12:18.923 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:18.923 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 21:12:18.923 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:18.923 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:12:19.897 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 21:12:19.898 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 21:12:19.901 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 21:12:19.901 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 21:12:19.903 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-29 21:12:19.903 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-29 21:12:19.906 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 3106.919ms
2024-03-29 21:12:19.908 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:12:19.912 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 21:12:19.919 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:19.921 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (2ms).
2024-03-29 21:12:19.922 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 90 - 204 - - 3227.8214ms
2024-03-29 21:12:33.061 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=544451 - 0
2024-03-29 21:12:33.062 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-29 21:12:33.063 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-29 21:12:33.063 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:12:33.064 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 21:12:33.064 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:12:33.066 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 21:12:33.066 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:12:33.075 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 21:12:33.075 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 21:12:33.076 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 21:12:33.076 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 21:12:33.076 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 21:12:33.076 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 21:12:33.076 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:12:33.078 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:12:33.081 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-29 21:12:33.082 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-29 21:12:33.085 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 21:12:33.085 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 21:12:33.085 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-29 21:12:33.086 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-29 21:12:33.247 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 21:12:33.248 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-29 21:12:33.255 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:12:33.255 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:12:33.255 +05:00 [DBG] Creating DbConnection.
2024-03-29 21:12:33.256 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-29 21:12:33.256 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:12:33.256 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:12:33.256 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:33.258 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:33.258 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 21:12:33.259 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 21:12:33.260 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:33.260 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 21:12:33.260 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:33.260 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:12:33.305 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:12:33.311 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-29 21:12:33.313 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-29 21:12:33.323 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-29 21:12:33.427 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:33.429 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:33.432 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-29 21:12:33.440 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-29 21:12:33.446 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:12:33.446 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:12:33.446 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:12:33.447 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_User`, `id_Device`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-29 21:12:33.447 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_User`, `id_Device`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-29 21:12:33.452 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:33.453 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 5ms reading results.
2024-03-29 21:12:33.455 +05:00 [DBG] Committing transaction.
2024-03-29 21:12:33.478 +05:00 [DBG] Committed transaction.
2024-03-29 21:12:33.480 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:33.481 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:12:33.483 +05:00 [DBG] Disposing transaction.
2024-03-29 21:12:33.495 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:12:33.497 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-29 21:12:33.501 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 21:12:33.502 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 21:12:33.502 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 21:12:33.502 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 21:12:33.502 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-29 21:12:33.502 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-29 21:12:33.543 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 466.5775ms
2024-03-29 21:12:33.543 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:12:33.543 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 21:12:33.544 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:12:33.544 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:12:33.544 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=544451 - 0 - 200 - application/json;+charset=utf-8 482.8910ms
2024-03-29 21:15:28.653 +05:00 [DBG] Connection id "0HN2G1BN7HDT0" received FIN.
2024-03-29 21:15:28.654 +05:00 [DBG] Connection id "0HN2G1BN7HDT0" is closed. The last processed stream ID was 25.
2024-03-29 21:15:28.655 +05:00 [DBG] Connection id "0HN2G1BN7HDT0" sending FIN because: "The client closed the connection."
2024-03-29 21:15:28.656 +05:00 [DBG] The connection queue processing loop for 0HN2G1BN7HDT0 completed.
2024-03-29 21:15:28.657 +05:00 [DBG] Connection id "0HN2G1BN7HDT0" stopped.
2024-03-29 21:16:57.843 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 21:16:57.914 +05:00 [DBG] Hosting starting
2024-03-29 21:16:57.931 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 21:16:57.940 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 21:16:57.947 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 21:16:57.948 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 21:16:57.948 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 21:16:57.948 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 21:16:57.953 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 21:16:57.956 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 21:16:57.957 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 21:16:57.957 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 21:16:57.959 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 21:16:57.967 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 21:16:57.969 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 21:16:57.972 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 21:16:57.975 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 21:16:57.979 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 21:16:57.980 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 21:16:57.981 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 21:16:57.982 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 21:16:58.112 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 21:16:58.112 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 21:16:58.112 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 21:16:58.112 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 21:16:58.112 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 21:16:58.114 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 21:16:58.115 +05:00 [INF] Hosting environment: Development
2024-03-29 21:16:58.115 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 21:16:58.115 +05:00 [DBG] Hosting started
2024-03-29 21:16:58.154 +05:00 [DBG] Connection id "0HN2G1EK7UKF6" accepted.
2024-03-29 21:16:58.155 +05:00 [DBG] Connection id "0HN2G1EK7UKF6" started.
2024-03-29 21:16:58.216 +05:00 [DBG] Connection id "0HN2G1EK7UKF6" received FIN.
2024-03-29 21:16:58.220 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 21:16:58.236 +05:00 [DBG] Connection id "0HN2G1EK7UKF6" stopped.
2024-03-29 21:16:58.239 +05:00 [DBG] Connection id "0HN2G1EK7UKF6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 21:16:58.264 +05:00 [DBG] Connection id "0HN2G1EK7UKF7" accepted.
2024-03-29 21:16:58.265 +05:00 [DBG] Connection id "0HN2G1EK7UKF7" started.
2024-03-29 21:16:58.320 +05:00 [DBG] Connection 0HN2G1EK7UKF7 established using the following protocol: "Tls12"
2024-03-29 21:16:58.382 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 21:16:58.404 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 21:16:58.444 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 21:16:58.445 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:16:58.652 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 21:16:58.746 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 21:16:58.772 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 21:16:58.772 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 21:16:58.781 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 402.8745ms
2024-03-29 21:16:58.781 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 7.4795ms
2024-03-29 21:16:58.827 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.5758ms
2024-03-29 21:16:59.027 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 21:16:59.027 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 21:16:59.027 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:16:59.169 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.2025ms
2024-03-29 21:17:28.685 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 120
2024-03-29 21:17:28.690 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-29 21:17:28.695 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-29 21:17:28.696 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:17:28.698 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 21:17:28.702 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:17:28.740 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 21:17:28.741 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:17:28.786 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 21:17:28.788 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 21:17:28.788 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 21:17:28.788 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 21:17:28.789 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 21:17:28.789 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 21:17:28.792 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:17:28.975 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 21:17:29.014 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:17:29.021 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 21:17:29.023 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-29 21:17:29.025 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 21:17:29.038 +05:00 [DBG] Connection id "0HN2G1EK7UKF7", Request id "0HN2G1EK7UKF7:00000017": started reading request body.
2024-03-29 21:17:29.038 +05:00 [DBG] Connection id "0HN2G1EK7UKF7", Request id "0HN2G1EK7UKF7:00000017": done reading request body.
2024-03-29 21:17:29.043 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-29 21:17:29.044 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:17:29.044 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:17:29.044 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 21:17:29.053 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:17:29.673 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-29 21:17:29.676 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-29 21:17:30.049 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 21:17:30.089 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-29 21:17:30.328 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:17:30.379 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:17:30.381 +05:00 [DBG] Creating DbConnection.
2024-03-29 21:17:30.397 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-29 21:17:30.410 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2024-03-29 21:17:30.418 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (38ms).
2024-03-29 21:17:30.423 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:17:30.703 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:17:30.714 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 21:17:30.738 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 21:17:30.787 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:17:30.825 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:17:30.835 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 86ms reading results.
2024-03-29 21:17:30.838 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:17:30.845 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-29 21:17:30.848 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(d => d.IdUser == __user_Id_0 && d.IdDevice == __userCred_DeviceId_1)'
2024-03-29 21:17:30.855 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE (t.id_User == @__user_Id_0) && (t.id_Device == @__userCred_DeviceId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:17:30.856 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:17:30.856 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:17:30.857 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:17:30.857 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:17:30.863 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:17:30.864 +05:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 250), @__userCred_DeviceId_1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE (`t`.`id_User` = @__user_Id_0) AND (`t`.`id_Device` = @__userCred_DeviceId_1)
LIMIT 1
2024-03-29 21:17:30.866 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 250), @__userCred_DeviceId_1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE (`t`.`id_User` = @__user_Id_0) AND (`t`.`id_Device` = @__userCred_DeviceId_1)
LIMIT 1
2024-03-29 21:17:30.871 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:17:30.879 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:17:30.879 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 12ms reading results.
2024-03-29 21:17:30.879 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:17:30.879 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:17:30.885 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 21:17:30.886 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 21:17:30.886 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 21:17:30.886 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 21:17:30.887 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-29 21:17:30.888 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-29 21:17:30.906 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 2112.0939ms
2024-03-29 21:17:30.908 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:17:30.913 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 21:17:30.916 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:17:30.919 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (2ms).
2024-03-29 21:17:30.920 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 120 - 200 - application/json;+charset=utf-8 2234.9058ms
2024-03-29 21:20:21.726 +05:00 [DBG] Connection id "0HN2G1EK7UKF7" received FIN.
2024-03-29 21:20:21.727 +05:00 [DBG] Connection id "0HN2G1EK7UKF7" is closing.
2024-03-29 21:20:21.727 +05:00 [DBG] Connection id "0HN2G1EK7UKF7" is closed. The last processed stream ID was 23.
2024-03-29 21:20:21.728 +05:00 [DBG] Connection id "0HN2G1EK7UKF7" sending FIN because: "The client closed the connection."
2024-03-29 21:20:21.729 +05:00 [DBG] The connection queue processing loop for 0HN2G1EK7UKF7 completed.
2024-03-29 21:20:21.730 +05:00 [DBG] Connection id "0HN2G1EK7UKF7" stopped.
2024-03-29 21:27:55.029 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 21:27:55.089 +05:00 [DBG] Hosting starting
2024-03-29 21:27:55.103 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 21:27:55.110 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 21:27:55.116 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 21:27:55.116 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 21:27:55.117 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 21:27:55.117 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 21:27:55.122 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 21:27:55.125 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 21:27:55.125 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 21:27:55.125 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 21:27:55.125 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 21:27:55.133 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 21:27:55.136 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 21:27:55.139 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 21:27:55.141 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 21:27:55.145 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 21:27:55.146 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 21:27:55.147 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 21:27:55.148 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 21:27:55.274 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 21:27:55.274 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 21:27:55.275 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 21:27:55.275 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 21:27:55.275 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 21:27:55.277 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 21:27:55.277 +05:00 [INF] Hosting environment: Development
2024-03-29 21:27:55.277 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 21:27:55.277 +05:00 [DBG] Hosting started
2024-03-29 21:27:55.408 +05:00 [DBG] Connection id "0HN2G1KO40IGV" received FIN.
2024-03-29 21:27:55.408 +05:00 [DBG] Connection id "0HN2G1KO40IH0" received FIN.
2024-03-29 21:27:55.413 +05:00 [DBG] Connection id "0HN2G1KO40IGV" accepted.
2024-03-29 21:27:55.413 +05:00 [DBG] Connection id "0HN2G1KO40IH0" accepted.
2024-03-29 21:27:55.414 +05:00 [DBG] Connection id "0HN2G1KO40IH0" started.
2024-03-29 21:27:55.414 +05:00 [DBG] Connection id "0HN2G1KO40IGV" started.
2024-03-29 21:27:55.425 +05:00 [DBG] Connection id "0HN2G1KO40IH1" accepted.
2024-03-29 21:27:55.426 +05:00 [DBG] Connection id "0HN2G1KO40IH1" started.
2024-03-29 21:27:55.429 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 21:27:55.429 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 21:27:55.449 +05:00 [DBG] Connection id "0HN2G1KO40IH0" stopped.
2024-03-29 21:27:55.449 +05:00 [DBG] Connection id "0HN2G1KO40IGV" stopped.
2024-03-29 21:27:55.453 +05:00 [DBG] Connection id "0HN2G1KO40IGV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 21:27:55.454 +05:00 [DBG] Connection id "0HN2G1KO40IH0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 21:27:55.469 +05:00 [DBG] Connection 0HN2G1KO40IH1 established using the following protocol: "Tls12"
2024-03-29 21:27:55.521 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 21:27:55.540 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 21:27:55.569 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 21:27:55.570 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:27:55.703 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 21:27:55.775 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 21:27:55.778 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 259.3448ms
2024-03-29 21:27:55.810 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 21:27:55.810 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 21:27:55.814 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.6031ms
2024-03-29 21:27:55.830 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.9436ms
2024-03-29 21:27:56.085 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 21:27:56.086 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 21:27:56.086 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:27:56.203 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.4548ms
2024-03-29 21:30:47.082 +05:00 [DBG] Connection id "0HN2G1KO40IH1" received FIN.
2024-03-29 21:30:47.085 +05:00 [DBG] The connection queue processing loop for 0HN2G1KO40IH1 completed.
2024-03-29 21:30:47.087 +05:00 [DBG] Connection id "0HN2G1KO40IH1" is closed. The last processed stream ID was 21.
2024-03-29 21:30:47.088 +05:00 [DBG] Connection id "0HN2G1KO40IH1" sending FIN because: "The client closed the connection."
2024-03-29 21:30:47.098 +05:00 [DBG] Connection id "0HN2G1KO40IH1" stopped.
2024-03-29 21:53:49.008 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 21:53:49.088 +05:00 [DBG] Hosting starting
2024-03-29 21:53:49.108 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 21:53:49.117 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 21:53:49.124 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 21:53:49.125 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 21:53:49.125 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 21:53:49.125 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 21:53:49.131 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 21:53:49.135 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 21:53:49.135 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 21:53:49.135 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 21:53:49.135 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 21:53:49.143 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 21:53:49.148 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 21:53:49.151 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 21:53:49.152 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 21:53:49.158 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 21:53:49.159 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 21:53:49.160 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 21:53:49.160 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 21:53:49.313 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 21:53:49.314 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 21:53:49.314 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 21:53:49.314 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 21:53:49.314 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 21:53:49.316 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 21:53:49.317 +05:00 [INF] Hosting environment: Development
2024-03-29 21:53:49.317 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 21:53:49.317 +05:00 [DBG] Hosting started
2024-03-29 21:53:49.345 +05:00 [DBG] Connection id "0HN2G2377GCC9" accepted.
2024-03-29 21:53:49.346 +05:00 [DBG] Connection id "0HN2G2377GCC9" started.
2024-03-29 21:53:49.356 +05:00 [DBG] Connection id "0HN2G2377GCC9" received FIN.
2024-03-29 21:53:49.361 +05:00 [DBG] Connection id "0HN2G2377GCCA" accepted.
2024-03-29 21:53:49.362 +05:00 [DBG] Connection id "0HN2G2377GCCA" started.
2024-03-29 21:53:49.363 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 21:53:49.386 +05:00 [DBG] Connection id "0HN2G2377GCC9" stopped.
2024-03-29 21:53:49.388 +05:00 [DBG] Connection id "0HN2G2377GCC9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 21:53:49.438 +05:00 [DBG] Connection 0HN2G2377GCCA established using the following protocol: "Tls12"
2024-03-29 21:53:49.497 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 21:53:49.521 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 21:53:49.550 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 21:53:49.550 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:53:49.696 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 21:53:49.765 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 21:53:49.769 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 276.1126ms
2024-03-29 21:53:49.793 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 21:53:49.793 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 21:53:49.807 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 13.2671ms
2024-03-29 21:53:49.823 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.8310ms
2024-03-29 21:53:50.433 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 21:53:50.434 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 21:53:50.434 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:53:50.644 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 211.2483ms
2024-03-29 21:53:53.479 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/auth - -
2024-03-29 21:53:53.484 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 21:53:53.490 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 21:53:53.491 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 21:53:53.509 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:53:53.549 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 21:53:53.776 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 21:53:53.777 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/auth - - - 401 0 - 297.7081ms
2024-03-29 21:54:12.486 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-29 21:54:12.486 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-29 21:54:12.486 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-29 21:54:12.487 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:54:12.502 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 21:54:12.502 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:54:12.508 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 21:54:12.509 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:54:12.742 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 21:54:12.744 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 21:54:12.744 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 21:54:12.744 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 21:54:12.744 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 21:54:12.744 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 21:54:12.747 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:54:13.374 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 21:54:13.425 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:54:13.456 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 21:54:13.459 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-29 21:54:13.460 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 21:54:13.507 +05:00 [DBG] Connection id "0HN2G2377GCCA", Request id "0HN2G2377GCCA:00000019": started reading request body.
2024-03-29 21:54:13.508 +05:00 [DBG] Connection id "0HN2G2377GCCA", Request id "0HN2G2377GCCA:00000019": done reading request body.
2024-03-29 21:54:13.511 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-29 21:54:13.511 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:54:13.511 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:54:13.511 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 21:54:13.548 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 21:54:14.459 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-29 21:54:14.459 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-29 21:54:14.850 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 21:54:14.892 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-29 21:54:15.142 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:54:15.197 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:54:15.200 +05:00 [DBG] Creating DbConnection.
2024-03-29 21:54:15.226 +05:00 [DBG] Created DbConnection. (23ms).
2024-03-29 21:54:15.237 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-03-29 21:54:15.258 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (65ms).
2024-03-29 21:54:15.264 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:15.932 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:15.947 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 21:54:15.967 +05:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 21:54:16.033 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:54:16.076 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:16.082 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 108ms reading results.
2024-03-29 21:54:16.086 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:16.092 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-29 21:54:16.130 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdUser") == __p_0)'
2024-03-29 21:54:16.142 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:54:16.144 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:54:16.144 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:54:16.144 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:54:16.144 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:16.150 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:16.151 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-29 21:54:16.153 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-29 21:54:16.155 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:16.156 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 1ms reading results.
2024-03-29 21:54:16.156 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:16.156 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:54:16.187 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 29.03.2024 21:54:16
2024-03-29 21:54:17.168 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 21:54:17.170 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 21:54:17.170 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 21:54:17.170 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 21:54:17.171 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-29 21:54:17.172 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-29 21:54:17.176 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 4428.3268ms
2024-03-29 21:54:17.177 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 21:54:17.181 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 21:54:17.184 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:17.186 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-29 21:54:17.186 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 4700.0546ms
2024-03-29 21:54:37.635 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=487861 - 0
2024-03-29 21:54:37.639 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-29 21:54:37.639 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-29 21:54:37.639 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:54:37.640 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 21:54:37.640 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:54:37.645 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 21:54:37.645 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:54:37.666 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 21:54:37.667 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 21:54:37.667 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 21:54:37.667 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 21:54:37.667 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 21:54:37.667 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 21:54:37.667 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:54:37.668 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 21:54:37.686 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-29 21:54:37.688 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-29 21:54:37.689 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 21:54:37.690 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 21:54:37.690 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-29 21:54:37.690 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-29 21:54:37.955 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 21:54:37.956 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-29 21:54:37.960 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 21:54:37.961 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:54:37.961 +05:00 [DBG] Creating DbConnection.
2024-03-29 21:54:37.962 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-29 21:54:37.962 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-29 21:54:37.963 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-03-29 21:54:37.963 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:37.964 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:37.965 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 21:54:37.967 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 21:54:37.967 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:37.967 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 21:54:37.967 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:37.967 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:54:38.011 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:54:38.018 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-29 21:54:38.023 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-29 21:54:38.034 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-29 21:54:38.141 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:38.142 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:38.146 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-29 21:54:38.153 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-29 21:54:38.159 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 21:54:38.159 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:54:38.160 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 21:54:38.160 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_User`, `id_Device`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-29 21:54:38.161 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_User`, `id_Device`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-29 21:54:38.167 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:38.167 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 6ms reading results.
2024-03-29 21:54:38.171 +05:00 [DBG] Committing transaction.
2024-03-29 21:54:38.200 +05:00 [DBG] Committed transaction.
2024-03-29 21:54:38.203 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:38.203 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:54:38.209 +05:00 [DBG] Disposing transaction.
2024-03-29 21:54:38.223 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 21:54:38.225 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-29 21:54:38.227 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 21:54:38.227 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 21:54:38.227 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 21:54:38.227 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 21:54:38.227 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-29 21:54:38.228 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-29 21:54:38.265 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 598.1003ms
2024-03-29 21:54:38.265 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 21:54:38.265 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 21:54:38.266 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 21:54:38.266 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 21:54:38.266 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=487861 - 0 - 200 - application/json;+charset=utf-8 630.6784ms
2024-03-29 21:55:42.499 +05:00 [DBG] Connection id "0HN2G2377GCCB" received FIN.
2024-03-29 21:55:42.499 +05:00 [DBG] Connection id "0HN2G2377GCCB" accepted.
2024-03-29 21:55:42.499 +05:00 [DBG] Connection id "0HN2G2377GCCC" accepted.
2024-03-29 21:55:42.499 +05:00 [DBG] Connection id "0HN2G2377GCCB" started.
2024-03-29 21:55:42.500 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 21:55:42.500 +05:00 [DBG] Connection id "0HN2G2377GCCB" stopped.
2024-03-29 21:55:42.500 +05:00 [DBG] Connection id "0HN2G2377GCCC" started.
2024-03-29 21:55:42.503 +05:00 [DBG] Connection id "0HN2G2377GCCB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 21:55:42.519 +05:00 [DBG] Connection 0HN2G2377GCCC established using the following protocol: "Tls12"
2024-03-29 21:55:42.523 +05:00 [DBG] Connection id "0HN2G2377GCCC" received FIN.
2024-03-29 21:55:42.532 +05:00 [DBG] Connection id "0HN2G2377GCCC" sending FIN because: "The client closed the connection."
2024-03-29 21:55:42.532 +05:00 [DBG] Connection id "0HN2G2377GCCC" disconnecting.
2024-03-29 21:55:42.533 +05:00 [DBG] Connection id "0HN2G2377GCCC" stopped.
2024-03-29 21:55:46.005 +05:00 [DBG] Connection id "0HN2G2377GCCD" accepted.
2024-03-29 21:55:46.006 +05:00 [DBG] Connection id "0HN2G2377GCCD" started.
2024-03-29 21:55:46.006 +05:00 [DBG] Connection id "0HN2G2377GCCD" received FIN.
2024-03-29 21:55:46.006 +05:00 [DBG] Connection id "0HN2G2377GCCE" accepted.
2024-03-29 21:55:46.007 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 21:55:46.007 +05:00 [DBG] Connection id "0HN2G2377GCCD" stopped.
2024-03-29 21:55:46.007 +05:00 [DBG] Connection id "0HN2G2377GCCE" started.
2024-03-29 21:55:46.008 +05:00 [DBG] Connection id "0HN2G2377GCCD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 21:55:46.013 +05:00 [DBG] Connection 0HN2G2377GCCE established using the following protocol: "Tls12"
2024-03-29 21:55:46.026 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/authorize/auth - -
2024-03-29 21:55:46.026 +05:00 [DBG] No candidates found for the request path '/authorize/auth'
2024-03-29 21:55:46.026 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:55:46.027 +05:00 [DBG] The request path  does not match the path filter
2024-03-29 21:55:46.074 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 21:55:46.092 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2024-03-29 21:55:46.092 +05:00 [DBG] Connection id "0HN2G2377GCCE" completed keep alive response.
2024-03-29 21:55:46.092 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/authorize/auth - - - 404 0 - 66.5086ms
2024-03-29 21:55:48.643 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/authorize/auth - -
2024-03-29 21:55:48.643 +05:00 [DBG] No candidates found for the request path '/authorize/auth'
2024-03-29 21:55:48.643 +05:00 [DBG] Request did not match any endpoints
2024-03-29 21:55:48.643 +05:00 [DBG] The request path  does not match the path filter
2024-03-29 21:55:48.644 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 21:55:48.645 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2024-03-29 21:55:48.646 +05:00 [DBG] Connection id "0HN2G2377GCCE" completed keep alive response.
2024-03-29 21:55:48.646 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/authorize/auth - - - 404 0 - 3.1504ms
2024-03-29 21:55:52.469 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 21:55:52.469 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 21:55:52.469 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 21:55:52.469 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 21:55:52.469 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:55:52.472 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 21:55:52.473 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 21:55:52.475 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 21:55:52.475 +05:00 [DBG] Connection id "0HN2G2377GCCE" completed keep alive response.
2024-03-29 21:55:52.476 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 6.8707ms
2024-03-29 21:56:08.707 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 21:56:08.707 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 21:56:08.708 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 21:56:08.708 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 21:56:08.708 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:56:08.710 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 21:56:08.710 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 21:56:08.710 +05:00 [DBG] Connection id "0HN2G2377GCCE" completed keep alive response.
2024-03-29 21:56:08.710 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 3.0946ms
2024-03-29 21:56:14.939 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 21:56:14.939 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 21:56:14.939 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 21:56:14.939 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 21:56:14.939 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:56:14.939 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 21:56:14.940 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 21:56:14.940 +05:00 [DBG] Connection id "0HN2G2377GCCE" completed keep alive response.
2024-03-29 21:56:14.940 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8288ms
2024-03-29 21:56:42.694 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 21:56:42.694 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 21:56:42.694 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 21:56:42.694 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 21:56:42.694 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:56:42.694 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 21:56:42.695 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 21:56:42.697 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 21:56:42.697 +05:00 [DBG] Connection id "0HN2G2377GCCE" completed keep alive response.
2024-03-29 21:56:42.698 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 3.8309ms
2024-03-29 21:56:54.931 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 21:56:54.931 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 21:56:54.931 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 21:56:54.931 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 21:56:54.931 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:56:54.931 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 21:56:54.932 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 21:56:54.932 +05:00 [DBG] Connection id "0HN2G2377GCCE" completed keep alive response.
2024-03-29 21:56:54.932 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.7009ms
2024-03-29 21:57:29.702 +05:00 [DBG] Connection id "0HN2G2377GCCA" received FIN.
2024-03-29 21:57:29.703 +05:00 [DBG] Connection id "0HN2G2377GCCA" is closed. The last processed stream ID was 27.
2024-03-29 21:57:29.703 +05:00 [DBG] Connection id "0HN2G2377GCCA" sending FIN because: "The client closed the connection."
2024-03-29 21:57:29.705 +05:00 [DBG] The connection queue processing loop for 0HN2G2377GCCA completed.
2024-03-29 21:57:29.706 +05:00 [DBG] Connection id "0HN2G2377GCCA" stopped.
2024-03-29 21:59:07.118 +05:00 [DBG] Connection id "0HN2G2377GCCE" disconnecting.
2024-03-29 21:59:07.118 +05:00 [DBG] Connection id "0HN2G2377GCCE" stopped.
2024-03-29 21:59:07.118 +05:00 [DBG] Connection id "0HN2G2377GCCE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 21:59:22.560 +05:00 [DBG] Connection id "0HN2G2377GCCF" accepted.
2024-03-29 21:59:22.561 +05:00 [DBG] Connection id "0HN2G2377GCCF" started.
2024-03-29 21:59:22.590 +05:00 [DBG] Connection 0HN2G2377GCCF established using the following protocol: "Tls12"
2024-03-29 21:59:22.591 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 21:59:22.591 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 21:59:22.591 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 21:59:22.591 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 21:59:22.591 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 21:59:22.591 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 21:59:23.231 +05:00 [DBG] Successfully validated the token.
2024-03-29 21:59:23.307 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 21:59:23.307 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 716.1459ms
2024-03-29 21:59:23.307 +05:00 [DBG] Connection id "0HN2G2377GCCF" disconnecting.
2024-03-29 21:59:23.308 +05:00 [DBG] Connection id "0HN2G2377GCCF" stopped.
2024-03-29 21:59:23.309 +05:00 [DBG] Connection id "0HN2G2377GCCF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:04:08.523 +05:00 [DBG] Connection id "0HN2G2377GCCG" accepted.
2024-03-29 22:04:08.523 +05:00 [DBG] Connection id "0HN2G2377GCCG" started.
2024-03-29 22:04:08.530 +05:00 [DBG] Connection 0HN2G2377GCCG established using the following protocol: "Tls12"
2024-03-29 22:04:08.530 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:04:08.531 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:04:08.531 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:04:08.531 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:04:08.531 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:04:08.531 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:04:08.531 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:04:08.532 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.1864ms
2024-03-29 22:04:08.532 +05:00 [DBG] Connection id "0HN2G2377GCCG" disconnecting.
2024-03-29 22:04:08.532 +05:00 [DBG] Connection id "0HN2G2377GCCG" stopped.
2024-03-29 22:04:08.532 +05:00 [DBG] Connection id "0HN2G2377GCCG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:04:11.709 +05:00 [DBG] Connection id "0HN2G2377GCCH" accepted.
2024-03-29 22:04:11.710 +05:00 [DBG] Connection id "0HN2G2377GCCH" started.
2024-03-29 22:04:11.711 +05:00 [DBG] Connection 0HN2G2377GCCH established using the following protocol: "Tls12"
2024-03-29 22:04:11.711 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:04:11.711 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:04:11.711 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:04:11.711 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:04:11.711 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:04:11.711 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:04:11.712 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:04:11.712 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:04:11.712 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.1272ms
2024-03-29 22:04:11.712 +05:00 [DBG] Connection id "0HN2G2377GCCH" disconnecting.
2024-03-29 22:04:11.712 +05:00 [DBG] Connection id "0HN2G2377GCCH" stopped.
2024-03-29 22:04:11.712 +05:00 [DBG] Connection id "0HN2G2377GCCH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:09:15.792 +05:00 [DBG] Connection id "0HN2G2377GCCI" accepted.
2024-03-29 22:09:15.792 +05:00 [DBG] Connection id "0HN2G2377GCCI" started.
2024-03-29 22:09:15.793 +05:00 [DBG] Connection 0HN2G2377GCCI established using the following protocol: "Tls12"
2024-03-29 22:09:15.794 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:09:15.794 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:09:15.794 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:09:15.794 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:09:15.794 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:09:15.794 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:09:15.795 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:09:15.795 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:09:15.795 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.2735ms
2024-03-29 22:09:15.795 +05:00 [DBG] Connection id "0HN2G2377GCCI" disconnecting.
2024-03-29 22:09:15.795 +05:00 [DBG] Connection id "0HN2G2377GCCI" stopped.
2024-03-29 22:09:15.796 +05:00 [DBG] Connection id "0HN2G2377GCCI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:09:16.343 +05:00 [DBG] Connection id "0HN2G2377GCCJ" accepted.
2024-03-29 22:09:16.343 +05:00 [DBG] Connection id "0HN2G2377GCCJ" started.
2024-03-29 22:09:16.345 +05:00 [DBG] Connection 0HN2G2377GCCJ established using the following protocol: "Tls12"
2024-03-29 22:09:16.345 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:09:16.345 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:09:16.345 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:09:16.345 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:09:16.346 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:09:16.346 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:09:16.346 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:09:16.346 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:09:16.348 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.2945ms
2024-03-29 22:09:16.348 +05:00 [DBG] Connection id "0HN2G2377GCCJ" disconnecting.
2024-03-29 22:09:16.348 +05:00 [DBG] Connection id "0HN2G2377GCCJ" stopped.
2024-03-29 22:09:16.348 +05:00 [DBG] Connection id "0HN2G2377GCCJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:09:16.795 +05:00 [DBG] Connection id "0HN2G2377GCCK" accepted.
2024-03-29 22:09:16.795 +05:00 [DBG] Connection id "0HN2G2377GCCK" started.
2024-03-29 22:09:16.796 +05:00 [DBG] Connection 0HN2G2377GCCK established using the following protocol: "Tls12"
2024-03-29 22:09:16.798 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:09:16.798 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:09:16.798 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:09:16.798 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:09:16.798 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:09:16.798 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:09:16.799 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:09:16.799 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:09:16.799 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.2658ms
2024-03-29 22:09:16.799 +05:00 [DBG] Connection id "0HN2G2377GCCK" disconnecting.
2024-03-29 22:09:16.799 +05:00 [DBG] Connection id "0HN2G2377GCCK" stopped.
2024-03-29 22:09:16.799 +05:00 [DBG] Connection id "0HN2G2377GCCK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:09:17.215 +05:00 [DBG] Connection id "0HN2G2377GCCL" accepted.
2024-03-29 22:09:17.216 +05:00 [DBG] Connection id "0HN2G2377GCCL" started.
2024-03-29 22:09:17.219 +05:00 [DBG] Connection 0HN2G2377GCCL established using the following protocol: "Tls12"
2024-03-29 22:09:17.219 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:09:17.220 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:09:17.220 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:09:17.220 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:09:17.220 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:09:17.220 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:09:17.220 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:09:17.220 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:09:17.220 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8466ms
2024-03-29 22:09:17.220 +05:00 [DBG] Connection id "0HN2G2377GCCL" disconnecting.
2024-03-29 22:09:17.221 +05:00 [DBG] Connection id "0HN2G2377GCCL" stopped.
2024-03-29 22:09:17.221 +05:00 [DBG] Connection id "0HN2G2377GCCL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:09:17.663 +05:00 [DBG] Connection id "0HN2G2377GCCM" accepted.
2024-03-29 22:09:17.664 +05:00 [DBG] Connection id "0HN2G2377GCCM" started.
2024-03-29 22:09:17.665 +05:00 [DBG] Connection 0HN2G2377GCCM established using the following protocol: "Tls12"
2024-03-29 22:09:17.665 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:09:17.666 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:09:17.666 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:09:17.666 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:09:17.666 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:09:17.666 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:09:17.666 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:09:17.666 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:09:17.666 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8576ms
2024-03-29 22:09:17.666 +05:00 [DBG] Connection id "0HN2G2377GCCM" disconnecting.
2024-03-29 22:09:17.667 +05:00 [DBG] Connection id "0HN2G2377GCCM" stopped.
2024-03-29 22:09:17.667 +05:00 [DBG] Connection id "0HN2G2377GCCM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:10:26.516 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 22:10:26.577 +05:00 [DBG] Hosting starting
2024-03-29 22:10:26.622 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 22:10:26.630 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 22:10:26.636 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 22:10:26.636 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 22:10:26.636 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 22:10:26.637 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 22:10:26.641 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 22:10:26.644 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 22:10:26.645 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 22:10:26.645 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 22:10:26.645 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 22:10:26.652 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 22:10:26.654 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:10:26.658 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 22:10:26.659 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:10:26.664 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 22:10:26.665 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 22:10:26.666 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 22:10:26.667 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 22:10:26.809 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 22:10:26.810 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 22:10:26.810 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 22:10:26.810 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 22:10:26.810 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 22:10:26.812 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 22:10:26.812 +05:00 [INF] Hosting environment: Development
2024-03-29 22:10:26.812 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 22:10:26.812 +05:00 [DBG] Hosting started
2024-03-29 22:10:27.112 +05:00 [DBG] Connection id "0HN2G2CGIUO4M" accepted.
2024-03-29 22:10:27.112 +05:00 [DBG] Connection id "0HN2G2CGIUO4N" accepted.
2024-03-29 22:10:27.113 +05:00 [DBG] Connection id "0HN2G2CGIUO4N" started.
2024-03-29 22:10:27.113 +05:00 [DBG] Connection id "0HN2G2CGIUO4M" started.
2024-03-29 22:10:27.123 +05:00 [DBG] Connection id "0HN2G2CGIUO4N" received FIN.
2024-03-29 22:10:27.128 +05:00 [DBG] Connection id "0HN2G2CGIUO4M" received FIN.
2024-03-29 22:10:27.129 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:10:27.136 +05:00 [DBG] Connection id "0HN2G2CGIUO4O" accepted.
2024-03-29 22:10:27.146 +05:00 [DBG] Connection id "0HN2G2CGIUO4O" started.
2024-03-29 22:10:27.136 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:10:27.150 +05:00 [DBG] Connection id "0HN2G2CGIUO4N" stopped.
2024-03-29 22:10:27.150 +05:00 [DBG] Connection id "0HN2G2CGIUO4M" stopped.
2024-03-29 22:10:27.152 +05:00 [DBG] Connection id "0HN2G2CGIUO4M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:10:27.152 +05:00 [DBG] Connection id "0HN2G2CGIUO4N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:10:27.188 +05:00 [DBG] Connection 0HN2G2CGIUO4O established using the following protocol: "Tls12"
2024-03-29 22:10:27.247 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 22:10:27.268 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 22:10:27.300 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 22:10:27.300 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:10:27.464 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 22:10:27.537 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 22:10:27.540 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 296.5667ms
2024-03-29 22:10:27.576 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 22:10:27.576 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 22:10:27.587 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 10.2742ms
2024-03-29 22:10:27.604 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.9786ms
2024-03-29 22:10:28.034 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 22:10:28.035 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 22:10:28.035 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:10:28.226 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 192.1575ms
2024-03-29 22:10:36.137 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-29 22:10:36.141 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-29 22:10:36.147 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-29 22:10:36.148 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 22:10:36.150 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 22:10:36.152 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:10:36.204 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 22:10:36.204 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 22:10:36.251 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 22:10:36.252 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 22:10:36.253 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 22:10:36.253 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 22:10:36.253 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 22:10:36.253 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 22:10:36.255 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:10:36.569 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 22:10:36.603 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:10:36.624 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 22:10:36.627 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-29 22:10:36.628 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 22:10:36.645 +05:00 [DBG] Connection id "0HN2G2CGIUO4O", Request id "0HN2G2CGIUO4O:00000017": started reading request body.
2024-03-29 22:10:36.645 +05:00 [DBG] Connection id "0HN2G2CGIUO4O", Request id "0HN2G2CGIUO4O:00000017": done reading request body.
2024-03-29 22:10:36.652 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-29 22:10:36.653 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 22:10:36.653 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 22:10:36.653 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 22:10:36.669 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 22:10:37.350 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-29 22:10:37.351 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-29 22:10:37.743 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 22:10:37.788 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-29 22:10:38.050 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 22:10:38.101 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:10:38.102 +05:00 [DBG] Creating DbConnection.
2024-03-29 22:10:38.114 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-29 22:10:38.125 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (21ms).
2024-03-29 22:10:38.134 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (37ms).
2024-03-29 22:10:38.142 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:38.563 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:38.576 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 22:10:38.599 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 22:10:38.661 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:10:38.702 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:38.710 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 103ms reading results.
2024-03-29 22:10:38.713 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:38.719 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-29 22:10:38.733 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdUser") == __p_0)'
2024-03-29 22:10:38.749 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 22:10:38.751 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:10:38.751 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:10:38.751 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:10:38.751 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:38.756 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:38.757 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-29 22:10:38.759 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-29 22:10:38.759 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:38.760 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 22:10:38.760 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:38.760 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:10:38.781 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 29.03.2024 22:10:38
2024-03-29 22:10:39.855 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 22:10:39.858 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 22:10:39.858 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 22:10:39.858 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 22:10:39.859 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-29 22:10:39.860 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-29 22:10:39.866 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 3607.2199ms
2024-03-29 22:10:39.867 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 22:10:39.870 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 22:10:39.876 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:39.878 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-29 22:10:39.878 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 3741.5396ms
2024-03-29 22:10:59.442 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=320400 - 0
2024-03-29 22:10:59.443 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-29 22:10:59.443 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-29 22:10:59.443 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 22:10:59.444 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 22:10:59.444 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:10:59.446 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 22:10:59.446 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 22:10:59.453 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 22:10:59.453 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 22:10:59.453 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 22:10:59.453 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 22:10:59.453 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 22:10:59.453 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 22:10:59.453 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:10:59.454 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:10:59.459 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-29 22:10:59.460 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-29 22:10:59.461 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 22:10:59.461 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 22:10:59.461 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-29 22:10:59.462 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-29 22:10:59.711 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 22:10:59.712 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-29 22:10:59.718 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 22:10:59.718 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:10:59.718 +05:00 [DBG] Creating DbConnection.
2024-03-29 22:10:59.719 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-29 22:10:59.719 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:10:59.719 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:10:59.719 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:59.720 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:59.720 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 22:10:59.721 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 22:10:59.727 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:10:59.737 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:59.737 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 16ms reading results.
2024-03-29 22:10:59.737 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:59.737 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:10:59.746 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-29 22:10:59.751 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-29 22:10:59.763 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-29 22:10:59.775 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:10:59.776 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-29 22:10:59.859 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:59.860 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:59.863 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:10:59.863 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:10:59.864 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:10:59.864 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-29 22:10:59.919 +05:00 [INF] Executed DbCommand (55ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-29 22:10:59.924 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:59.925 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 5ms reading results.
2024-03-29 22:10:59.926 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:59.926 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:10:59.933 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:10:59.936 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-29 22:10:59.937 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 22:10:59.937 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 22:10:59.937 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 22:10:59.937 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 22:10:59.937 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-29 22:10:59.937 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-29 22:10:59.951 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 497.6078ms
2024-03-29 22:10:59.951 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 22:10:59.952 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 22:10:59.952 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:10:59.953 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:10:59.953 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=320400 - 0 - 200 - application/json;+charset=utf-8 510.6566ms
2024-03-29 22:11:13.845 +05:00 [DBG] Connection id "0HN2G2CGIUO4P" accepted.
2024-03-29 22:11:13.845 +05:00 [DBG] Connection id "0HN2G2CGIUO4P" started.
2024-03-29 22:11:13.851 +05:00 [DBG] Connection 0HN2G2CGIUO4P established using the following protocol: "Tls12"
2024-03-29 22:11:13.861 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:11:13.861 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:11:13.861 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:11:13.861 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:11:13.861 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:11:13.869 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:11:13.932 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:11:13.934 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:11:13.935 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 74.3251ms
2024-03-29 22:11:13.935 +05:00 [DBG] Connection id "0HN2G2CGIUO4P" disconnecting.
2024-03-29 22:11:13.936 +05:00 [DBG] Connection id "0HN2G2CGIUO4P" stopped.
2024-03-29 22:11:13.936 +05:00 [DBG] Connection id "0HN2G2CGIUO4P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:11:21.916 +05:00 [DBG] Connection id "0HN2G2CGIUO4Q" accepted.
2024-03-29 22:11:21.916 +05:00 [DBG] Connection id "0HN2G2CGIUO4Q" started.
2024-03-29 22:11:21.917 +05:00 [DBG] Connection 0HN2G2CGIUO4Q established using the following protocol: "Tls12"
2024-03-29 22:11:21.918 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:11:21.918 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:11:21.918 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:11:21.918 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:11:21.918 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:11:21.920 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:11:21.921 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:11:21.921 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:11:21.921 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 3.5649ms
2024-03-29 22:11:21.922 +05:00 [DBG] Connection id "0HN2G2CGIUO4Q" disconnecting.
2024-03-29 22:11:21.924 +05:00 [DBG] Connection id "0HN2G2CGIUO4Q" stopped.
2024-03-29 22:11:21.924 +05:00 [DBG] Connection id "0HN2G2CGIUO4Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:11:22.652 +05:00 [DBG] Connection id "0HN2G2CGIUO4R" accepted.
2024-03-29 22:11:22.652 +05:00 [DBG] Connection id "0HN2G2CGIUO4R" started.
2024-03-29 22:11:22.654 +05:00 [DBG] Connection 0HN2G2CGIUO4R established using the following protocol: "Tls12"
2024-03-29 22:11:22.654 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:11:22.655 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:11:22.655 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:11:22.655 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:11:22.655 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:11:22.658 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:11:22.658 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:11:22.658 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:11:22.658 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 4.0009ms
2024-03-29 22:11:22.659 +05:00 [DBG] Connection id "0HN2G2CGIUO4R" disconnecting.
2024-03-29 22:11:22.659 +05:00 [DBG] Connection id "0HN2G2CGIUO4R" stopped.
2024-03-29 22:11:22.659 +05:00 [DBG] Connection id "0HN2G2CGIUO4R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:11:23.086 +05:00 [DBG] Connection id "0HN2G2CGIUO4S" accepted.
2024-03-29 22:11:23.086 +05:00 [DBG] Connection id "0HN2G2CGIUO4S" started.
2024-03-29 22:11:23.087 +05:00 [DBG] Connection 0HN2G2CGIUO4S established using the following protocol: "Tls12"
2024-03-29 22:11:23.088 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:11:23.088 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:11:23.088 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:11:23.088 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:11:23.088 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:11:23.088 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:11:23.088 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:11:23.088 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:11:23.089 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.0907ms
2024-03-29 22:11:23.089 +05:00 [DBG] Connection id "0HN2G2CGIUO4S" disconnecting.
2024-03-29 22:11:23.089 +05:00 [DBG] Connection id "0HN2G2CGIUO4S" stopped.
2024-03-29 22:11:23.090 +05:00 [DBG] Connection id "0HN2G2CGIUO4S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:11:23.259 +05:00 [DBG] Connection id "0HN2G2CGIUO4T" accepted.
2024-03-29 22:11:23.259 +05:00 [DBG] Connection id "0HN2G2CGIUO4T" started.
2024-03-29 22:11:23.260 +05:00 [DBG] Connection 0HN2G2CGIUO4T established using the following protocol: "Tls12"
2024-03-29 22:11:23.261 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:11:23.261 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:11:23.261 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:11:23.261 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:11:23.261 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:11:23.261 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:11:23.261 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:11:23.261 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:11:23.261 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8868ms
2024-03-29 22:11:23.261 +05:00 [DBG] Connection id "0HN2G2CGIUO4T" disconnecting.
2024-03-29 22:11:23.262 +05:00 [DBG] Connection id "0HN2G2CGIUO4T" stopped.
2024-03-29 22:11:23.262 +05:00 [DBG] Connection id "0HN2G2CGIUO4T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:11:23.445 +05:00 [DBG] Connection id "0HN2G2CGIUO4U" accepted.
2024-03-29 22:11:23.445 +05:00 [DBG] Connection id "0HN2G2CGIUO4U" started.
2024-03-29 22:11:23.446 +05:00 [DBG] Connection 0HN2G2CGIUO4U established using the following protocol: "Tls12"
2024-03-29 22:11:23.446 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:11:23.446 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:11:23.446 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:11:23.446 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:11:23.447 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:11:23.447 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:11:23.448 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:11:23.449 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:11:23.449 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.5000ms
2024-03-29 22:11:23.449 +05:00 [DBG] Connection id "0HN2G2CGIUO4U" disconnecting.
2024-03-29 22:11:23.449 +05:00 [DBG] Connection id "0HN2G2CGIUO4U" stopped.
2024-03-29 22:11:23.449 +05:00 [DBG] Connection id "0HN2G2CGIUO4U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:11:23.620 +05:00 [DBG] Connection id "0HN2G2CGIUO4V" accepted.
2024-03-29 22:11:23.620 +05:00 [DBG] Connection id "0HN2G2CGIUO4V" started.
2024-03-29 22:11:23.623 +05:00 [DBG] Connection 0HN2G2CGIUO4V established using the following protocol: "Tls12"
2024-03-29 22:11:23.624 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:11:23.624 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:11:23.624 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:11:23.624 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:11:23.624 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:11:23.624 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:11:23.624 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:11:23.624 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:11:23.625 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8026ms
2024-03-29 22:11:23.625 +05:00 [DBG] Connection id "0HN2G2CGIUO4V" disconnecting.
2024-03-29 22:11:23.625 +05:00 [DBG] Connection id "0HN2G2CGIUO4V" stopped.
2024-03-29 22:11:23.625 +05:00 [DBG] Connection id "0HN2G2CGIUO4V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:11:23.813 +05:00 [DBG] Connection id "0HN2G2CGIUO50" accepted.
2024-03-29 22:11:23.813 +05:00 [DBG] Connection id "0HN2G2CGIUO50" started.
2024-03-29 22:11:23.815 +05:00 [DBG] Connection 0HN2G2CGIUO50 established using the following protocol: "Tls12"
2024-03-29 22:11:23.815 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:11:23.816 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:11:23.816 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:11:23.816 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:11:23.816 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:11:23.816 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:11:23.816 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:11:23.816 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:11:23.816 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.0317ms
2024-03-29 22:11:23.817 +05:00 [DBG] Connection id "0HN2G2CGIUO50" disconnecting.
2024-03-29 22:11:23.817 +05:00 [DBG] Connection id "0HN2G2CGIUO50" stopped.
2024-03-29 22:11:23.817 +05:00 [DBG] Connection id "0HN2G2CGIUO50" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:13:49.968 +05:00 [DBG] Connection id "0HN2G2CGIUO4O" received FIN.
2024-03-29 22:13:49.969 +05:00 [DBG] Connection id "0HN2G2CGIUO4O" is closed. The last processed stream ID was 25.
2024-03-29 22:13:49.969 +05:00 [DBG] Connection id "0HN2G2CGIUO4O" sending FIN because: "The client closed the connection."
2024-03-29 22:13:49.970 +05:00 [DBG] The connection queue processing loop for 0HN2G2CGIUO4O completed.
2024-03-29 22:13:49.971 +05:00 [DBG] Connection id "0HN2G2CGIUO4O" stopped.
2024-03-29 22:15:14.591 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 22:15:14.650 +05:00 [DBG] Hosting starting
2024-03-29 22:15:14.669 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 22:15:14.677 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 22:15:14.683 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 22:15:14.684 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 22:15:14.684 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 22:15:14.684 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 22:15:14.689 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 22:15:14.692 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 22:15:14.692 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 22:15:14.692 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 22:15:14.692 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 22:15:14.701 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 22:15:14.703 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:15:14.707 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 22:15:14.708 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:15:14.712 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 22:15:14.714 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 22:15:14.715 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 22:15:14.716 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 22:15:14.845 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 22:15:14.846 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 22:15:14.846 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 22:15:14.846 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 22:15:14.846 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 22:15:14.849 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 22:15:14.849 +05:00 [INF] Hosting environment: Development
2024-03-29 22:15:14.849 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 22:15:14.849 +05:00 [DBG] Hosting started
2024-03-29 22:15:14.897 +05:00 [DBG] Connection id "0HN2G2F6BFKAA" accepted.
2024-03-29 22:15:14.898 +05:00 [DBG] Connection id "0HN2G2F6BFKAA" started.
2024-03-29 22:15:14.906 +05:00 [DBG] Connection id "0HN2G2F6BFKAB" accepted.
2024-03-29 22:15:14.906 +05:00 [DBG] Connection id "0HN2G2F6BFKAB" started.
2024-03-29 22:15:14.922 +05:00 [DBG] Connection id "0HN2G2F6BFKAA" received FIN.
2024-03-29 22:15:14.922 +05:00 [DBG] Connection id "0HN2G2F6BFKAB" received FIN.
2024-03-29 22:15:14.927 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:15:14.927 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:15:14.933 +05:00 [DBG] Connection id "0HN2G2F6BFKAC" accepted.
2024-03-29 22:15:14.940 +05:00 [DBG] Connection id "0HN2G2F6BFKAC" started.
2024-03-29 22:15:14.943 +05:00 [DBG] Connection id "0HN2G2F6BFKAB" stopped.
2024-03-29 22:15:14.943 +05:00 [DBG] Connection id "0HN2G2F6BFKAA" stopped.
2024-03-29 22:15:14.947 +05:00 [DBG] Connection id "0HN2G2F6BFKAA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:14.947 +05:00 [DBG] Connection id "0HN2G2F6BFKAB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:14.986 +05:00 [DBG] Connection 0HN2G2F6BFKAC established using the following protocol: "Tls12"
2024-03-29 22:15:15.043 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 22:15:15.071 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 22:15:15.113 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 22:15:15.113 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:15:15.313 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 22:15:15.403 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 22:15:15.406 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 368.3999ms
2024-03-29 22:15:15.437 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 22:15:15.437 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 22:15:15.449 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 11.4616ms
2024-03-29 22:15:15.492 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.2033ms
2024-03-29 22:15:15.751 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 22:15:15.752 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 22:15:15.753 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:15:15.940 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 188.9895ms
2024-03-29 22:15:17.164 +05:00 [DBG] Connection id "0HN2G2F6BFKAD" accepted.
2024-03-29 22:15:17.164 +05:00 [DBG] Connection id "0HN2G2F6BFKAD" started.
2024-03-29 22:15:17.169 +05:00 [DBG] Connection 0HN2G2F6BFKAD established using the following protocol: "Tls12"
2024-03-29 22:15:17.180 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:17.184 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:17.188 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:17.188 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:17.192 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:17.201 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:17.361 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:17.389 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:17.391 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 211.1887ms
2024-03-29 22:15:17.391 +05:00 [DBG] Connection id "0HN2G2F6BFKAD" disconnecting.
2024-03-29 22:15:17.392 +05:00 [DBG] Connection id "0HN2G2F6BFKAD" stopped.
2024-03-29 22:15:17.392 +05:00 [DBG] Connection id "0HN2G2F6BFKAD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:17.899 +05:00 [DBG] Connection id "0HN2G2F6BFKAE" accepted.
2024-03-29 22:15:17.900 +05:00 [DBG] Connection id "0HN2G2F6BFKAE" started.
2024-03-29 22:15:17.901 +05:00 [DBG] Connection 0HN2G2F6BFKAE established using the following protocol: "Tls12"
2024-03-29 22:15:17.902 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:17.902 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:17.903 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:17.903 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:17.903 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:17.905 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:17.908 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:17.908 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:17.908 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 6.1926ms
2024-03-29 22:15:17.908 +05:00 [DBG] Connection id "0HN2G2F6BFKAE" disconnecting.
2024-03-29 22:15:17.909 +05:00 [DBG] Connection id "0HN2G2F6BFKAE" stopped.
2024-03-29 22:15:17.911 +05:00 [DBG] Connection id "0HN2G2F6BFKAE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:18.363 +05:00 [DBG] Connection id "0HN2G2F6BFKAF" accepted.
2024-03-29 22:15:18.363 +05:00 [DBG] Connection id "0HN2G2F6BFKAF" started.
2024-03-29 22:15:18.366 +05:00 [DBG] Connection 0HN2G2F6BFKAF established using the following protocol: "Tls12"
2024-03-29 22:15:18.366 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:18.366 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:18.366 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:18.366 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:18.366 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:18.368 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:18.370 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:18.371 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:18.371 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 4.7936ms
2024-03-29 22:15:18.371 +05:00 [DBG] Connection id "0HN2G2F6BFKAF" disconnecting.
2024-03-29 22:15:18.371 +05:00 [DBG] Connection id "0HN2G2F6BFKAF" stopped.
2024-03-29 22:15:18.371 +05:00 [DBG] Connection id "0HN2G2F6BFKAF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:18.738 +05:00 [DBG] Connection id "0HN2G2F6BFKAG" accepted.
2024-03-29 22:15:18.739 +05:00 [DBG] Connection id "0HN2G2F6BFKAG" started.
2024-03-29 22:15:18.741 +05:00 [DBG] Connection 0HN2G2F6BFKAG established using the following protocol: "Tls12"
2024-03-29 22:15:18.741 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:18.741 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:18.741 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:18.741 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:18.741 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:18.741 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:18.742 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:18.742 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:18.742 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.2365ms
2024-03-29 22:15:18.742 +05:00 [DBG] Connection id "0HN2G2F6BFKAG" disconnecting.
2024-03-29 22:15:18.742 +05:00 [DBG] Connection id "0HN2G2F6BFKAG" stopped.
2024-03-29 22:15:18.742 +05:00 [DBG] Connection id "0HN2G2F6BFKAG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:19.092 +05:00 [DBG] Connection id "0HN2G2F6BFKAH" accepted.
2024-03-29 22:15:19.092 +05:00 [DBG] Connection id "0HN2G2F6BFKAH" started.
2024-03-29 22:15:19.094 +05:00 [DBG] Connection 0HN2G2F6BFKAH established using the following protocol: "Tls12"
2024-03-29 22:15:19.094 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:19.094 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:19.094 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:19.094 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:19.094 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:19.094 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:19.095 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:19.095 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:19.095 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.2277ms
2024-03-29 22:15:19.095 +05:00 [DBG] Connection id "0HN2G2F6BFKAH" disconnecting.
2024-03-29 22:15:19.095 +05:00 [DBG] Connection id "0HN2G2F6BFKAH" stopped.
2024-03-29 22:15:19.095 +05:00 [DBG] Connection id "0HN2G2F6BFKAH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:19.339 +05:00 [DBG] Connection id "0HN2G2F6BFKAI" accepted.
2024-03-29 22:15:19.339 +05:00 [DBG] Connection id "0HN2G2F6BFKAI" started.
2024-03-29 22:15:19.341 +05:00 [DBG] Connection 0HN2G2F6BFKAI established using the following protocol: "Tls12"
2024-03-29 22:15:19.341 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:19.341 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:19.341 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:19.341 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:19.341 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:19.342 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:19.342 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:19.342 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:19.343 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.4534ms
2024-03-29 22:15:19.343 +05:00 [DBG] Connection id "0HN2G2F6BFKAI" disconnecting.
2024-03-29 22:15:19.343 +05:00 [DBG] Connection id "0HN2G2F6BFKAI" stopped.
2024-03-29 22:15:19.343 +05:00 [DBG] Connection id "0HN2G2F6BFKAI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:19.530 +05:00 [DBG] Connection id "0HN2G2F6BFKAJ" accepted.
2024-03-29 22:15:19.530 +05:00 [DBG] Connection id "0HN2G2F6BFKAJ" started.
2024-03-29 22:15:19.533 +05:00 [DBG] Connection 0HN2G2F6BFKAJ established using the following protocol: "Tls12"
2024-03-29 22:15:19.533 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:19.533 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:19.533 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:19.533 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:19.533 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:19.533 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:19.534 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:19.534 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:19.534 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.0945ms
2024-03-29 22:15:19.534 +05:00 [DBG] Connection id "0HN2G2F6BFKAJ" disconnecting.
2024-03-29 22:15:19.534 +05:00 [DBG] Connection id "0HN2G2F6BFKAJ" stopped.
2024-03-29 22:15:19.534 +05:00 [DBG] Connection id "0HN2G2F6BFKAJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:19.700 +05:00 [DBG] Connection id "0HN2G2F6BFKAK" accepted.
2024-03-29 22:15:19.700 +05:00 [DBG] Connection id "0HN2G2F6BFKAK" started.
2024-03-29 22:15:19.701 +05:00 [DBG] Connection 0HN2G2F6BFKAK established using the following protocol: "Tls12"
2024-03-29 22:15:19.701 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:19.701 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:19.701 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:19.702 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:19.702 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:19.702 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:19.702 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:19.702 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:19.702 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.0618ms
2024-03-29 22:15:19.702 +05:00 [DBG] Connection id "0HN2G2F6BFKAK" disconnecting.
2024-03-29 22:15:19.703 +05:00 [DBG] Connection id "0HN2G2F6BFKAK" stopped.
2024-03-29 22:15:19.703 +05:00 [DBG] Connection id "0HN2G2F6BFKAK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:19.876 +05:00 [DBG] Connection id "0HN2G2F6BFKAL" accepted.
2024-03-29 22:15:19.876 +05:00 [DBG] Connection id "0HN2G2F6BFKAL" started.
2024-03-29 22:15:19.878 +05:00 [DBG] Connection 0HN2G2F6BFKAL established using the following protocol: "Tls12"
2024-03-29 22:15:19.878 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:19.878 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:19.878 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:19.878 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:19.878 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:19.878 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:19.878 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:19.879 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:19.879 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.9958ms
2024-03-29 22:15:19.879 +05:00 [DBG] Connection id "0HN2G2F6BFKAL" disconnecting.
2024-03-29 22:15:19.879 +05:00 [DBG] Connection id "0HN2G2F6BFKAL" stopped.
2024-03-29 22:15:19.879 +05:00 [DBG] Connection id "0HN2G2F6BFKAL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:20.045 +05:00 [DBG] Connection id "0HN2G2F6BFKAM" accepted.
2024-03-29 22:15:20.045 +05:00 [DBG] Connection id "0HN2G2F6BFKAM" started.
2024-03-29 22:15:20.046 +05:00 [DBG] Connection 0HN2G2F6BFKAM established using the following protocol: "Tls12"
2024-03-29 22:15:20.046 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:20.046 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:20.046 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:20.046 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:20.047 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:20.047 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:20.047 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:20.047 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:20.049 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.6046ms
2024-03-29 22:15:20.049 +05:00 [DBG] Connection id "0HN2G2F6BFKAM" disconnecting.
2024-03-29 22:15:20.049 +05:00 [DBG] Connection id "0HN2G2F6BFKAM" stopped.
2024-03-29 22:15:20.049 +05:00 [DBG] Connection id "0HN2G2F6BFKAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:20.227 +05:00 [DBG] Connection id "0HN2G2F6BFKAN" accepted.
2024-03-29 22:15:20.227 +05:00 [DBG] Connection id "0HN2G2F6BFKAN" started.
2024-03-29 22:15:20.228 +05:00 [DBG] Connection 0HN2G2F6BFKAN established using the following protocol: "Tls12"
2024-03-29 22:15:20.228 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:20.228 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:20.228 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:20.228 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:20.228 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:20.229 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:20.229 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:20.229 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:20.230 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.4565ms
2024-03-29 22:15:20.230 +05:00 [DBG] Connection id "0HN2G2F6BFKAN" disconnecting.
2024-03-29 22:15:20.230 +05:00 [DBG] Connection id "0HN2G2F6BFKAN" stopped.
2024-03-29 22:15:20.230 +05:00 [DBG] Connection id "0HN2G2F6BFKAN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:20.412 +05:00 [DBG] Connection id "0HN2G2F6BFKAO" accepted.
2024-03-29 22:15:20.412 +05:00 [DBG] Connection id "0HN2G2F6BFKAO" started.
2024-03-29 22:15:20.413 +05:00 [DBG] Connection 0HN2G2F6BFKAO established using the following protocol: "Tls12"
2024-03-29 22:15:20.413 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:20.413 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:20.414 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:20.414 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:20.414 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:20.415 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:20.416 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:20.416 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:20.416 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.8325ms
2024-03-29 22:15:20.416 +05:00 [DBG] Connection id "0HN2G2F6BFKAO" disconnecting.
2024-03-29 22:15:20.416 +05:00 [DBG] Connection id "0HN2G2F6BFKAO" stopped.
2024-03-29 22:15:20.416 +05:00 [DBG] Connection id "0HN2G2F6BFKAO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:20.563 +05:00 [DBG] Connection id "0HN2G2F6BFKAP" accepted.
2024-03-29 22:15:20.563 +05:00 [DBG] Connection id "0HN2G2F6BFKAP" started.
2024-03-29 22:15:20.566 +05:00 [DBG] Connection 0HN2G2F6BFKAP established using the following protocol: "Tls12"
2024-03-29 22:15:20.566 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:20.566 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:20.566 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:20.566 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:20.566 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:20.566 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:20.567 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:20.567 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:20.567 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.3123ms
2024-03-29 22:15:20.567 +05:00 [DBG] Connection id "0HN2G2F6BFKAP" disconnecting.
2024-03-29 22:15:20.568 +05:00 [DBG] Connection id "0HN2G2F6BFKAP" stopped.
2024-03-29 22:15:20.568 +05:00 [DBG] Connection id "0HN2G2F6BFKAP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:20.747 +05:00 [DBG] Connection id "0HN2G2F6BFKAQ" accepted.
2024-03-29 22:15:20.747 +05:00 [DBG] Connection id "0HN2G2F6BFKAQ" started.
2024-03-29 22:15:20.750 +05:00 [DBG] Connection 0HN2G2F6BFKAQ established using the following protocol: "Tls12"
2024-03-29 22:15:20.750 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:20.750 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:20.750 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:20.750 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:20.750 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:20.750 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:20.751 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:20.751 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:20.751 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.3009ms
2024-03-29 22:15:20.751 +05:00 [DBG] Connection id "0HN2G2F6BFKAQ" disconnecting.
2024-03-29 22:15:20.751 +05:00 [DBG] Connection id "0HN2G2F6BFKAQ" stopped.
2024-03-29 22:15:20.751 +05:00 [DBG] Connection id "0HN2G2F6BFKAQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:15:20.916 +05:00 [DBG] Connection id "0HN2G2F6BFKAR" accepted.
2024-03-29 22:15:20.916 +05:00 [DBG] Connection id "0HN2G2F6BFKAR" started.
2024-03-29 22:15:20.917 +05:00 [DBG] Connection 0HN2G2F6BFKAR established using the following protocol: "Tls12"
2024-03-29 22:15:20.917 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:15:20.917 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:15:20.917 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:15:20.917 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:15:20.917 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:15:20.917 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:15:20.918 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:15:20.918 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:15:20.918 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.2425ms
2024-03-29 22:15:20.918 +05:00 [DBG] Connection id "0HN2G2F6BFKAR" disconnecting.
2024-03-29 22:15:20.919 +05:00 [DBG] Connection id "0HN2G2F6BFKAR" stopped.
2024-03-29 22:15:20.919 +05:00 [DBG] Connection id "0HN2G2F6BFKAR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:15.365 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 22:16:15.425 +05:00 [DBG] Hosting starting
2024-03-29 22:16:15.441 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 22:16:15.448 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 22:16:15.454 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 22:16:15.454 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 22:16:15.455 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 22:16:15.455 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 22:16:15.459 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 22:16:15.462 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 22:16:15.462 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 22:16:15.462 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 22:16:15.462 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 22:16:15.471 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 22:16:15.473 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:16:15.476 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 22:16:15.478 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:16:15.482 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 22:16:15.483 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 22:16:15.484 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 22:16:15.484 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 22:16:15.683 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 22:16:15.683 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 22:16:15.683 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 22:16:15.683 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 22:16:15.683 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 22:16:15.685 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 22:16:15.686 +05:00 [INF] Hosting environment: Development
2024-03-29 22:16:15.686 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 22:16:15.686 +05:00 [DBG] Hosting started
2024-03-29 22:16:15.761 +05:00 [DBG] Connection id "0HN2G2FOFU0KI" accepted.
2024-03-29 22:16:15.762 +05:00 [DBG] Connection id "0HN2G2FOFU0KI" started.
2024-03-29 22:16:15.783 +05:00 [DBG] Connection id "0HN2G2FOFU0KJ" accepted.
2024-03-29 22:16:15.783 +05:00 [DBG] Connection id "0HN2G2FOFU0KJ" started.
2024-03-29 22:16:15.784 +05:00 [DBG] Connection id "0HN2G2FOFU0KI" received FIN.
2024-03-29 22:16:15.789 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:16:15.805 +05:00 [DBG] Connection id "0HN2G2FOFU0KI" stopped.
2024-03-29 22:16:15.807 +05:00 [DBG] Connection id "0HN2G2FOFU0KI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:15.823 +05:00 [DBG] Connection 0HN2G2FOFU0KJ established using the following protocol: "Tls12"
2024-03-29 22:16:15.874 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 22:16:15.892 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 22:16:15.923 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 22:16:15.923 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:16:16.067 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 22:16:16.143 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 22:16:16.146 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 274.1914ms
2024-03-29 22:16:16.191 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 22:16:16.191 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 22:16:16.201 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 9.5111ms
2024-03-29 22:16:16.228 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.5195ms
2024-03-29 22:16:16.392 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 22:16:16.394 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 22:16:16.394 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:16:16.505 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 112.7404ms
2024-03-29 22:16:22.298 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 22:16:22.368 +05:00 [DBG] Hosting starting
2024-03-29 22:16:22.385 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 22:16:22.391 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 22:16:22.399 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 22:16:22.400 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 22:16:22.400 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 22:16:22.400 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 22:16:22.405 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 22:16:22.408 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 22:16:22.409 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 22:16:22.409 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 22:16:22.409 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 22:16:22.418 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 22:16:22.421 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:16:22.424 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 22:16:22.425 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:16:22.430 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 22:16:22.432 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 22:16:22.433 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 22:16:22.433 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 22:16:22.551 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 22:16:22.552 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 22:16:22.552 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 22:16:22.552 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 22:16:22.552 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 22:16:22.554 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 22:16:22.554 +05:00 [INF] Hosting environment: Development
2024-03-29 22:16:22.554 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 22:16:22.554 +05:00 [DBG] Hosting started
2024-03-29 22:16:22.724 +05:00 [DBG] Connection id "0HN2G2FQIAVIV" accepted.
2024-03-29 22:16:22.725 +05:00 [DBG] Connection id "0HN2G2FQIAVIV" started.
2024-03-29 22:16:22.733 +05:00 [DBG] Connection id "0HN2G2FQIAVJ0" accepted.
2024-03-29 22:16:22.733 +05:00 [DBG] Connection id "0HN2G2FQIAVJ0" started.
2024-03-29 22:16:22.772 +05:00 [DBG] Connection id "0HN2G2FQIAVJ0" received FIN.
2024-03-29 22:16:22.772 +05:00 [DBG] Connection id "0HN2G2FQIAVIV" received FIN.
2024-03-29 22:16:22.773 +05:00 [DBG] Connection id "0HN2G2FQIAVJ1" accepted.
2024-03-29 22:16:22.774 +05:00 [DBG] Connection id "0HN2G2FQIAVJ1" started.
2024-03-29 22:16:22.780 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:16:22.782 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:16:22.800 +05:00 [DBG] Connection id "0HN2G2FQIAVJ0" stopped.
2024-03-29 22:16:22.800 +05:00 [DBG] Connection id "0HN2G2FQIAVIV" stopped.
2024-03-29 22:16:22.804 +05:00 [DBG] Connection id "0HN2G2FQIAVIV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:22.806 +05:00 [DBG] Connection id "0HN2G2FQIAVJ0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:22.821 +05:00 [DBG] Connection 0HN2G2FQIAVJ1 established using the following protocol: "Tls12"
2024-03-29 22:16:22.879 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 22:16:22.897 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 22:16:22.943 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 22:16:22.944 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:16:23.117 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 22:16:23.224 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 22:16:23.236 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 358.9012ms
2024-03-29 22:16:23.245 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 22:16:23.248 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 22:16:23.252 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.5844ms
2024-03-29 22:16:23.283 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.6279ms
2024-03-29 22:16:23.437 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 22:16:23.439 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 22:16:23.439 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:16:23.609 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 172.0143ms
2024-03-29 22:16:30.413 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 22:16:30.477 +05:00 [DBG] Hosting starting
2024-03-29 22:16:30.490 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 22:16:30.498 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 22:16:30.503 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 22:16:30.504 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 22:16:30.504 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 22:16:30.505 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 22:16:30.511 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 22:16:30.515 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 22:16:30.516 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 22:16:30.516 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 22:16:30.516 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 22:16:30.523 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 22:16:30.525 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:16:30.528 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 22:16:30.529 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:16:30.533 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 22:16:30.534 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 22:16:30.535 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 22:16:30.536 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 22:16:30.652 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 22:16:30.652 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 22:16:30.653 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 22:16:30.653 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 22:16:30.653 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 22:16:30.655 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 22:16:30.656 +05:00 [INF] Hosting environment: Development
2024-03-29 22:16:30.656 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 22:16:30.656 +05:00 [DBG] Hosting started
2024-03-29 22:16:30.720 +05:00 [DBG] Connection id "0HN2G2FSUJ4JS" accepted.
2024-03-29 22:16:30.721 +05:00 [DBG] Connection id "0HN2G2FSUJ4JS" started.
2024-03-29 22:16:30.736 +05:00 [DBG] Connection id "0HN2G2FSUJ4JS" received FIN.
2024-03-29 22:16:30.737 +05:00 [DBG] Connection id "0HN2G2FSUJ4JT" accepted.
2024-03-29 22:16:30.738 +05:00 [DBG] Connection id "0HN2G2FSUJ4JT" started.
2024-03-29 22:16:30.749 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:16:30.770 +05:00 [DBG] Connection id "0HN2G2FSUJ4JS" stopped.
2024-03-29 22:16:30.771 +05:00 [DBG] Connection id "0HN2G2FSUJ4JS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:30.783 +05:00 [DBG] Connection 0HN2G2FSUJ4JT established using the following protocol: "Tls12"
2024-03-29 22:16:30.835 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 22:16:30.853 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 22:16:30.877 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 22:16:30.877 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:16:31.020 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 22:16:31.096 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 22:16:31.098 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 266.4958ms
2024-03-29 22:16:31.160 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 22:16:31.161 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 22:16:31.177 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 15.2997ms
2024-03-29 22:16:31.227 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.4947ms
2024-03-29 22:16:31.376 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 22:16:31.377 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 22:16:31.377 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:16:31.511 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 135.4279ms
2024-03-29 22:16:41.029 +05:00 [DBG] Connection id "0HN2G2FSUJ4JU" accepted.
2024-03-29 22:16:41.030 +05:00 [DBG] Connection id "0HN2G2FSUJ4JU" started.
2024-03-29 22:16:41.035 +05:00 [DBG] Connection 0HN2G2FSUJ4JU established using the following protocol: "Tls12"
2024-03-29 22:16:41.045 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/post - 0
2024-03-29 22:16:41.050 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-29 22:16:41.054 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-29 22:16:41.055 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-29 22:16:41.058 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:16:41.258 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:16:41.260 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2024-03-29 22:16:41.261 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-29 22:16:41.287 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetJwtToken() on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-29 22:16:41.288 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 22:16:41.289 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 22:16:41.289 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 22:16:41.289 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 22:16:41.289 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 22:16:41.293 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-29 22:16:41.293 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-29 22:16:41.310 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 22:16:41.312 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 22:16:41.313 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 22:16:41.313 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 22:16:41.313 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-29 22:16:41.314 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-29 22:16:41.320 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 24.6325ms
2024-03-29 22:16:41.320 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-29 22:16:41.322 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/post - 0 - 204 - - 276.7458ms
2024-03-29 22:16:41.327 +05:00 [DBG] Connection id "0HN2G2FSUJ4JU" disconnecting.
2024-03-29 22:16:41.327 +05:00 [DBG] Connection id "0HN2G2FSUJ4JU" received FIN.
2024-03-29 22:16:41.328 +05:00 [DBG] Connection id "0HN2G2FSUJ4JU" stopped.
2024-03-29 22:16:41.328 +05:00 [DBG] Connection id "0HN2G2FSUJ4JU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:43.909 +05:00 [DBG] Connection id "0HN2G2FSUJ4JV" accepted.
2024-03-29 22:16:43.909 +05:00 [DBG] Connection id "0HN2G2FSUJ4JV" started.
2024-03-29 22:16:43.911 +05:00 [DBG] Connection 0HN2G2FSUJ4JV established using the following protocol: "Tls12"
2024-03-29 22:16:43.911 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/post - 0
2024-03-29 22:16:43.911 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-29 22:16:43.912 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-29 22:16:43.912 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-29 22:16:43.912 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:16:43.916 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:16:43.916 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
2024-03-29 22:16:43.916 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-29 22:16:43.917 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetJwtToken() on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-29 22:16:43.917 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 22:16:43.917 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 22:16:43.917 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 22:16:43.917 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 22:16:43.917 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 22:16:43.917 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-29 22:16:43.917 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-29 22:16:43.918 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 22:16:43.918 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 22:16:43.918 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 22:16:43.918 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 22:16:43.918 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-29 22:16:43.918 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-29 22:16:43.918 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 0.9353ms
2024-03-29 22:16:43.918 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-29 22:16:43.918 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/post - 0 - 204 - - 7.2121ms
2024-03-29 22:16:43.918 +05:00 [DBG] Connection id "0HN2G2FSUJ4JV" disconnecting.
2024-03-29 22:16:43.919 +05:00 [DBG] Connection id "0HN2G2FSUJ4JV" stopped.
2024-03-29 22:16:43.919 +05:00 [DBG] Connection id "0HN2G2FSUJ4JV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:56.179 +05:00 [DBG] Connection id "0HN2G2FSUJ4K0" accepted.
2024-03-29 22:16:56.179 +05:00 [DBG] Connection id "0HN2G2FSUJ4K0" started.
2024-03-29 22:16:56.180 +05:00 [DBG] Connection 0HN2G2FSUJ4K0 established using the following protocol: "Tls12"
2024-03-29 22:16:56.180 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:16:56.180 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:16:56.180 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:16:56.180 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:16:56.180 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:16:56.186 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:16:56.192 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:16:56.194 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:16:56.194 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 13.9882ms
2024-03-29 22:16:56.194 +05:00 [DBG] Connection id "0HN2G2FSUJ4K0" disconnecting.
2024-03-29 22:16:56.195 +05:00 [DBG] Connection id "0HN2G2FSUJ4K0" stopped.
2024-03-29 22:16:56.195 +05:00 [DBG] Connection id "0HN2G2FSUJ4K0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:56.762 +05:00 [DBG] Connection id "0HN2G2FSUJ4K1" accepted.
2024-03-29 22:16:56.763 +05:00 [DBG] Connection id "0HN2G2FSUJ4K1" started.
2024-03-29 22:16:56.765 +05:00 [DBG] Connection 0HN2G2FSUJ4K1 established using the following protocol: "Tls12"
2024-03-29 22:16:56.765 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:16:56.766 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:16:56.766 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:16:56.766 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:16:56.766 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:16:56.766 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:16:56.768 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:16:56.769 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:16:56.769 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 3.2812ms
2024-03-29 22:16:56.769 +05:00 [DBG] Connection id "0HN2G2FSUJ4K1" disconnecting.
2024-03-29 22:16:56.769 +05:00 [DBG] Connection id "0HN2G2FSUJ4K1" stopped.
2024-03-29 22:16:56.769 +05:00 [DBG] Connection id "0HN2G2FSUJ4K1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:57.108 +05:00 [DBG] Connection id "0HN2G2FSUJ4K2" accepted.
2024-03-29 22:16:57.109 +05:00 [DBG] Connection id "0HN2G2FSUJ4K2" started.
2024-03-29 22:16:57.110 +05:00 [DBG] Connection 0HN2G2FSUJ4K2 established using the following protocol: "Tls12"
2024-03-29 22:16:57.110 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:16:57.110 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:16:57.110 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:16:57.110 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:16:57.110 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:16:57.110 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:16:57.111 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:16:57.111 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:16:57.111 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.4555ms
2024-03-29 22:16:57.112 +05:00 [DBG] Connection id "0HN2G2FSUJ4K2" disconnecting.
2024-03-29 22:16:57.112 +05:00 [DBG] Connection id "0HN2G2FSUJ4K2" stopped.
2024-03-29 22:16:57.112 +05:00 [DBG] Connection id "0HN2G2FSUJ4K2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:57.300 +05:00 [DBG] Connection id "0HN2G2FSUJ4K3" accepted.
2024-03-29 22:16:57.300 +05:00 [DBG] Connection id "0HN2G2FSUJ4K3" started.
2024-03-29 22:16:57.301 +05:00 [DBG] Connection 0HN2G2FSUJ4K3 established using the following protocol: "Tls12"
2024-03-29 22:16:57.301 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:16:57.301 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:16:57.301 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:16:57.301 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:16:57.302 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:16:57.302 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:16:57.302 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:16:57.302 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:16:57.303 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.4396ms
2024-03-29 22:16:57.303 +05:00 [DBG] Connection id "0HN2G2FSUJ4K3" disconnecting.
2024-03-29 22:16:57.303 +05:00 [DBG] Connection id "0HN2G2FSUJ4K3" stopped.
2024-03-29 22:16:57.303 +05:00 [DBG] Connection id "0HN2G2FSUJ4K3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:57.477 +05:00 [DBG] Connection id "0HN2G2FSUJ4K4" accepted.
2024-03-29 22:16:57.477 +05:00 [DBG] Connection id "0HN2G2FSUJ4K4" started.
2024-03-29 22:16:57.478 +05:00 [DBG] Connection 0HN2G2FSUJ4K4 established using the following protocol: "Tls12"
2024-03-29 22:16:57.479 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:16:57.479 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:16:57.479 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:16:57.479 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:16:57.479 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:16:57.479 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:16:57.479 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:16:57.480 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:16:57.480 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.2498ms
2024-03-29 22:16:57.480 +05:00 [DBG] Connection id "0HN2G2FSUJ4K4" disconnecting.
2024-03-29 22:16:57.480 +05:00 [DBG] Connection id "0HN2G2FSUJ4K4" stopped.
2024-03-29 22:16:57.480 +05:00 [DBG] Connection id "0HN2G2FSUJ4K4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:57.652 +05:00 [DBG] Connection id "0HN2G2FSUJ4K5" accepted.
2024-03-29 22:16:57.652 +05:00 [DBG] Connection id "0HN2G2FSUJ4K5" started.
2024-03-29 22:16:57.654 +05:00 [DBG] Connection 0HN2G2FSUJ4K5 established using the following protocol: "Tls12"
2024-03-29 22:16:57.654 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:16:57.654 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:16:57.654 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:16:57.654 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:16:57.654 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:16:57.655 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:16:57.655 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:16:57.655 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:16:57.655 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.1579ms
2024-03-29 22:16:57.655 +05:00 [DBG] Connection id "0HN2G2FSUJ4K5" disconnecting.
2024-03-29 22:16:57.655 +05:00 [DBG] Connection id "0HN2G2FSUJ4K5" stopped.
2024-03-29 22:16:57.655 +05:00 [DBG] Connection id "0HN2G2FSUJ4K5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:57.812 +05:00 [DBG] Connection id "0HN2G2FSUJ4K6" accepted.
2024-03-29 22:16:57.812 +05:00 [DBG] Connection id "0HN2G2FSUJ4K6" started.
2024-03-29 22:16:57.813 +05:00 [DBG] Connection 0HN2G2FSUJ4K6 established using the following protocol: "Tls12"
2024-03-29 22:16:57.814 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:16:57.814 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:16:57.814 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:16:57.814 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:16:57.814 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:16:57.814 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:16:57.815 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:16:57.815 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:16:57.816 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.0944ms
2024-03-29 22:16:57.816 +05:00 [DBG] Connection id "0HN2G2FSUJ4K6" disconnecting.
2024-03-29 22:16:57.816 +05:00 [DBG] Connection id "0HN2G2FSUJ4K6" stopped.
2024-03-29 22:16:57.816 +05:00 [DBG] Connection id "0HN2G2FSUJ4K6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:16:57.987 +05:00 [DBG] Connection id "0HN2G2FSUJ4K7" accepted.
2024-03-29 22:16:57.987 +05:00 [DBG] Connection id "0HN2G2FSUJ4K7" started.
2024-03-29 22:16:57.989 +05:00 [DBG] Connection 0HN2G2FSUJ4K7 established using the following protocol: "Tls12"
2024-03-29 22:16:57.991 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:16:57.992 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:16:57.992 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:16:57.992 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:16:57.992 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:16:57.992 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:16:57.993 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:16:57.993 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:16:57.993 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.1156ms
2024-03-29 22:16:57.993 +05:00 [DBG] Connection id "0HN2G2FSUJ4K7" disconnecting.
2024-03-29 22:16:57.993 +05:00 [DBG] Connection id "0HN2G2FSUJ4K7" stopped.
2024-03-29 22:16:57.994 +05:00 [DBG] Connection id "0HN2G2FSUJ4K7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:19:21.587 +05:00 [DBG] Connection id "0HN2G2FSUJ4JT" received FIN.
2024-03-29 22:19:21.588 +05:00 [DBG] Connection id "0HN2G2FSUJ4JT" is closing.
2024-03-29 22:19:21.590 +05:00 [DBG] The connection queue processing loop for 0HN2G2FSUJ4JT completed.
2024-03-29 22:19:21.592 +05:00 [DBG] Connection id "0HN2G2FSUJ4JT" is closed. The last processed stream ID was 21.
2024-03-29 22:19:21.592 +05:00 [DBG] Connection id "0HN2G2FSUJ4JT" sending FIN because: "The client closed the connection."
2024-03-29 22:19:21.602 +05:00 [DBG] Connection id "0HN2G2FSUJ4JT" stopped.
2024-03-29 22:25:07.700 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 22:25:07.771 +05:00 [DBG] Hosting starting
2024-03-29 22:25:12.051 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 22:25:12.114 +05:00 [DBG] Hosting starting
2024-03-29 22:25:12.130 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 22:25:12.138 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 22:25:12.145 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 22:25:12.145 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 22:25:12.146 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 22:25:12.146 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 22:25:12.151 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 22:25:12.153 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 22:25:12.154 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 22:25:12.154 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 22:25:12.154 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 22:25:12.160 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 22:25:12.163 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:25:12.167 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 22:25:12.168 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:25:12.172 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 22:25:12.173 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 22:25:12.174 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 22:25:12.175 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 22:25:12.308 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 22:25:12.308 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 22:25:12.308 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 22:25:12.308 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 22:25:12.308 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 22:25:12.311 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 22:25:12.311 +05:00 [INF] Hosting environment: Development
2024-03-29 22:25:12.311 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 22:25:12.311 +05:00 [DBG] Hosting started
2024-03-29 22:25:12.555 +05:00 [DBG] Connection id "0HN2G2KOF6KQ5" accepted.
2024-03-29 22:25:12.556 +05:00 [DBG] Connection id "0HN2G2KOF6KQ5" started.
2024-03-29 22:25:12.564 +05:00 [DBG] Connection id "0HN2G2KOF6KQ6" accepted.
2024-03-29 22:25:12.564 +05:00 [DBG] Connection id "0HN2G2KOF6KQ6" started.
2024-03-29 22:25:12.586 +05:00 [DBG] Connection id "0HN2G2KOF6KQ6" received FIN.
2024-03-29 22:25:12.587 +05:00 [DBG] Connection id "0HN2G2KOF6KQ5" received FIN.
2024-03-29 22:25:12.592 +05:00 [DBG] Connection id "0HN2G2KOF6KQ7" accepted.
2024-03-29 22:25:12.592 +05:00 [DBG] Connection id "0HN2G2KOF6KQ7" started.
2024-03-29 22:25:12.592 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:25:12.592 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:25:12.610 +05:00 [DBG] Connection id "0HN2G2KOF6KQ5" stopped.
2024-03-29 22:25:12.610 +05:00 [DBG] Connection id "0HN2G2KOF6KQ6" stopped.
2024-03-29 22:25:12.614 +05:00 [DBG] Connection id "0HN2G2KOF6KQ6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:25:12.616 +05:00 [DBG] Connection id "0HN2G2KOF6KQ5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:25:12.637 +05:00 [DBG] Connection 0HN2G2KOF6KQ7 established using the following protocol: "Tls12"
2024-03-29 22:25:12.689 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 22:25:12.706 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 22:25:12.730 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 22:25:12.731 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:25:12.880 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 22:25:12.954 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 22:25:12.957 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 271.2389ms
2024-03-29 22:25:13.007 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 22:25:13.007 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 22:25:13.013 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.0423ms
2024-03-29 22:25:13.042 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.6671ms
2024-03-29 22:25:13.221 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 22:25:13.223 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 22:25:13.223 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:25:13.361 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.7127ms
2024-03-29 22:25:23.184 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-29 22:25:23.190 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-29 22:25:23.195 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-29 22:25:23.196 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 22:25:23.205 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 22:25:23.206 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:25:23.247 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 22:25:23.248 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 22:25:23.295 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 22:25:23.297 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 22:25:23.297 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 22:25:23.298 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 22:25:23.298 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 22:25:23.298 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 22:25:23.304 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:25:23.479 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 22:25:23.519 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:25:23.525 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 22:25:23.528 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-29 22:25:23.529 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 22:25:23.546 +05:00 [DBG] Connection id "0HN2G2KOF6KQ7", Request id "0HN2G2KOF6KQ7:00000017": started reading request body.
2024-03-29 22:25:23.546 +05:00 [DBG] Connection id "0HN2G2KOF6KQ7", Request id "0HN2G2KOF6KQ7:00000017": done reading request body.
2024-03-29 22:25:23.550 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-29 22:25:23.551 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 22:25:23.551 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 22:25:23.551 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 22:25:23.561 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 22:25:24.248 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-29 22:25:24.249 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-29 22:25:24.602 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 22:25:24.645 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-29 22:25:24.886 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 22:25:24.943 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:25:24.945 +05:00 [DBG] Creating DbConnection.
2024-03-29 22:25:24.953 +05:00 [DBG] Created DbConnection. (3ms).
2024-03-29 22:25:24.962 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-03-29 22:25:24.971 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2024-03-29 22:25:24.978 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:25.296 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:25.311 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 22:25:25.336 +05:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 22:25:25.388 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:25:25.429 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:25.438 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 92ms reading results.
2024-03-29 22:25:25.443 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:25.448 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (5ms).
2024-03-29 22:25:25.461 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdUser") == __p_0)'
2024-03-29 22:25:25.476 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 22:25:25.477 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:25:25.478 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:25:25.478 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:25:25.478 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:25.485 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:25.485 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-29 22:25:25.502 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-29 22:25:25.503 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:25.503 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 22:25:25.503 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:25.503 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:25:25.511 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 29.03.2024 22:25:25
2024-03-29 22:25:26.536 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 22:25:26.537 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 22:25:26.537 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 22:25:26.537 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 22:25:26.538 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-29 22:25:26.539 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-29 22:25:26.544 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 3237.6028ms
2024-03-29 22:25:26.545 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 22:25:26.548 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 22:25:26.552 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:26.554 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-29 22:25:26.554 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 3369.8764ms
2024-03-29 22:25:46.570 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=933800 - 0
2024-03-29 22:25:46.573 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-29 22:25:46.573 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-29 22:25:46.574 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 22:25:46.575 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 22:25:46.576 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:25:46.577 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 22:25:46.577 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 22:25:46.584 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 22:25:46.584 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 22:25:46.584 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 22:25:46.585 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 22:25:46.585 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 22:25:46.585 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 22:25:46.585 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:25:46.586 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:25:46.590 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-29 22:25:46.593 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-29 22:25:46.594 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 22:25:46.594 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 22:25:46.594 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-29 22:25:46.595 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-29 22:25:46.783 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 22:25:46.784 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-29 22:25:46.787 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 22:25:46.788 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:25:46.788 +05:00 [DBG] Creating DbConnection.
2024-03-29 22:25:46.788 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-29 22:25:46.789 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:25:46.789 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:25:46.789 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:46.790 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:46.791 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 22:25:46.792 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 22:25:46.802 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:25:46.811 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:46.811 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 19ms reading results.
2024-03-29 22:25:46.811 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:46.811 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:25:46.815 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-29 22:25:46.820 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-29 22:25:46.837 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-29 22:25:46.847 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:25:46.849 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-29 22:25:46.924 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:46.926 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:46.930 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:25:46.930 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:25:46.930 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:25:46.931 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-29 22:25:46.976 +05:00 [INF] Executed DbCommand (45ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-29 22:25:46.979 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:46.980 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 3ms reading results.
2024-03-29 22:25:46.981 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:46.981 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:25:46.988 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:25:46.990 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-29 22:25:46.993 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 22:25:46.994 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 22:25:46.994 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 22:25:46.994 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 22:25:46.994 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-29 22:25:46.994 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-29 22:25:47.009 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 421.8334ms
2024-03-29 22:25:47.009 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 22:25:47.009 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 22:25:47.009 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:25:47.010 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:25:47.010 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=933800 - 0 - 200 - application/json;+charset=utf-8 439.2809ms
2024-03-29 22:25:57.063 +05:00 [DBG] Connection id "0HN2G2KOF6KQ8" accepted.
2024-03-29 22:25:57.063 +05:00 [DBG] Connection id "0HN2G2KOF6KQ8" started.
2024-03-29 22:25:57.083 +05:00 [DBG] Connection 0HN2G2KOF6KQ8 established using the following protocol: "Tls12"
2024-03-29 22:25:57.093 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:25:57.093 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:25:57.094 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:25:57.094 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:25:57.094 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:25:57.101 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:25:57.160 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:25:57.163 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:25:57.164 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 70.6839ms
2024-03-29 22:25:57.164 +05:00 [DBG] Connection id "0HN2G2KOF6KQ8" disconnecting.
2024-03-29 22:25:57.165 +05:00 [DBG] Connection id "0HN2G2KOF6KQ8" stopped.
2024-03-29 22:25:57.165 +05:00 [DBG] Connection id "0HN2G2KOF6KQ8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:25:57.910 +05:00 [DBG] Connection id "0HN2G2KOF6KQ9" accepted.
2024-03-29 22:25:57.910 +05:00 [DBG] Connection id "0HN2G2KOF6KQ9" started.
2024-03-29 22:25:57.911 +05:00 [DBG] Connection 0HN2G2KOF6KQ9 established using the following protocol: "Tls12"
2024-03-29 22:25:57.912 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:25:57.912 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:25:57.912 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:25:57.912 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:25:57.912 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:25:57.914 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:25:57.915 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:25:57.915 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:25:57.916 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 3.9209ms
2024-03-29 22:25:57.916 +05:00 [DBG] Connection id "0HN2G2KOF6KQ9" disconnecting.
2024-03-29 22:25:57.917 +05:00 [DBG] Connection id "0HN2G2KOF6KQ9" stopped.
2024-03-29 22:25:57.917 +05:00 [DBG] Connection id "0HN2G2KOF6KQ9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:26:04.844 +05:00 [DBG] Connection id "0HN2G2KOF6KQA" accepted.
2024-03-29 22:26:04.844 +05:00 [DBG] Connection id "0HN2G2KOF6KQA" started.
2024-03-29 22:26:04.845 +05:00 [DBG] Connection 0HN2G2KOF6KQA established using the following protocol: "Tls12"
2024-03-29 22:26:04.845 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:26:04.846 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:26:04.846 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:26:04.846 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:26:04.846 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:26:04.847 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:26:04.847 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:26:04.848 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:26:04.848 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.3621ms
2024-03-29 22:26:04.848 +05:00 [DBG] Connection id "0HN2G2KOF6KQA" disconnecting.
2024-03-29 22:26:04.848 +05:00 [DBG] Connection id "0HN2G2KOF6KQA" stopped.
2024-03-29 22:26:04.848 +05:00 [DBG] Connection id "0HN2G2KOF6KQA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:26:05.346 +05:00 [DBG] Connection id "0HN2G2KOF6KQB" accepted.
2024-03-29 22:26:05.346 +05:00 [DBG] Connection id "0HN2G2KOF6KQB" started.
2024-03-29 22:26:05.347 +05:00 [DBG] Connection 0HN2G2KOF6KQB established using the following protocol: "Tls12"
2024-03-29 22:26:05.347 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:26:05.347 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:26:05.347 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:26:05.347 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:26:05.347 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:26:05.348 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:26:05.348 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:26:05.348 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:26:05.348 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.2165ms
2024-03-29 22:26:05.348 +05:00 [DBG] Connection id "0HN2G2KOF6KQB" disconnecting.
2024-03-29 22:26:05.349 +05:00 [DBG] Connection id "0HN2G2KOF6KQB" stopped.
2024-03-29 22:26:05.349 +05:00 [DBG] Connection id "0HN2G2KOF6KQB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:26:05.523 +05:00 [DBG] Connection id "0HN2G2KOF6KQC" accepted.
2024-03-29 22:26:05.523 +05:00 [DBG] Connection id "0HN2G2KOF6KQC" started.
2024-03-29 22:26:05.524 +05:00 [DBG] Connection 0HN2G2KOF6KQC established using the following protocol: "Tls12"
2024-03-29 22:26:05.525 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:26:05.525 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:26:05.525 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:26:05.525 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:26:05.525 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:26:05.525 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:26:05.526 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:26:05.526 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:26:05.527 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.6692ms
2024-03-29 22:26:05.527 +05:00 [DBG] Connection id "0HN2G2KOF6KQC" disconnecting.
2024-03-29 22:26:05.527 +05:00 [DBG] Connection id "0HN2G2KOF6KQC" stopped.
2024-03-29 22:26:05.527 +05:00 [DBG] Connection id "0HN2G2KOF6KQC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:26:05.701 +05:00 [DBG] Connection id "0HN2G2KOF6KQD" accepted.
2024-03-29 22:26:05.701 +05:00 [DBG] Connection id "0HN2G2KOF6KQD" started.
2024-03-29 22:26:05.702 +05:00 [DBG] Connection 0HN2G2KOF6KQD established using the following protocol: "Tls12"
2024-03-29 22:26:05.702 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:26:05.702 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:26:05.702 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:26:05.703 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:26:05.703 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:26:05.703 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:26:05.703 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:26:05.703 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:26:05.703 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.9367ms
2024-03-29 22:26:05.703 +05:00 [DBG] Connection id "0HN2G2KOF6KQD" disconnecting.
2024-03-29 22:26:05.704 +05:00 [DBG] Connection id "0HN2G2KOF6KQD" stopped.
2024-03-29 22:26:05.704 +05:00 [DBG] Connection id "0HN2G2KOF6KQD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:26:05.860 +05:00 [DBG] Connection id "0HN2G2KOF6KQE" accepted.
2024-03-29 22:26:05.860 +05:00 [DBG] Connection id "0HN2G2KOF6KQE" started.
2024-03-29 22:26:05.861 +05:00 [DBG] Connection 0HN2G2KOF6KQE established using the following protocol: "Tls12"
2024-03-29 22:26:05.861 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:26:05.861 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:26:05.861 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:26:05.861 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:26:05.862 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:26:05.862 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:26:05.862 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:26:05.862 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:26:05.862 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.9375ms
2024-03-29 22:26:05.862 +05:00 [DBG] Connection id "0HN2G2KOF6KQE" disconnecting.
2024-03-29 22:26:05.862 +05:00 [DBG] Connection id "0HN2G2KOF6KQE" stopped.
2024-03-29 22:26:05.863 +05:00 [DBG] Connection id "0HN2G2KOF6KQE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:26:06.036 +05:00 [DBG] Connection id "0HN2G2KOF6KQF" accepted.
2024-03-29 22:26:06.036 +05:00 [DBG] Connection id "0HN2G2KOF6KQF" started.
2024-03-29 22:26:06.037 +05:00 [DBG] Connection 0HN2G2KOF6KQF established using the following protocol: "Tls12"
2024-03-29 22:26:06.037 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:26:06.037 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:26:06.038 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:26:06.038 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:26:06.038 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:26:06.038 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:26:06.038 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:26:06.038 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:26:06.039 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.3547ms
2024-03-29 22:26:06.039 +05:00 [DBG] Connection id "0HN2G2KOF6KQF" disconnecting.
2024-03-29 22:26:06.039 +05:00 [DBG] Connection id "0HN2G2KOF6KQF" stopped.
2024-03-29 22:26:06.039 +05:00 [DBG] Connection id "0HN2G2KOF6KQF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:26:06.196 +05:00 [DBG] Connection id "0HN2G2KOF6KQG" accepted.
2024-03-29 22:26:06.196 +05:00 [DBG] Connection id "0HN2G2KOF6KQG" started.
2024-03-29 22:26:06.200 +05:00 [DBG] Connection 0HN2G2KOF6KQG established using the following protocol: "Tls12"
2024-03-29 22:26:06.201 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:26:06.201 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:26:06.202 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:26:06.202 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:26:06.202 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:26:06.202 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:26:06.202 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:26:06.203 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:26:06.203 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.3520ms
2024-03-29 22:26:06.203 +05:00 [DBG] Connection id "0HN2G2KOF6KQG" disconnecting.
2024-03-29 22:26:06.203 +05:00 [DBG] Connection id "0HN2G2KOF6KQG" stopped.
2024-03-29 22:26:06.203 +05:00 [DBG] Connection id "0HN2G2KOF6KQG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:26:06.427 +05:00 [DBG] Connection id "0HN2G2KOF6KQH" accepted.
2024-03-29 22:26:06.427 +05:00 [DBG] Connection id "0HN2G2KOF6KQH" started.
2024-03-29 22:26:06.428 +05:00 [DBG] Connection 0HN2G2KOF6KQH established using the following protocol: "Tls12"
2024-03-29 22:26:06.428 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:26:06.428 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:26:06.428 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:26:06.428 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:26:06.429 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:26:06.429 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:26:06.429 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:26:06.430 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:26:06.430 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.4820ms
2024-03-29 22:26:06.430 +05:00 [DBG] Connection id "0HN2G2KOF6KQH" disconnecting.
2024-03-29 22:26:06.430 +05:00 [DBG] Connection id "0HN2G2KOF6KQH" stopped.
2024-03-29 22:26:06.430 +05:00 [DBG] Connection id "0HN2G2KOF6KQH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:26:06.847 +05:00 [DBG] Connection id "0HN2G2KOF6KQI" accepted.
2024-03-29 22:26:06.847 +05:00 [DBG] Connection id "0HN2G2KOF6KQI" started.
2024-03-29 22:26:06.848 +05:00 [DBG] Connection 0HN2G2KOF6KQI established using the following protocol: "Tls12"
2024-03-29 22:26:06.848 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:26:06.848 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:26:06.848 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:26:06.848 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:26:06.849 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:26:06.849 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:26:06.850 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:26:06.850 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:26:06.851 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.6252ms
2024-03-29 22:26:06.851 +05:00 [DBG] Connection id "0HN2G2KOF6KQI" disconnecting.
2024-03-29 22:26:06.851 +05:00 [DBG] Connection id "0HN2G2KOF6KQI" stopped.
2024-03-29 22:26:06.851 +05:00 [DBG] Connection id "0HN2G2KOF6KQI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:27:27.461 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 22:27:27.522 +05:00 [DBG] Hosting starting
2024-03-29 22:27:27.538 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 22:27:27.546 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 22:27:27.551 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 22:27:27.552 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 22:27:27.552 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 22:27:27.552 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 22:27:27.556 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 22:27:27.560 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 22:27:27.560 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 22:27:27.560 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 22:27:27.561 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 22:27:27.570 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 22:27:27.572 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:27:27.576 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 22:27:27.578 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:27:27.583 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 22:27:27.585 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 22:27:27.586 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 22:27:27.587 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 22:27:27.731 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 22:27:27.731 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 22:27:27.731 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 22:27:27.731 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 22:27:27.732 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 22:27:27.735 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 22:27:27.735 +05:00 [INF] Hosting environment: Development
2024-03-29 22:27:27.735 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 22:27:27.735 +05:00 [DBG] Hosting started
2024-03-29 22:27:27.870 +05:00 [DBG] Connection id "0HN2G2M0PLGBN" accepted.
2024-03-29 22:27:27.871 +05:00 [DBG] Connection id "0HN2G2M0PLGBN" started.
2024-03-29 22:27:27.881 +05:00 [DBG] Connection id "0HN2G2M0PLGBN" received FIN.
2024-03-29 22:27:27.892 +05:00 [DBG] Connection id "0HN2G2M0PLGBO" accepted.
2024-03-29 22:27:27.893 +05:00 [DBG] Connection id "0HN2G2M0PLGBO" started.
2024-03-29 22:27:27.894 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:27:27.913 +05:00 [DBG] Connection id "0HN2G2M0PLGBN" stopped.
2024-03-29 22:27:27.916 +05:00 [DBG] Connection id "0HN2G2M0PLGBN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:27:27.939 +05:00 [DBG] Connection 0HN2G2M0PLGBO established using the following protocol: "Tls12"
2024-03-29 22:27:27.988 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 22:27:28.020 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 22:27:28.120 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 22:27:28.120 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:27:28.335 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 22:27:28.443 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 22:27:28.446 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 460.6962ms
2024-03-29 22:27:28.483 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 22:27:28.483 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 22:27:28.487 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.4367ms
2024-03-29 22:27:28.545 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 61.9510ms
2024-03-29 22:27:28.708 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 22:27:28.709 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 22:27:28.710 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:27:28.919 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 207.2504ms
2024-03-29 22:27:30.944 +05:00 [DBG] Connection id "0HN2G2M0PLGBP" accepted.
2024-03-29 22:27:30.944 +05:00 [DBG] Connection id "0HN2G2M0PLGBP" started.
2024-03-29 22:27:30.949 +05:00 [DBG] Connection 0HN2G2M0PLGBP established using the following protocol: "Tls12"
2024-03-29 22:27:30.959 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:27:30.962 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:27:30.968 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:27:30.969 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:27:30.971 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:27:30.979 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:27:31.149 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:27:31.153 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:27:31.155 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 195.9707ms
2024-03-29 22:27:31.155 +05:00 [DBG] Connection id "0HN2G2M0PLGBP" disconnecting.
2024-03-29 22:27:31.156 +05:00 [DBG] Connection id "0HN2G2M0PLGBP" stopped.
2024-03-29 22:27:31.156 +05:00 [DBG] Connection id "0HN2G2M0PLGBP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:27:31.723 +05:00 [DBG] Connection id "0HN2G2M0PLGBQ" accepted.
2024-03-29 22:27:31.724 +05:00 [DBG] Connection id "0HN2G2M0PLGBQ" started.
2024-03-29 22:27:31.725 +05:00 [DBG] Connection 0HN2G2M0PLGBQ established using the following protocol: "Tls12"
2024-03-29 22:27:31.726 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:27:31.726 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:27:31.726 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:27:31.727 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:27:31.727 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:27:31.729 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:27:31.731 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:27:31.731 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:27:31.732 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 5.5069ms
2024-03-29 22:27:31.732 +05:00 [DBG] Connection id "0HN2G2M0PLGBQ" disconnecting.
2024-03-29 22:27:31.732 +05:00 [DBG] Connection id "0HN2G2M0PLGBQ" stopped.
2024-03-29 22:27:31.732 +05:00 [DBG] Connection id "0HN2G2M0PLGBQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:27:32.077 +05:00 [DBG] Connection id "0HN2G2M0PLGBR" accepted.
2024-03-29 22:27:32.077 +05:00 [DBG] Connection id "0HN2G2M0PLGBR" started.
2024-03-29 22:27:32.078 +05:00 [DBG] Connection 0HN2G2M0PLGBR established using the following protocol: "Tls12"
2024-03-29 22:27:32.079 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:27:32.079 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:27:32.079 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:27:32.079 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:27:32.079 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:27:32.080 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:27:32.084 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:27:32.084 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:27:32.084 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 5.4213ms
2024-03-29 22:27:32.084 +05:00 [DBG] Connection id "0HN2G2M0PLGBR" disconnecting.
2024-03-29 22:27:32.084 +05:00 [DBG] Connection id "0HN2G2M0PLGBR" stopped.
2024-03-29 22:27:32.084 +05:00 [DBG] Connection id "0HN2G2M0PLGBR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:27:32.269 +05:00 [DBG] Connection id "0HN2G2M0PLGBS" accepted.
2024-03-29 22:27:32.269 +05:00 [DBG] Connection id "0HN2G2M0PLGBS" started.
2024-03-29 22:27:32.270 +05:00 [DBG] Connection 0HN2G2M0PLGBS established using the following protocol: "Tls12"
2024-03-29 22:27:32.271 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:27:32.271 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:27:32.272 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:27:32.272 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:27:32.272 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:27:32.272 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:27:32.272 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:27:32.273 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:27:32.273 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.3247ms
2024-03-29 22:27:32.273 +05:00 [DBG] Connection id "0HN2G2M0PLGBS" disconnecting.
2024-03-29 22:27:32.273 +05:00 [DBG] Connection id "0HN2G2M0PLGBS" stopped.
2024-03-29 22:27:32.273 +05:00 [DBG] Connection id "0HN2G2M0PLGBS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:27:32.427 +05:00 [DBG] Connection id "0HN2G2M0PLGBT" accepted.
2024-03-29 22:27:32.427 +05:00 [DBG] Connection id "0HN2G2M0PLGBT" started.
2024-03-29 22:27:32.430 +05:00 [DBG] Connection 0HN2G2M0PLGBT established using the following protocol: "Tls12"
2024-03-29 22:27:32.430 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:27:32.430 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:27:32.430 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:27:32.430 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:27:32.431 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:27:32.431 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:27:32.431 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:27:32.431 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:27:32.431 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.3509ms
2024-03-29 22:27:32.431 +05:00 [DBG] Connection id "0HN2G2M0PLGBT" disconnecting.
2024-03-29 22:27:32.432 +05:00 [DBG] Connection id "0HN2G2M0PLGBT" stopped.
2024-03-29 22:27:32.432 +05:00 [DBG] Connection id "0HN2G2M0PLGBT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:27:38.789 +05:00 [DBG] Connection id "0HN2G2M0PLGBU" accepted.
2024-03-29 22:27:38.789 +05:00 [DBG] Connection id "0HN2G2M0PLGBU" started.
2024-03-29 22:27:38.790 +05:00 [DBG] Connection 0HN2G2M0PLGBU established using the following protocol: "Tls12"
2024-03-29 22:27:38.790 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:27:38.791 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:27:38.791 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:27:38.791 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:27:38.791 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:27:38.791 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:27:38.792 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:27:38.792 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:27:38.792 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.9757ms
2024-03-29 22:27:38.793 +05:00 [DBG] Connection id "0HN2G2M0PLGBU" disconnecting.
2024-03-29 22:27:38.793 +05:00 [DBG] Connection id "0HN2G2M0PLGBU" stopped.
2024-03-29 22:27:38.793 +05:00 [DBG] Connection id "0HN2G2M0PLGBU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:27:39.262 +05:00 [DBG] Connection id "0HN2G2M0PLGBV" accepted.
2024-03-29 22:27:39.262 +05:00 [DBG] Connection id "0HN2G2M0PLGBV" started.
2024-03-29 22:27:39.266 +05:00 [DBG] Connection 0HN2G2M0PLGBV established using the following protocol: "Tls12"
2024-03-29 22:27:39.266 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:27:39.267 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:27:39.267 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:27:39.267 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:27:39.267 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:27:39.267 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:27:39.267 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:27:39.268 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:27:39.268 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.3254ms
2024-03-29 22:27:39.268 +05:00 [DBG] Connection id "0HN2G2M0PLGBV" disconnecting.
2024-03-29 22:27:39.268 +05:00 [DBG] Connection id "0HN2G2M0PLGBV" stopped.
2024-03-29 22:27:39.268 +05:00 [DBG] Connection id "0HN2G2M0PLGBV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:27:39.436 +05:00 [DBG] Connection id "0HN2G2M0PLGC0" accepted.
2024-03-29 22:27:39.436 +05:00 [DBG] Connection id "0HN2G2M0PLGC0" started.
2024-03-29 22:27:39.437 +05:00 [DBG] Connection 0HN2G2M0PLGC0 established using the following protocol: "Tls12"
2024-03-29 22:27:39.438 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:27:39.438 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:27:39.438 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:27:39.438 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:27:39.438 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:27:39.439 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:27:39.439 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:27:39.439 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:27:39.439 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.7778ms
2024-03-29 22:27:39.439 +05:00 [DBG] Connection id "0HN2G2M0PLGC0" disconnecting.
2024-03-29 22:27:39.440 +05:00 [DBG] Connection id "0HN2G2M0PLGC0" stopped.
2024-03-29 22:27:39.440 +05:00 [DBG] Connection id "0HN2G2M0PLGC0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:27:39.610 +05:00 [DBG] Connection id "0HN2G2M0PLGC1" accepted.
2024-03-29 22:27:39.610 +05:00 [DBG] Connection id "0HN2G2M0PLGC1" started.
2024-03-29 22:27:39.611 +05:00 [DBG] Connection 0HN2G2M0PLGC1 established using the following protocol: "Tls12"
2024-03-29 22:27:39.612 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:27:39.612 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:27:39.612 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:27:39.612 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:27:39.612 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:27:39.612 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:27:39.612 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:27:39.613 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:27:39.613 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.1259ms
2024-03-29 22:27:39.613 +05:00 [DBG] Connection id "0HN2G2M0PLGC1" disconnecting.
2024-03-29 22:27:39.613 +05:00 [DBG] Connection id "0HN2G2M0PLGC1" stopped.
2024-03-29 22:27:39.613 +05:00 [DBG] Connection id "0HN2G2M0PLGC1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:27:39.786 +05:00 [DBG] Connection id "0HN2G2M0PLGC2" accepted.
2024-03-29 22:27:39.786 +05:00 [DBG] Connection id "0HN2G2M0PLGC2" started.
2024-03-29 22:27:39.787 +05:00 [DBG] Connection 0HN2G2M0PLGC2 established using the following protocol: "Tls12"
2024-03-29 22:27:39.787 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:27:39.788 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:27:39.788 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:27:39.788 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:27:39.788 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:27:39.788 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:27:39.788 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:27:39.788 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:27:39.789 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.1864ms
2024-03-29 22:27:39.789 +05:00 [DBG] Connection id "0HN2G2M0PLGC2" disconnecting.
2024-03-29 22:27:39.789 +05:00 [DBG] Connection id "0HN2G2M0PLGC2" stopped.
2024-03-29 22:27:39.789 +05:00 [DBG] Connection id "0HN2G2M0PLGC2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:30:22.153 +05:00 [DBG] Connection id "0HN2G2M0PLGBO" received FIN.
2024-03-29 22:30:22.155 +05:00 [DBG] The connection queue processing loop for 0HN2G2M0PLGBO completed.
2024-03-29 22:30:22.157 +05:00 [DBG] Connection id "0HN2G2M0PLGBO" is closed. The last processed stream ID was 21.
2024-03-29 22:30:22.157 +05:00 [DBG] Connection id "0HN2G2M0PLGBO" sending FIN because: "The client closed the connection."
2024-03-29 22:30:22.167 +05:00 [DBG] Connection id "0HN2G2M0PLGBO" stopped.
2024-03-29 22:30:46.027 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 22:30:46.090 +05:00 [DBG] Hosting starting
2024-03-29 22:30:46.103 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 22:30:46.113 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 22:30:46.118 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 22:30:46.119 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 22:30:46.119 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 22:30:46.119 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 22:30:46.123 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 22:30:46.126 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 22:30:46.127 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 22:30:46.127 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 22:30:46.127 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 22:30:46.135 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 22:30:46.139 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:30:46.143 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 22:30:46.144 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:30:46.148 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 22:30:46.149 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 22:30:46.150 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 22:30:46.151 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 22:30:46.275 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 22:30:46.276 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 22:30:46.277 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 22:30:46.277 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 22:30:46.277 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 22:30:46.279 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 22:30:46.279 +05:00 [INF] Hosting environment: Development
2024-03-29 22:30:46.279 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 22:30:46.279 +05:00 [DBG] Hosting started
2024-03-29 22:30:46.747 +05:00 [DBG] Connection id "0HN2G2NS29TBA" accepted.
2024-03-29 22:30:46.748 +05:00 [DBG] Connection id "0HN2G2NS29TBA" started.
2024-03-29 22:30:46.765 +05:00 [DBG] Connection id "0HN2G2NS29TBA" received FIN.
2024-03-29 22:30:46.769 +05:00 [DBG] Connection id "0HN2G2NS29TBB" accepted.
2024-03-29 22:30:46.769 +05:00 [DBG] Connection id "0HN2G2NS29TBB" started.
2024-03-29 22:30:46.772 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:30:46.788 +05:00 [DBG] Connection id "0HN2G2NS29TBA" stopped.
2024-03-29 22:30:46.790 +05:00 [DBG] Connection id "0HN2G2NS29TBA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:30:46.807 +05:00 [DBG] Connection 0HN2G2NS29TBB established using the following protocol: "Tls12"
2024-03-29 22:30:46.859 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 22:30:46.877 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 22:30:46.901 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 22:30:46.902 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:30:47.044 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 22:30:47.110 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 22:30:47.119 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 257.3033ms
2024-03-29 22:30:47.134 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 22:30:47.138 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 22:30:47.151 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 11.3195ms
2024-03-29 22:30:47.321 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 187.6051ms
2024-03-29 22:30:47.553 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 22:30:47.557 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 22:30:47.557 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:30:47.790 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 236.9324ms
2024-03-29 22:31:02.631 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-29 22:31:02.639 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-29 22:31:02.646 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-29 22:31:02.646 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 22:31:02.648 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 22:31:02.650 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:31:02.689 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 22:31:02.690 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 22:31:02.739 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 22:31:02.740 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 22:31:02.741 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 22:31:02.743 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 22:31:02.744 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 22:31:02.744 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 22:31:02.746 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:31:02.914 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 22:31:02.955 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:31:02.963 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 22:31:02.967 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-29 22:31:02.969 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 22:31:02.981 +05:00 [DBG] Connection id "0HN2G2NS29TBB", Request id "0HN2G2NS29TBB:00000017": started reading request body.
2024-03-29 22:31:02.981 +05:00 [DBG] Connection id "0HN2G2NS29TBB", Request id "0HN2G2NS29TBB:00000017": done reading request body.
2024-03-29 22:31:02.985 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-29 22:31:02.985 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 22:31:02.985 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 22:31:02.985 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 22:31:02.997 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 22:31:03.702 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-29 22:31:03.702 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-29 22:31:04.054 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 22:31:04.092 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-29 22:31:04.343 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 22:31:04.398 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:31:04.401 +05:00 [DBG] Creating DbConnection.
2024-03-29 22:31:04.410 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-29 22:31:04.418 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2024-03-29 22:31:04.426 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-03-29 22:31:04.432 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:04.777 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:04.787 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 22:31:04.812 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 22:31:04.865 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:31:04.904 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:04.912 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 92ms reading results.
2024-03-29 22:31:04.915 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:04.921 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-29 22:31:04.936 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdUser") == __p_0)'
2024-03-29 22:31:04.963 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 22:31:04.964 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:31:04.965 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:31:04.965 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:31:04.965 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:04.971 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:04.971 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-29 22:31:04.987 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-29 22:31:04.988 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:04.988 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-29 22:31:04.988 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:04.988 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:31:04.994 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 29.03.2024 22:31:04
2024-03-29 22:31:05.989 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 22:31:05.991 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 22:31:05.992 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 22:31:05.992 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 22:31:05.994 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-29 22:31:05.995 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-29 22:31:06.000 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 3251.2717ms
2024-03-29 22:31:06.002 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 22:31:06.005 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 22:31:06.009 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:06.011 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (2ms).
2024-03-29 22:31:06.011 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 3380.2009ms
2024-03-29 22:31:24.607 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=499802 - 0
2024-03-29 22:31:24.608 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-29 22:31:24.608 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-29 22:31:24.608 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 22:31:24.608 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 22:31:24.608 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:31:24.610 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 22:31:24.610 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 22:31:24.617 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 22:31:24.617 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 22:31:24.618 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 22:31:24.618 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 22:31:24.618 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 22:31:24.618 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 22:31:24.619 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:31:24.620 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:31:24.624 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-29 22:31:24.627 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-29 22:31:24.628 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 22:31:24.628 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 22:31:24.628 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-29 22:31:24.629 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-29 22:31:24.782 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 22:31:24.786 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-29 22:31:24.790 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 22:31:24.790 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:31:24.792 +05:00 [DBG] Creating DbConnection.
2024-03-29 22:31:24.793 +05:00 [DBG] Created DbConnection. (2ms).
2024-03-29 22:31:24.794 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-03-29 22:31:24.794 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-03-29 22:31:24.794 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:24.797 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:24.797 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 22:31:24.799 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 22:31:24.806 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:31:24.814 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:24.814 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 15ms reading results.
2024-03-29 22:31:24.814 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:24.814 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:31:24.819 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-29 22:31:24.822 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-29 22:31:24.837 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-29 22:31:24.846 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:31:24.847 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-29 22:31:24.913 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:24.914 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:24.921 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:31:24.921 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:31:24.921 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:31:24.921 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-29 22:31:24.955 +05:00 [INF] Executed DbCommand (33ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-29 22:31:24.960 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:24.961 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 5ms reading results.
2024-03-29 22:31:24.961 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:24.961 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:31:24.965 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:31:24.969 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-29 22:31:25.029 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 22:31:25.029 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 22:31:25.030 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 22:31:25.030 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 22:31:25.030 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-29 22:31:25.030 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-29 22:31:25.038 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 419.4851ms
2024-03-29 22:31:25.038 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 22:31:25.038 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 22:31:25.038 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:31:25.038 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:31:25.038 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=499802 - 0 - 200 - application/json;+charset=utf-8 431.8056ms
2024-03-29 22:31:38.944 +05:00 [DBG] Connection id "0HN2G2NS29TBC" accepted.
2024-03-29 22:31:38.944 +05:00 [DBG] Connection id "0HN2G2NS29TBC" started.
2024-03-29 22:31:38.950 +05:00 [DBG] Connection 0HN2G2NS29TBC established using the following protocol: "Tls12"
2024-03-29 22:31:38.961 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:31:38.961 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:31:38.961 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:31:38.961 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:31:38.961 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:31:38.968 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:31:39.029 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:31:39.031 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:31:39.032 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 70.8475ms
2024-03-29 22:31:39.032 +05:00 [DBG] Connection id "0HN2G2NS29TBC" disconnecting.
2024-03-29 22:31:39.032 +05:00 [DBG] Connection id "0HN2G2NS29TBC" stopped.
2024-03-29 22:31:39.032 +05:00 [DBG] Connection id "0HN2G2NS29TBC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:31:45.718 +05:00 [DBG] Connection id "0HN2G2NS29TBD" accepted.
2024-03-29 22:31:45.718 +05:00 [DBG] Connection id "0HN2G2NS29TBD" started.
2024-03-29 22:31:45.719 +05:00 [DBG] Connection 0HN2G2NS29TBD established using the following protocol: "Tls12"
2024-03-29 22:31:45.720 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:31:45.720 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:31:45.720 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:31:45.720 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:31:45.720 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:31:45.722 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:31:45.723 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:31:45.723 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:31:45.723 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 3.3991ms
2024-03-29 22:31:45.723 +05:00 [DBG] Connection id "0HN2G2NS29TBD" disconnecting.
2024-03-29 22:31:45.723 +05:00 [DBG] Connection id "0HN2G2NS29TBD" stopped.
2024-03-29 22:31:45.723 +05:00 [DBG] Connection id "0HN2G2NS29TBD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:31:46.324 +05:00 [DBG] Connection id "0HN2G2NS29TBE" accepted.
2024-03-29 22:31:46.324 +05:00 [DBG] Connection id "0HN2G2NS29TBE" started.
2024-03-29 22:31:46.326 +05:00 [DBG] Connection 0HN2G2NS29TBE established using the following protocol: "Tls12"
2024-03-29 22:31:46.326 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:31:46.326 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:31:46.327 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:31:46.327 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:31:46.327 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:31:46.328 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:31:46.328 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:31:46.328 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:31:46.328 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.9274ms
2024-03-29 22:31:46.328 +05:00 [DBG] Connection id "0HN2G2NS29TBE" disconnecting.
2024-03-29 22:31:46.329 +05:00 [DBG] Connection id "0HN2G2NS29TBE" stopped.
2024-03-29 22:31:46.340 +05:00 [DBG] Connection id "0HN2G2NS29TBE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:31:46.670 +05:00 [DBG] Connection id "0HN2G2NS29TBF" accepted.
2024-03-29 22:31:46.670 +05:00 [DBG] Connection id "0HN2G2NS29TBF" started.
2024-03-29 22:31:46.671 +05:00 [DBG] Connection 0HN2G2NS29TBF established using the following protocol: "Tls12"
2024-03-29 22:31:46.671 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:31:46.672 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:31:46.672 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:31:46.672 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:31:46.672 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:31:46.672 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:31:46.672 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:31:46.673 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:31:46.673 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.2546ms
2024-03-29 22:31:46.673 +05:00 [DBG] Connection id "0HN2G2NS29TBF" disconnecting.
2024-03-29 22:31:46.673 +05:00 [DBG] Connection id "0HN2G2NS29TBF" stopped.
2024-03-29 22:31:46.673 +05:00 [DBG] Connection id "0HN2G2NS29TBF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:31:46.847 +05:00 [DBG] Connection id "0HN2G2NS29TBG" accepted.
2024-03-29 22:31:46.847 +05:00 [DBG] Connection id "0HN2G2NS29TBG" started.
2024-03-29 22:31:46.848 +05:00 [DBG] Connection 0HN2G2NS29TBG established using the following protocol: "Tls12"
2024-03-29 22:31:46.848 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:31:46.848 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:31:46.849 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:31:46.849 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:31:46.849 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:31:46.849 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:31:46.849 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:31:46.850 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:31:46.850 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.9124ms
2024-03-29 22:31:46.850 +05:00 [DBG] Connection id "0HN2G2NS29TBG" disconnecting.
2024-03-29 22:31:46.851 +05:00 [DBG] Connection id "0HN2G2NS29TBG" stopped.
2024-03-29 22:31:46.851 +05:00 [DBG] Connection id "0HN2G2NS29TBG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:31:47.020 +05:00 [DBG] Connection id "0HN2G2NS29TBH" accepted.
2024-03-29 22:31:47.020 +05:00 [DBG] Connection id "0HN2G2NS29TBH" started.
2024-03-29 22:31:47.021 +05:00 [DBG] Connection 0HN2G2NS29TBH established using the following protocol: "Tls12"
2024-03-29 22:31:47.021 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:31:47.021 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:31:47.021 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:31:47.021 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:31:47.021 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:31:47.022 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:31:47.022 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:31:47.022 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:31:47.022 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8942ms
2024-03-29 22:31:47.022 +05:00 [DBG] Connection id "0HN2G2NS29TBH" disconnecting.
2024-03-29 22:31:47.022 +05:00 [DBG] Connection id "0HN2G2NS29TBH" stopped.
2024-03-29 22:31:47.022 +05:00 [DBG] Connection id "0HN2G2NS29TBH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:31:47.189 +05:00 [DBG] Connection id "0HN2G2NS29TBI" accepted.
2024-03-29 22:31:47.189 +05:00 [DBG] Connection id "0HN2G2NS29TBI" started.
2024-03-29 22:31:47.190 +05:00 [DBG] Connection 0HN2G2NS29TBI established using the following protocol: "Tls12"
2024-03-29 22:31:47.191 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:31:47.191 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:31:47.191 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:31:47.191 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:31:47.191 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:31:47.192 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:31:47.192 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:31:47.192 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:31:47.193 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.8496ms
2024-03-29 22:31:47.193 +05:00 [DBG] Connection id "0HN2G2NS29TBI" disconnecting.
2024-03-29 22:31:47.193 +05:00 [DBG] Connection id "0HN2G2NS29TBI" stopped.
2024-03-29 22:31:47.193 +05:00 [DBG] Connection id "0HN2G2NS29TBI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:31:47.349 +05:00 [DBG] Connection id "0HN2G2NS29TBJ" accepted.
2024-03-29 22:31:47.349 +05:00 [DBG] Connection id "0HN2G2NS29TBJ" started.
2024-03-29 22:31:47.351 +05:00 [DBG] Connection 0HN2G2NS29TBJ established using the following protocol: "Tls12"
2024-03-29 22:31:47.352 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:31:47.352 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:31:47.352 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:31:47.352 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:31:47.352 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:31:47.352 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:31:47.352 +05:00 [DBG] Successfully validated the token.
2024-03-29 22:31:47.352 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:31:47.353 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8881ms
2024-03-29 22:31:47.353 +05:00 [DBG] Connection id "0HN2G2NS29TBJ" disconnecting.
2024-03-29 22:31:47.353 +05:00 [DBG] Connection id "0HN2G2NS29TBJ" stopped.
2024-03-29 22:31:47.353 +05:00 [DBG] Connection id "0HN2G2NS29TBJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:34:15.930 +05:00 [DBG] Connection id "0HN2G2NS29TBB" received FIN.
2024-03-29 22:34:15.931 +05:00 [DBG] Connection id "0HN2G2NS29TBB" is closed. The last processed stream ID was 25.
2024-03-29 22:34:15.932 +05:00 [DBG] Connection id "0HN2G2NS29TBB" sending FIN because: "The client closed the connection."
2024-03-29 22:34:15.934 +05:00 [DBG] The connection queue processing loop for 0HN2G2NS29TBB completed.
2024-03-29 22:34:15.936 +05:00 [DBG] Connection id "0HN2G2NS29TBB" stopped.
2024-03-29 22:34:50.307 +05:00 [DBG] Config reload token fired. Checking for changes...
2024-03-29 22:35:41.626 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 22:35:41.702 +05:00 [DBG] Hosting starting
2024-03-29 22:35:41.720 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 22:35:41.780 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 22:35:41.793 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 22:35:41.796 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 22:35:41.798 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 22:35:41.799 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 22:35:41.815 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 22:35:41.824 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 22:35:41.825 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 22:35:41.825 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 22:35:41.825 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 22:35:41.833 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 22:35:41.838 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:35:41.842 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 22:35:41.843 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:35:41.847 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 22:35:41.848 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 22:35:41.850 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 22:35:41.851 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 22:35:42.014 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 22:35:42.014 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 22:35:42.014 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 22:35:42.014 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 22:35:42.014 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 22:35:42.016 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 22:35:42.017 +05:00 [INF] Hosting environment: Development
2024-03-29 22:35:42.017 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 22:35:42.017 +05:00 [DBG] Hosting started
2024-03-29 22:35:42.169 +05:00 [DBG] Connection id "0HN2G2QK3LE0G" accepted.
2024-03-29 22:35:42.170 +05:00 [DBG] Connection id "0HN2G2QK3LE0G" started.
2024-03-29 22:35:42.211 +05:00 [DBG] Connection id "0HN2G2QK3LE0G" received FIN.
2024-03-29 22:35:42.214 +05:00 [DBG] Connection id "0HN2G2QK3LE0H" accepted.
2024-03-29 22:35:42.215 +05:00 [DBG] Connection id "0HN2G2QK3LE0H" started.
2024-03-29 22:35:42.233 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:35:42.250 +05:00 [DBG] Connection id "0HN2G2QK3LE0G" stopped.
2024-03-29 22:35:42.252 +05:00 [DBG] Connection id "0HN2G2QK3LE0G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:35:42.266 +05:00 [DBG] Connection 0HN2G2QK3LE0H established using the following protocol: "Tls12"
2024-03-29 22:35:42.326 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 22:35:42.346 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 22:35:42.378 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 22:35:42.379 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:35:42.529 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 22:35:42.624 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 22:35:42.627 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 304.0284ms
2024-03-29 22:35:42.662 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 22:35:42.668 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 22:35:42.678 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 9.5148ms
2024-03-29 22:35:42.717 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.7448ms
2024-03-29 22:35:42.910 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 22:35:42.911 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 22:35:42.911 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:35:43.050 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.9360ms
2024-03-29 22:35:51.753 +05:00 [DBG] Connection id "0HN2G2QK3LE0I" accepted.
2024-03-29 22:35:51.753 +05:00 [DBG] Connection id "0HN2G2QK3LE0I" started.
2024-03-29 22:35:51.760 +05:00 [DBG] Connection 0HN2G2QK3LE0I established using the following protocol: "Tls12"
2024-03-29 22:35:51.771 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:35:51.776 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:35:51.781 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:35:51.782 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:35:51.785 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:35:51.793 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:35:52.003 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:35:52.007 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:35:52.010 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 238.2494ms
2024-03-29 22:35:52.010 +05:00 [DBG] Connection id "0HN2G2QK3LE0I" disconnecting.
2024-03-29 22:35:52.010 +05:00 [DBG] Connection id "0HN2G2QK3LE0I" stopped.
2024-03-29 22:35:52.010 +05:00 [DBG] Connection id "0HN2G2QK3LE0I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:35:52.646 +05:00 [DBG] Connection id "0HN2G2QK3LE0J" accepted.
2024-03-29 22:35:52.646 +05:00 [DBG] Connection id "0HN2G2QK3LE0J" started.
2024-03-29 22:35:52.648 +05:00 [DBG] Connection 0HN2G2QK3LE0J established using the following protocol: "Tls12"
2024-03-29 22:35:52.648 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:35:52.648 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:35:52.649 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:35:52.649 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:35:52.649 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:35:52.651 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:35:52.653 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:35:52.654 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:35:52.654 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 5.6799ms
2024-03-29 22:35:52.654 +05:00 [DBG] Connection id "0HN2G2QK3LE0J" disconnecting.
2024-03-29 22:35:52.654 +05:00 [DBG] Connection id "0HN2G2QK3LE0J" stopped.
2024-03-29 22:35:52.654 +05:00 [DBG] Connection id "0HN2G2QK3LE0J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:35:53.431 +05:00 [DBG] Connection id "0HN2G2QK3LE0K" accepted.
2024-03-29 22:35:53.431 +05:00 [DBG] Connection id "0HN2G2QK3LE0K" started.
2024-03-29 22:35:53.438 +05:00 [DBG] Connection 0HN2G2QK3LE0K established using the following protocol: "Tls12"
2024-03-29 22:35:53.439 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:35:53.439 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:35:53.439 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:35:53.439 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:35:53.439 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:35:53.440 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:35:53.443 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:35:53.444 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:35:53.444 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 5.2135ms
2024-03-29 22:35:53.444 +05:00 [DBG] Connection id "0HN2G2QK3LE0K" disconnecting.
2024-03-29 22:35:53.444 +05:00 [DBG] Connection id "0HN2G2QK3LE0K" stopped.
2024-03-29 22:35:53.444 +05:00 [DBG] Connection id "0HN2G2QK3LE0K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:35:56.703 +05:00 [DBG] Connection id "0HN2G2QK3LE0L" accepted.
2024-03-29 22:35:56.703 +05:00 [DBG] Connection id "0HN2G2QK3LE0L" started.
2024-03-29 22:35:56.704 +05:00 [DBG] Connection 0HN2G2QK3LE0L established using the following protocol: "Tls12"
2024-03-29 22:35:56.705 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:35:56.705 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:35:56.705 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:35:56.705 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:35:56.705 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:35:56.705 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:35:56.705 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:35:56.706 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:35:56.706 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.1843ms
2024-03-29 22:35:56.706 +05:00 [DBG] Connection id "0HN2G2QK3LE0L" disconnecting.
2024-03-29 22:35:56.706 +05:00 [DBG] Connection id "0HN2G2QK3LE0L" stopped.
2024-03-29 22:35:56.706 +05:00 [DBG] Connection id "0HN2G2QK3LE0L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:36:09.390 +05:00 [DBG] Connection id "0HN2G2QK3LE0M" accepted.
2024-03-29 22:36:09.390 +05:00 [DBG] Connection id "0HN2G2QK3LE0M" started.
2024-03-29 22:36:09.391 +05:00 [DBG] Connection 0HN2G2QK3LE0M established using the following protocol: "Tls12"
2024-03-29 22:36:09.391 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:36:09.391 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:36:09.391 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:36:09.391 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:36:09.391 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:36:09.392 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:36:09.393 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:36:09.393 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:36:09.393 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.5938ms
2024-03-29 22:36:09.394 +05:00 [DBG] Connection id "0HN2G2QK3LE0M" disconnecting.
2024-03-29 22:36:09.394 +05:00 [DBG] Connection id "0HN2G2QK3LE0M" stopped.
2024-03-29 22:36:09.394 +05:00 [DBG] Connection id "0HN2G2QK3LE0M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:36:09.845 +05:00 [DBG] Connection id "0HN2G2QK3LE0N" accepted.
2024-03-29 22:36:09.845 +05:00 [DBG] Connection id "0HN2G2QK3LE0N" started.
2024-03-29 22:36:09.846 +05:00 [DBG] Connection 0HN2G2QK3LE0N established using the following protocol: "Tls12"
2024-03-29 22:36:09.846 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:36:09.847 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:36:09.847 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:36:09.847 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:36:09.847 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:36:09.847 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:36:09.847 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:36:09.847 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:36:09.848 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.1686ms
2024-03-29 22:36:09.848 +05:00 [DBG] Connection id "0HN2G2QK3LE0N" disconnecting.
2024-03-29 22:36:09.848 +05:00 [DBG] Connection id "0HN2G2QK3LE0N" stopped.
2024-03-29 22:36:09.848 +05:00 [DBG] Connection id "0HN2G2QK3LE0N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:36:10.021 +05:00 [DBG] Connection id "0HN2G2QK3LE0O" accepted.
2024-03-29 22:36:10.021 +05:00 [DBG] Connection id "0HN2G2QK3LE0O" started.
2024-03-29 22:36:10.022 +05:00 [DBG] Connection 0HN2G2QK3LE0O established using the following protocol: "Tls12"
2024-03-29 22:36:10.022 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:36:10.022 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:36:10.022 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:36:10.022 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:36:10.022 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:36:10.022 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:36:10.023 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:36:10.023 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:36:10.023 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.9930ms
2024-03-29 22:36:10.023 +05:00 [DBG] Connection id "0HN2G2QK3LE0O" disconnecting.
2024-03-29 22:36:10.023 +05:00 [DBG] Connection id "0HN2G2QK3LE0O" stopped.
2024-03-29 22:36:10.023 +05:00 [DBG] Connection id "0HN2G2QK3LE0O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:36:10.220 +05:00 [DBG] Connection id "0HN2G2QK3LE0P" accepted.
2024-03-29 22:36:10.220 +05:00 [DBG] Connection id "0HN2G2QK3LE0P" started.
2024-03-29 22:36:10.222 +05:00 [DBG] Connection 0HN2G2QK3LE0P established using the following protocol: "Tls12"
2024-03-29 22:36:10.222 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:36:10.222 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:36:10.222 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:36:10.223 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:36:10.223 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:36:10.223 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:36:10.223 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:36:10.223 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:36:10.223 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.9473ms
2024-03-29 22:36:10.223 +05:00 [DBG] Connection id "0HN2G2QK3LE0P" disconnecting.
2024-03-29 22:36:10.223 +05:00 [DBG] Connection id "0HN2G2QK3LE0P" stopped.
2024-03-29 22:36:10.224 +05:00 [DBG] Connection id "0HN2G2QK3LE0P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:36:10.388 +05:00 [DBG] Connection id "0HN2G2QK3LE0Q" accepted.
2024-03-29 22:36:10.388 +05:00 [DBG] Connection id "0HN2G2QK3LE0Q" started.
2024-03-29 22:36:10.389 +05:00 [DBG] Connection 0HN2G2QK3LE0Q established using the following protocol: "Tls12"
2024-03-29 22:36:10.389 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:36:10.390 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:36:10.390 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:36:10.390 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:36:10.390 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:36:10.390 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:36:10.390 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:36:10.391 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:36:10.391 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.1940ms
2024-03-29 22:36:10.391 +05:00 [DBG] Connection id "0HN2G2QK3LE0Q" disconnecting.
2024-03-29 22:36:10.391 +05:00 [DBG] Connection id "0HN2G2QK3LE0Q" stopped.
2024-03-29 22:36:10.391 +05:00 [DBG] Connection id "0HN2G2QK3LE0Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:36:10.565 +05:00 [DBG] Connection id "0HN2G2QK3LE0R" accepted.
2024-03-29 22:36:10.565 +05:00 [DBG] Connection id "0HN2G2QK3LE0R" started.
2024-03-29 22:36:10.570 +05:00 [DBG] Connection 0HN2G2QK3LE0R established using the following protocol: "Tls12"
2024-03-29 22:36:10.571 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:36:10.571 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:36:10.571 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:36:10.571 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:36:10.571 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:36:10.571 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:36:10.572 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:36:10.572 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:36:10.572 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.4090ms
2024-03-29 22:36:10.572 +05:00 [DBG] Connection id "0HN2G2QK3LE0R" disconnecting.
2024-03-29 22:36:10.572 +05:00 [DBG] Connection id "0HN2G2QK3LE0R" stopped.
2024-03-29 22:36:10.572 +05:00 [DBG] Connection id "0HN2G2QK3LE0R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:38:35.544 +05:00 [DBG] Connection id "0HN2G2QK3LE0H" received FIN.
2024-03-29 22:38:35.547 +05:00 [DBG] The connection queue processing loop for 0HN2G2QK3LE0H completed.
2024-03-29 22:38:35.550 +05:00 [DBG] Connection id "0HN2G2QK3LE0H" is closed. The last processed stream ID was 21.
2024-03-29 22:38:35.550 +05:00 [DBG] Connection id "0HN2G2QK3LE0H" sending FIN because: "The client closed the connection."
2024-03-29 22:38:35.560 +05:00 [DBG] Connection id "0HN2G2QK3LE0H" stopped.
2024-03-29 22:41:17.949 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-29 22:41:18.019 +05:00 [DBG] Hosting starting
2024-03-29 22:41:18.036 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 22:41:18.043 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-29 22:41:18.050 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-29 22:41:18.051 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-29 22:41:18.052 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-29 22:41:18.052 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-29 22:41:18.056 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-29 22:41:18.059 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-29 22:41:18.060 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-29 22:41:18.060 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-29 22:41:18.060 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-29 22:41:18.070 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-29 22:41:18.073 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:41:18.077 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-29 22:41:18.078 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 22:41:18.084 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-29 22:41:18.085 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-29 22:41:18.086 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-29 22:41:18.086 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-29 22:41:18.214 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-29 22:41:18.214 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-29 22:41:18.214 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-29 22:41:18.214 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 22:41:18.215 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 22:41:18.217 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-29 22:41:18.217 +05:00 [INF] Hosting environment: Development
2024-03-29 22:41:18.217 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-29 22:41:18.217 +05:00 [DBG] Hosting started
2024-03-29 22:41:18.707 +05:00 [DBG] Connection id "0HN2G2TOD4KO0" received FIN.
2024-03-29 22:41:18.707 +05:00 [DBG] Connection id "0HN2G2TOD4KNV" received FIN.
2024-03-29 22:41:18.713 +05:00 [DBG] Connection id "0HN2G2TOD4KO0" accepted.
2024-03-29 22:41:18.713 +05:00 [DBG] Connection id "0HN2G2TOD4KNV" accepted.
2024-03-29 22:41:18.713 +05:00 [DBG] Connection id "0HN2G2TOD4KO0" started.
2024-03-29 22:41:18.713 +05:00 [DBG] Connection id "0HN2G2TOD4KNV" started.
2024-03-29 22:41:18.724 +05:00 [DBG] Connection id "0HN2G2TOD4KO1" accepted.
2024-03-29 22:41:18.725 +05:00 [DBG] Connection id "0HN2G2TOD4KO1" started.
2024-03-29 22:41:18.736 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:41:18.734 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-29 22:41:18.754 +05:00 [DBG] Connection id "0HN2G2TOD4KO0" stopped.
2024-03-29 22:41:18.754 +05:00 [DBG] Connection id "0HN2G2TOD4KNV" stopped.
2024-03-29 22:41:18.755 +05:00 [DBG] Connection id "0HN2G2TOD4KO0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:41:18.756 +05:00 [DBG] Connection id "0HN2G2TOD4KNV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:41:18.773 +05:00 [DBG] Connection 0HN2G2TOD4KO1 established using the following protocol: "Tls12"
2024-03-29 22:41:18.828 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-29 22:41:18.847 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 22:41:18.876 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-29 22:41:18.877 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:41:19.026 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-29 22:41:19.108 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-29 22:41:19.112 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 288.3887ms
2024-03-29 22:41:19.158 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 22:41:19.158 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-29 22:41:19.172 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 11.9626ms
2024-03-29 22:41:19.195 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.7949ms
2024-03-29 22:41:19.437 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-29 22:41:19.439 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-29 22:41:19.439 +05:00 [DBG] Request did not match any endpoints
2024-03-29 22:41:19.578 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.8253ms
2024-03-29 22:41:21.455 +05:00 [DBG] Connection id "0HN2G2TOD4KO2" accepted.
2024-03-29 22:41:21.455 +05:00 [DBG] Connection id "0HN2G2TOD4KO2" started.
2024-03-29 22:41:21.473 +05:00 [DBG] Connection 0HN2G2TOD4KO2 established using the following protocol: "Tls12"
2024-03-29 22:41:21.483 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:41:21.488 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:41:21.493 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:41:21.494 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:41:21.497 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:41:21.505 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:41:24.167 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:41:24.172 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:41:24.174 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2690.8289ms
2024-03-29 22:41:24.175 +05:00 [DBG] Connection id "0HN2G2TOD4KO2" disconnecting.
2024-03-29 22:41:24.175 +05:00 [DBG] Connection id "0HN2G2TOD4KO2" stopped.
2024-03-29 22:41:24.178 +05:00 [DBG] Connection id "0HN2G2TOD4KO2" received FIN.
2024-03-29 22:41:24.178 +05:00 [DBG] Connection id "0HN2G2TOD4KO2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:41:29.095 +05:00 [DBG] Connection id "0HN2G2TOD4KO3" accepted.
2024-03-29 22:41:29.095 +05:00 [DBG] Connection id "0HN2G2TOD4KO3" started.
2024-03-29 22:41:29.099 +05:00 [DBG] Connection 0HN2G2TOD4KO3 established using the following protocol: "Tls12"
2024-03-29 22:41:29.100 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:41:29.100 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:41:29.100 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:41:29.102 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:41:29.103 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:41:29.105 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:41:29.106 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:41:29.107 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:41:29.107 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 7.1556ms
2024-03-29 22:41:29.107 +05:00 [DBG] Connection id "0HN2G2TOD4KO3" disconnecting.
2024-03-29 22:41:29.107 +05:00 [DBG] Connection id "0HN2G2TOD4KO3" stopped.
2024-03-29 22:41:29.108 +05:00 [DBG] Connection id "0HN2G2TOD4KO3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:41:29.556 +05:00 [DBG] Connection id "0HN2G2TOD4KO4" accepted.
2024-03-29 22:41:29.556 +05:00 [DBG] Connection id "0HN2G2TOD4KO4" started.
2024-03-29 22:41:29.557 +05:00 [DBG] Connection 0HN2G2TOD4KO4 established using the following protocol: "Tls12"
2024-03-29 22:41:29.557 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:41:29.557 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:41:29.557 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:41:29.557 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:41:29.557 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:41:29.559 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:41:29.563 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:41:29.563 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:41:29.563 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 6.1276ms
2024-03-29 22:41:29.563 +05:00 [DBG] Connection id "0HN2G2TOD4KO4" disconnecting.
2024-03-29 22:41:29.564 +05:00 [DBG] Connection id "0HN2G2TOD4KO4" stopped.
2024-03-29 22:41:29.564 +05:00 [DBG] Connection id "0HN2G2TOD4KO4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:41:29.734 +05:00 [DBG] Connection id "0HN2G2TOD4KO5" accepted.
2024-03-29 22:41:29.734 +05:00 [DBG] Connection id "0HN2G2TOD4KO5" started.
2024-03-29 22:41:29.736 +05:00 [DBG] Connection 0HN2G2TOD4KO5 established using the following protocol: "Tls12"
2024-03-29 22:41:29.736 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:41:29.737 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:41:29.737 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:41:29.737 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:41:29.737 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:41:29.737 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:41:29.737 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:41:29.737 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:41:29.738 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.1097ms
2024-03-29 22:41:29.738 +05:00 [DBG] Connection id "0HN2G2TOD4KO5" disconnecting.
2024-03-29 22:41:29.738 +05:00 [DBG] Connection id "0HN2G2TOD4KO5" stopped.
2024-03-29 22:41:29.738 +05:00 [DBG] Connection id "0HN2G2TOD4KO5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:41:29.911 +05:00 [DBG] Connection id "0HN2G2TOD4KO6" accepted.
2024-03-29 22:41:29.911 +05:00 [DBG] Connection id "0HN2G2TOD4KO6" started.
2024-03-29 22:41:29.913 +05:00 [DBG] Connection 0HN2G2TOD4KO6 established using the following protocol: "Tls12"
2024-03-29 22:41:29.913 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:41:29.913 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:41:29.914 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:41:29.914 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:41:29.914 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:41:29.914 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:41:29.914 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:41:29.915 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:41:29.915 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.4652ms
2024-03-29 22:41:29.915 +05:00 [DBG] Connection id "0HN2G2TOD4KO6" disconnecting.
2024-03-29 22:41:29.915 +05:00 [DBG] Connection id "0HN2G2TOD4KO6" stopped.
2024-03-29 22:41:29.915 +05:00 [DBG] Connection id "0HN2G2TOD4KO6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:41:30.087 +05:00 [DBG] Connection id "0HN2G2TOD4KO7" accepted.
2024-03-29 22:41:30.087 +05:00 [DBG] Connection id "0HN2G2TOD4KO7" started.
2024-03-29 22:41:30.088 +05:00 [DBG] Connection 0HN2G2TOD4KO7 established using the following protocol: "Tls12"
2024-03-29 22:41:30.089 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:41:30.089 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:41:30.089 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:41:30.089 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:41:30.089 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:41:30.089 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:41:30.090 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:41:30.090 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:41:30.090 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.3569ms
2024-03-29 22:41:30.090 +05:00 [DBG] Connection id "0HN2G2TOD4KO7" disconnecting.
2024-03-29 22:41:30.090 +05:00 [DBG] Connection id "0HN2G2TOD4KO7" stopped.
2024-03-29 22:41:30.090 +05:00 [DBG] Connection id "0HN2G2TOD4KO7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:41:30.263 +05:00 [DBG] Connection id "0HN2G2TOD4KO8" accepted.
2024-03-29 22:41:30.263 +05:00 [DBG] Connection id "0HN2G2TOD4KO8" started.
2024-03-29 22:41:30.264 +05:00 [DBG] Connection 0HN2G2TOD4KO8 established using the following protocol: "Tls12"
2024-03-29 22:41:30.264 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:41:30.264 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:41:30.264 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:41:30.264 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:41:30.264 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:41:30.265 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:41:30.265 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:41:30.265 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:41:30.265 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.2145ms
2024-03-29 22:41:30.265 +05:00 [DBG] Connection id "0HN2G2TOD4KO8" disconnecting.
2024-03-29 22:41:30.266 +05:00 [DBG] Connection id "0HN2G2TOD4KO8" stopped.
2024-03-29 22:41:30.267 +05:00 [DBG] Connection id "0HN2G2TOD4KO8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:41:30.429 +05:00 [DBG] Connection id "0HN2G2TOD4KO9" accepted.
2024-03-29 22:41:30.429 +05:00 [DBG] Connection id "0HN2G2TOD4KO9" started.
2024-03-29 22:41:30.430 +05:00 [DBG] Connection 0HN2G2TOD4KO9 established using the following protocol: "Tls12"
2024-03-29 22:41:30.431 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:41:30.431 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:41:30.431 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:41:30.431 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:41:30.431 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:41:30.431 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:41:30.431 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:41:30.432 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:41:30.432 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.1419ms
2024-03-29 22:41:30.432 +05:00 [DBG] Connection id "0HN2G2TOD4KO9" disconnecting.
2024-03-29 22:41:30.432 +05:00 [DBG] Connection id "0HN2G2TOD4KO9" stopped.
2024-03-29 22:41:30.432 +05:00 [DBG] Connection id "0HN2G2TOD4KO9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:41:30.607 +05:00 [DBG] Connection id "0HN2G2TOD4KOA" accepted.
2024-03-29 22:41:30.607 +05:00 [DBG] Connection id "0HN2G2TOD4KOA" started.
2024-03-29 22:41:30.608 +05:00 [DBG] Connection 0HN2G2TOD4KOA established using the following protocol: "Tls12"
2024-03-29 22:41:30.608 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:41:30.609 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:41:30.609 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:41:30.609 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:41:30.609 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:41:30.610 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:41:30.610 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:41:30.610 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:41:30.611 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.1241ms
2024-03-29 22:41:30.611 +05:00 [DBG] Connection id "0HN2G2TOD4KOA" disconnecting.
2024-03-29 22:41:30.611 +05:00 [DBG] Connection id "0HN2G2TOD4KOA" stopped.
2024-03-29 22:41:30.611 +05:00 [DBG] Connection id "0HN2G2TOD4KOA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:41:36.946 +05:00 [DBG] Config reload token fired. Checking for changes...
2024-03-29 22:42:11.544 +05:00 [DBG] Connection id "0HN2G2TOD4KOB" accepted.
2024-03-29 22:42:11.544 +05:00 [DBG] Connection id "0HN2G2TOD4KOB" started.
2024-03-29 22:42:11.545 +05:00 [DBG] Connection 0HN2G2TOD4KOB established using the following protocol: "Tls12"
2024-03-29 22:42:11.545 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:42:11.545 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-29 22:42:11.546 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:42:11.546 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:42:11.546 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:42:11.546 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:42:11.546 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:42:11.546 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:42:11.546 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:42:11.546 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.1409ms
2024-03-29 22:42:11.546 +05:00 [DBG] Connection id "0HN2G2TOD4KOB" disconnecting.
2024-03-29 22:42:11.547 +05:00 [DBG] Connection id "0HN2G2TOD4KOB" stopped.
2024-03-29 22:42:11.548 +05:00 [DBG] Connection id "0HN2G2TOD4KOB" received FIN.
2024-03-29 22:42:11.549 +05:00 [DBG] Connection id "0HN2G2TOD4KOB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:42:12.006 +05:00 [DBG] Connection id "0HN2G2TOD4KOC" accepted.
2024-03-29 22:42:12.006 +05:00 [DBG] Connection id "0HN2G2TOD4KOC" started.
2024-03-29 22:42:12.007 +05:00 [DBG] Connection 0HN2G2TOD4KOC established using the following protocol: "Tls12"
2024-03-29 22:42:12.008 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:42:12.008 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:42:12.008 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:42:12.008 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:42:12.008 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:42:12.008 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:42:12.008 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:42:12.009 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:42:12.009 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.4132ms
2024-03-29 22:42:12.010 +05:00 [DBG] Connection id "0HN2G2TOD4KOC" disconnecting.
2024-03-29 22:42:12.010 +05:00 [DBG] Connection id "0HN2G2TOD4KOC" stopped.
2024-03-29 22:42:12.010 +05:00 [DBG] Connection id "0HN2G2TOD4KOC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:42:12.373 +05:00 [DBG] Connection id "0HN2G2TOD4KOD" accepted.
2024-03-29 22:42:12.374 +05:00 [DBG] Connection id "0HN2G2TOD4KOD" started.
2024-03-29 22:42:12.374 +05:00 [DBG] Connection 0HN2G2TOD4KOD established using the following protocol: "Tls12"
2024-03-29 22:42:12.375 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:42:12.375 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:42:12.375 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:42:12.375 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:42:12.375 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:42:12.375 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:42:12.375 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:42:12.377 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:42:12.378 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.7657ms
2024-03-29 22:42:12.378 +05:00 [DBG] Connection id "0HN2G2TOD4KOD" disconnecting.
2024-03-29 22:42:12.378 +05:00 [DBG] Connection id "0HN2G2TOD4KOD" stopped.
2024-03-29 22:42:12.378 +05:00 [DBG] Connection id "0HN2G2TOD4KOD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:42:12.756 +05:00 [DBG] Connection id "0HN2G2TOD4KOE" accepted.
2024-03-29 22:42:12.756 +05:00 [DBG] Connection id "0HN2G2TOD4KOE" started.
2024-03-29 22:42:12.757 +05:00 [DBG] Connection 0HN2G2TOD4KOE established using the following protocol: "Tls12"
2024-03-29 22:42:12.758 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:42:12.758 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:42:12.758 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:42:12.758 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:42:12.758 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:42:12.758 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:42:12.758 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'LXGYUl35vOT9GC5N-ONqC4JYPWCOlL_pOeoexTLXZXM'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignatureAndIssuerSecurityKey(String token, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:42:12.758 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:42:12.758 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8934ms
2024-03-29 22:42:12.758 +05:00 [DBG] Connection id "0HN2G2TOD4KOE" disconnecting.
2024-03-29 22:42:12.759 +05:00 [DBG] Connection id "0HN2G2TOD4KOE" stopped.
2024-03-29 22:42:12.759 +05:00 [DBG] Connection id "0HN2G2TOD4KOE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:03.664 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-29 22:43:03.664 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-29 22:43:03.664 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-29 22:43:03.664 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 22:43:03.666 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 22:43:03.666 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:03.669 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 22:43:03.673 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 22:43:03.716 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 22:43:03.719 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 22:43:03.720 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 22:43:03.721 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 22:43:03.721 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 22:43:03.721 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 22:43:03.723 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:43:03.912 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 22:43:03.950 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:43:03.956 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 22:43:03.959 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-29 22:43:03.966 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 22:43:03.987 +05:00 [DBG] Connection id "0HN2G2TOD4KO1", Request id "0HN2G2TOD4KO1:00000017": started reading request body.
2024-03-29 22:43:03.987 +05:00 [DBG] Connection id "0HN2G2TOD4KO1", Request id "0HN2G2TOD4KO1:00000017": done reading request body.
2024-03-29 22:43:03.990 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-29 22:43:03.990 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 22:43:03.991 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 22:43:03.991 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-29 22:43:04.015 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-29 22:43:04.769 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-29 22:43:04.770 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-29 22:43:05.164 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 22:43:05.211 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-29 22:43:05.511 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 22:43:05.579 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:43:05.581 +05:00 [DBG] Creating DbConnection.
2024-03-29 22:43:05.589 +05:00 [DBG] Created DbConnection. (4ms).
2024-03-29 22:43:05.599 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2024-03-29 22:43:05.612 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (38ms).
2024-03-29 22:43:05.618 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:05.988 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:06.000 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 22:43:06.024 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-29 22:43:06.103 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:43:06.145 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:06.154 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 120ms reading results.
2024-03-29 22:43:06.157 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:06.169 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (10ms).
2024-03-29 22:43:06.188 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdUser") == __p_0)'
2024-03-29 22:43:06.205 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 22:43:06.207 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:43:06.207 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:43:06.207 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:43:06.207 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:06.215 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:06.215 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-29 22:43:06.221 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-29 22:43:06.222 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:06.223 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 1ms reading results.
2024-03-29 22:43:06.223 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:06.223 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:43:06.224 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 29.03.2024 22:43:06
2024-03-29 22:43:07.211 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 22:43:07.212 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 22:43:07.212 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 22:43:07.212 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 22:43:07.214 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-29 22:43:07.214 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-29 22:43:07.220 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 3494.8865ms
2024-03-29 22:43:07.221 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-29 22:43:07.223 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 22:43:07.228 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:07.229 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (2ms).
2024-03-29 22:43:07.230 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 3566.4689ms
2024-03-29 22:43:24.148 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=809056 - 0
2024-03-29 22:43:24.149 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-29 22:43:24.149 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-29 22:43:24.149 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 22:43:24.149 +05:00 [INF] No CORS policy found for the specified request.
2024-03-29 22:43:24.149 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:24.150 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-29 22:43:24.150 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 22:43:24.156 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-29 22:43:24.156 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-29 22:43:24.156 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-29 22:43:24.156 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-29 22:43:24.156 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-29 22:43:24.156 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-29 22:43:24.156 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:43:24.157 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-29 22:43:24.163 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-29 22:43:24.164 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-29 22:43:24.166 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 22:43:24.166 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-29 22:43:24.166 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-29 22:43:24.166 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-29 22:43:24.223 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-29 22:43:24.223 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-29 22:43:24.228 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 22:43:24.229 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:43:24.229 +05:00 [DBG] Creating DbConnection.
2024-03-29 22:43:24.229 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-29 22:43:24.229 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:43:24.229 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:43:24.229 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:24.232 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:24.232 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 22:43:24.233 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-29 22:43:24.239 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:43:24.246 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:24.246 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 13ms reading results.
2024-03-29 22:43:24.246 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:24.247 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:43:24.249 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-29 22:43:24.254 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-29 22:43:24.267 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-29 22:43:24.280 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:43:24.281 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-29 22:43:24.356 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:24.358 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:24.364 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-29 22:43:24.364 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:43:24.364 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-29 22:43:24.364 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-29 22:43:24.397 +05:00 [INF] Executed DbCommand (30ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-29 22:43:24.403 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:24.403 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 6ms reading results.
2024-03-29 22:43:24.405 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:24.405 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:43:24.408 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-29 22:43:24.414 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-29 22:43:24.415 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-29 22:43:24.415 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-29 22:43:24.415 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 22:43:24.415 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 22:43:24.415 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-29 22:43:24.415 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-29 22:43:24.423 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 266.4077ms
2024-03-29 22:43:24.423 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-29 22:43:24.424 +05:00 [DBG] 'BMContext' disposed.
2024-03-29 22:43:24.424 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-29 22:43:24.424 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-29 22:43:24.424 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=809056 - 0 - 200 - application/json;+charset=utf-8 276.0810ms
2024-03-29 22:43:32.492 +05:00 [DBG] Connection id "0HN2G2TOD4KOF" accepted.
2024-03-29 22:43:32.492 +05:00 [DBG] Connection id "0HN2G2TOD4KOF" started.
2024-03-29 22:43:32.493 +05:00 [DBG] Connection 0HN2G2TOD4KOF established using the following protocol: "Tls12"
2024-03-29 22:43:32.494 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:32.494 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:32.494 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:32.494 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:32.494 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:32.494 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:32.500 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:32.501 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:32.501 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 7.7589ms
2024-03-29 22:43:32.501 +05:00 [DBG] Connection id "0HN2G2TOD4KOF" disconnecting.
2024-03-29 22:43:32.502 +05:00 [DBG] Connection id "0HN2G2TOD4KOF" stopped.
2024-03-29 22:43:32.502 +05:00 [DBG] Connection id "0HN2G2TOD4KOF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:33.067 +05:00 [DBG] Connection id "0HN2G2TOD4KOG" accepted.
2024-03-29 22:43:33.067 +05:00 [DBG] Connection id "0HN2G2TOD4KOG" started.
2024-03-29 22:43:33.068 +05:00 [DBG] Connection 0HN2G2TOD4KOG established using the following protocol: "Tls12"
2024-03-29 22:43:33.068 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:33.069 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:33.069 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:33.069 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:33.069 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:33.069 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:33.069 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:33.069 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:33.069 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8684ms
2024-03-29 22:43:33.069 +05:00 [DBG] Connection id "0HN2G2TOD4KOG" disconnecting.
2024-03-29 22:43:33.070 +05:00 [DBG] Connection id "0HN2G2TOD4KOG" stopped.
2024-03-29 22:43:33.070 +05:00 [DBG] Connection id "0HN2G2TOD4KOG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:33.517 +05:00 [DBG] Connection id "0HN2G2TOD4KOH" accepted.
2024-03-29 22:43:33.517 +05:00 [DBG] Connection id "0HN2G2TOD4KOH" started.
2024-03-29 22:43:33.518 +05:00 [DBG] Connection 0HN2G2TOD4KOH established using the following protocol: "Tls12"
2024-03-29 22:43:33.518 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:33.518 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:33.518 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:33.518 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:33.519 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:33.519 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:33.519 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:33.519 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:33.519 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.0331ms
2024-03-29 22:43:33.519 +05:00 [DBG] Connection id "0HN2G2TOD4KOH" disconnecting.
2024-03-29 22:43:33.520 +05:00 [DBG] Connection id "0HN2G2TOD4KOH" stopped.
2024-03-29 22:43:33.520 +05:00 [DBG] Connection id "0HN2G2TOD4KOH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:33.700 +05:00 [DBG] Connection id "0HN2G2TOD4KOI" accepted.
2024-03-29 22:43:33.700 +05:00 [DBG] Connection id "0HN2G2TOD4KOI" started.
2024-03-29 22:43:33.702 +05:00 [DBG] Connection 0HN2G2TOD4KOI established using the following protocol: "Tls12"
2024-03-29 22:43:33.703 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:33.703 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:33.703 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:33.703 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:33.703 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:33.703 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:33.703 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:33.703 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:33.704 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8596ms
2024-03-29 22:43:33.704 +05:00 [DBG] Connection id "0HN2G2TOD4KOI" disconnecting.
2024-03-29 22:43:33.704 +05:00 [DBG] Connection id "0HN2G2TOD4KOI" stopped.
2024-03-29 22:43:33.704 +05:00 [DBG] Connection id "0HN2G2TOD4KOI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:33.859 +05:00 [DBG] Connection id "0HN2G2TOD4KOJ" accepted.
2024-03-29 22:43:33.860 +05:00 [DBG] Connection id "0HN2G2TOD4KOJ" started.
2024-03-29 22:43:33.861 +05:00 [DBG] Connection 0HN2G2TOD4KOJ established using the following protocol: "Tls12"
2024-03-29 22:43:33.861 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:33.861 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:33.861 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:33.861 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:33.861 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:33.861 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:33.861 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:33.861 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:33.862 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8143ms
2024-03-29 22:43:33.862 +05:00 [DBG] Connection id "0HN2G2TOD4KOJ" disconnecting.
2024-03-29 22:43:33.862 +05:00 [DBG] Connection id "0HN2G2TOD4KOJ" stopped.
2024-03-29 22:43:33.862 +05:00 [DBG] Connection id "0HN2G2TOD4KOJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:34.045 +05:00 [DBG] Connection id "0HN2G2TOD4KOK" accepted.
2024-03-29 22:43:34.045 +05:00 [DBG] Connection id "0HN2G2TOD4KOK" started.
2024-03-29 22:43:34.046 +05:00 [DBG] Connection 0HN2G2TOD4KOK established using the following protocol: "Tls12"
2024-03-29 22:43:34.046 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:34.046 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:34.046 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:34.046 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:34.046 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:34.047 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:34.048 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:34.048 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:34.049 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.5817ms
2024-03-29 22:43:34.049 +05:00 [DBG] Connection id "0HN2G2TOD4KOK" disconnecting.
2024-03-29 22:43:34.049 +05:00 [DBG] Connection id "0HN2G2TOD4KOK" stopped.
2024-03-29 22:43:34.049 +05:00 [DBG] Connection id "0HN2G2TOD4KOK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:34.214 +05:00 [DBG] Connection id "0HN2G2TOD4KOL" accepted.
2024-03-29 22:43:34.214 +05:00 [DBG] Connection id "0HN2G2TOD4KOL" started.
2024-03-29 22:43:34.215 +05:00 [DBG] Connection 0HN2G2TOD4KOL established using the following protocol: "Tls12"
2024-03-29 22:43:34.216 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:34.216 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:34.216 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:34.216 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:34.216 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:34.216 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:34.216 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:34.216 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:34.217 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.0121ms
2024-03-29 22:43:34.217 +05:00 [DBG] Connection id "0HN2G2TOD4KOL" disconnecting.
2024-03-29 22:43:34.217 +05:00 [DBG] Connection id "0HN2G2TOD4KOL" stopped.
2024-03-29 22:43:34.217 +05:00 [DBG] Connection id "0HN2G2TOD4KOL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:34.388 +05:00 [DBG] Connection id "0HN2G2TOD4KOM" accepted.
2024-03-29 22:43:34.388 +05:00 [DBG] Connection id "0HN2G2TOD4KOM" started.
2024-03-29 22:43:34.389 +05:00 [DBG] Connection 0HN2G2TOD4KOM established using the following protocol: "Tls12"
2024-03-29 22:43:34.389 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:34.389 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:34.389 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:34.389 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:34.390 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:34.390 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:34.390 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:34.390 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:34.391 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.1541ms
2024-03-29 22:43:34.391 +05:00 [DBG] Connection id "0HN2G2TOD4KOM" disconnecting.
2024-03-29 22:43:34.391 +05:00 [DBG] Connection id "0HN2G2TOD4KOM" stopped.
2024-03-29 22:43:34.391 +05:00 [DBG] Connection id "0HN2G2TOD4KOM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:44.806 +05:00 [DBG] Connection id "0HN2G2TOD4KON" accepted.
2024-03-29 22:43:44.806 +05:00 [DBG] Connection id "0HN2G2TOD4KON" started.
2024-03-29 22:43:44.807 +05:00 [DBG] Connection 0HN2G2TOD4KON established using the following protocol: "Tls12"
2024-03-29 22:43:44.808 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:44.808 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:44.808 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:44.808 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:44.808 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:44.808 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:44.809 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:44.810 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:44.810 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.2887ms
2024-03-29 22:43:44.810 +05:00 [DBG] Connection id "0HN2G2TOD4KON" disconnecting.
2024-03-29 22:43:44.810 +05:00 [DBG] Connection id "0HN2G2TOD4KON" stopped.
2024-03-29 22:43:44.810 +05:00 [DBG] Connection id "0HN2G2TOD4KON" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:46.427 +05:00 [DBG] Connection id "0HN2G2TOD4KOO" accepted.
2024-03-29 22:43:46.428 +05:00 [DBG] Connection id "0HN2G2TOD4KOO" started.
2024-03-29 22:43:46.429 +05:00 [DBG] Connection 0HN2G2TOD4KOO established using the following protocol: "Tls12"
2024-03-29 22:43:46.429 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:46.429 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:46.429 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:46.429 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:46.429 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:46.430 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:46.430 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:46.431 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:46.431 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.7181ms
2024-03-29 22:43:46.431 +05:00 [DBG] Connection id "0HN2G2TOD4KOO" disconnecting.
2024-03-29 22:43:46.431 +05:00 [DBG] Connection id "0HN2G2TOD4KOO" stopped.
2024-03-29 22:43:46.431 +05:00 [DBG] Connection id "0HN2G2TOD4KOO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:52.196 +05:00 [DBG] Connection id "0HN2G2TOD4KOP" accepted.
2024-03-29 22:43:52.196 +05:00 [DBG] Connection id "0HN2G2TOD4KOP" started.
2024-03-29 22:43:52.197 +05:00 [DBG] Connection 0HN2G2TOD4KOP established using the following protocol: "Tls12"
2024-03-29 22:43:52.197 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:52.197 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:52.197 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:52.197 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:52.197 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:52.197 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:52.198 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:52.198 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:52.198 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8922ms
2024-03-29 22:43:52.198 +05:00 [DBG] Connection id "0HN2G2TOD4KOP" disconnecting.
2024-03-29 22:43:52.198 +05:00 [DBG] Connection id "0HN2G2TOD4KOP" stopped.
2024-03-29 22:43:52.198 +05:00 [DBG] Connection id "0HN2G2TOD4KOP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:52.770 +05:00 [DBG] Connection id "0HN2G2TOD4KOQ" accepted.
2024-03-29 22:43:52.770 +05:00 [DBG] Connection id "0HN2G2TOD4KOQ" started.
2024-03-29 22:43:52.771 +05:00 [DBG] Connection 0HN2G2TOD4KOQ established using the following protocol: "Tls12"
2024-03-29 22:43:52.771 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:52.771 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:52.771 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:52.771 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:52.771 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:52.772 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:52.772 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:52.772 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:52.772 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8414ms
2024-03-29 22:43:52.772 +05:00 [DBG] Connection id "0HN2G2TOD4KOQ" disconnecting.
2024-03-29 22:43:52.772 +05:00 [DBG] Connection id "0HN2G2TOD4KOQ" stopped.
2024-03-29 22:43:52.772 +05:00 [DBG] Connection id "0HN2G2TOD4KOQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-29 22:43:52.948 +05:00 [DBG] Connection id "0HN2G2TOD4KOR" accepted.
2024-03-29 22:43:52.948 +05:00 [DBG] Connection id "0HN2G2TOD4KOR" started.
2024-03-29 22:43:52.949 +05:00 [DBG] Connection 0HN2G2TOD4KOR established using the following protocol: "Tls12"
2024-03-29 22:43:52.949 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-29 22:43:52.949 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-29 22:43:52.949 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-29 22:43:52.949 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-29 22:43:52.949 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-29 22:43:52.949 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 22:43:52.949 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-29 22:43:52.950 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-29 22:43:52.950 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.9230ms
2024-03-29 22:43:52.950 +05:00 [DBG] Connection id "0HN2G2TOD4KOR" disconnecting.
2024-03-29 22:43:52.950 +05:00 [DBG] Connection id "0HN2G2TOD4KOR" stopped.
2024-03-29 22:43:52.950 +05:00 [DBG] Connection id "0HN2G2TOD4KOR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:33:59.041 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 12:33:59.098 +05:00 [DBG] Hosting starting
2024-03-30 12:33:59.113 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 12:33:59.120 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 12:33:59.125 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 12:33:59.125 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 12:33:59.126 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 12:33:59.126 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 12:33:59.130 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 12:33:59.132 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 12:33:59.133 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 12:33:59.133 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 12:33:59.133 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 12:33:59.140 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 12:33:59.142 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 12:33:59.145 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 12:33:59.147 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 12:33:59.150 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 12:33:59.152 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 12:33:59.153 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 12:33:59.154 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 12:33:59.279 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 12:33:59.279 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 12:33:59.279 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 12:33:59.279 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 12:33:59.279 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 12:33:59.282 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 12:33:59.282 +05:00 [INF] Hosting environment: Development
2024-03-30 12:33:59.282 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 12:33:59.282 +05:00 [DBG] Hosting started
2024-03-30 12:33:59.488 +05:00 [DBG] Connection id "0HN2GHF1S93QD" received FIN.
2024-03-30 12:33:59.492 +05:00 [DBG] Connection id "0HN2GHF1S93QD" accepted.
2024-03-30 12:33:59.493 +05:00 [DBG] Connection id "0HN2GHF1S93QD" started.
2024-03-30 12:33:59.504 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 12:33:59.519 +05:00 [DBG] Connection id "0HN2GHF1S93QD" stopped.
2024-03-30 12:33:59.522 +05:00 [DBG] Connection id "0HN2GHF1S93QD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:34:00.151 +05:00 [DBG] Connection id "0HN2GHF1S93QE" accepted.
2024-03-30 12:34:00.151 +05:00 [DBG] Connection id "0HN2GHF1S93QE" started.
2024-03-30 12:34:00.177 +05:00 [DBG] Connection id "0HN2GHF1S93QF" accepted.
2024-03-30 12:34:00.178 +05:00 [DBG] Connection id "0HN2GHF1S93QF" started.
2024-03-30 12:34:00.220 +05:00 [DBG] Connection 0HN2GHF1S93QE established using the following protocol: "Tls12"
2024-03-30 12:34:00.235 +05:00 [DBG] Connection id "0HN2GHF1S93QG" accepted.
2024-03-30 12:34:00.237 +05:00 [DBG] Connection 0HN2GHF1S93QF established using the following protocol: "Tls12"
2024-03-30 12:34:00.238 +05:00 [DBG] Connection id "0HN2GHF1S93QG" started.
2024-03-30 12:34:00.258 +05:00 [DBG] Connection 0HN2GHF1S93QG established using the following protocol: "Tls12"
2024-03-30 12:34:00.265 +05:00 [DBG] Connection id "0HN2GHF1S93QG" is closing.
2024-03-30 12:34:00.268 +05:00 [DBG] Connection id "0HN2GHF1S93QG" received FIN.
2024-03-30 12:34:00.269 +05:00 [DBG] Connection id "0HN2GHF1S93QG" is closed. The last processed stream ID was 0.
2024-03-30 12:34:00.269 +05:00 [DBG] Connection id "0HN2GHF1S93QF" is closing.
2024-03-30 12:34:00.269 +05:00 [DBG] Connection id "0HN2GHF1S93QF" is closed. The last processed stream ID was 0.
2024-03-30 12:34:00.269 +05:00 [DBG] Connection id "0HN2GHF1S93QG" sending FIN because: "The client closed the connection."
2024-03-30 12:34:00.271 +05:00 [DBG] Connection id "0HN2GHF1S93QF" received FIN.
2024-03-30 12:34:00.271 +05:00 [DBG] Connection id "0HN2GHF1S93QF" sending FIN because: "The client closed the connection."
2024-03-30 12:34:00.273 +05:00 [DBG] The connection queue processing loop for 0HN2GHF1S93QG completed.
2024-03-30 12:34:00.275 +05:00 [DBG] Connection id "0HN2GHF1S93QG" stopped.
2024-03-30 12:34:00.335 +05:00 [DBG] The connection queue processing loop for 0HN2GHF1S93QF completed.
2024-03-30 12:34:00.335 +05:00 [DBG] Connection id "0HN2GHF1S93QF" stopped.
2024-03-30 12:34:00.348 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 12:34:00.375 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 12:34:00.407 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 12:34:00.408 +05:00 [DBG] Request did not match any endpoints
2024-03-30 12:34:00.546 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 12:34:00.697 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 12:34:00.706 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 356.8314ms
2024-03-30 12:34:00.712 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 12:34:00.717 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.7482ms
2024-03-30 12:34:01.018 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 12:34:01.170 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 152.5895ms
2024-03-30 12:34:01.189 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/favicon-16x16.png - -
2024-03-30 12:34:01.191 +05:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2024-03-30 12:34:01.191 +05:00 [DBG] Request did not match any endpoints
2024-03-30 12:34:01.201 +05:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-03-30 12:34:01.201 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/favicon-16x16.png - - - 200 665 image/png 11.6587ms
2024-03-30 12:34:01.275 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 12:34:01.275 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 12:34:01.275 +05:00 [DBG] Request did not match any endpoints
2024-03-30 12:34:01.427 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.3620ms
2024-03-30 12:34:14.566 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-30 12:34:14.570 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-30 12:34:14.575 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-30 12:34:14.575 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:34:14.577 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 12:34:14.577 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:34:14.802 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 12:34:14.803 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:34:14.848 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 12:34:14.850 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 12:34:14.850 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 12:34:14.850 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 12:34:14.850 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 12:34:14.851 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 12:34:14.852 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:34:15.511 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 12:34:15.542 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:34:15.548 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 12:34:15.551 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-30 12:34:15.552 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-30 12:34:15.564 +05:00 [DBG] Connection id "0HN2GHF1S93QE", Request id "0HN2GHF1S93QE:00000019": started reading request body.
2024-03-30 12:34:15.564 +05:00 [DBG] Connection id "0HN2GHF1S93QE", Request id "0HN2GHF1S93QE:00000019": done reading request body.
2024-03-30 12:34:15.570 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-30 12:34:15.570 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:34:15.570 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:34:15.570 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 12:34:15.579 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:34:16.095 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 12:34:16.096 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 12:34:16.368 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 12:34:16.401 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-30 12:34:16.607 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 12:34:16.660 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:34:16.661 +05:00 [DBG] Creating DbConnection.
2024-03-30 12:34:16.672 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-30 12:34:16.677 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-03-30 12:34:16.684 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2024-03-30 12:34:16.690 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:17.154 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:17.163 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 12:34:17.193 +05:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 12:34:17.248 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:34:17.281 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:17.286 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 88ms reading results.
2024-03-30 12:34:17.289 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:17.294 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (4ms).
2024-03-30 12:34:17.335 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdUser") == __p_0)'
2024-03-30 12:34:17.344 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 12:34:17.346 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:34:17.346 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:34:17.346 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:34:17.346 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:17.351 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:17.351 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 12:34:17.382 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 12:34:17.382 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:17.382 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 12:34:17.383 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:17.383 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:34:17.388 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 30.03.2024 12:34:17
2024-03-30 12:34:18.477 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 12:34:18.479 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 12:34:18.479 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 12:34:18.479 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 12:34:18.480 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-30 12:34:18.481 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-30 12:34:18.484 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 3630.4643ms
2024-03-30 12:34:18.485 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:34:18.489 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 12:34:18.492 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:18.493 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-30 12:34:18.494 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 3928.0166ms
2024-03-30 12:34:45.191 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=265943 - 0
2024-03-30 12:34:45.192 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-30 12:34:45.193 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-30 12:34:45.193 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:34:45.193 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 12:34:45.193 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:34:45.195 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 12:34:45.195 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:34:45.217 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 12:34:45.217 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 12:34:45.217 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 12:34:45.217 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 12:34:45.217 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 12:34:45.217 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 12:34:45.217 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:34:45.218 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:34:45.236 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 12:34:45.238 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 12:34:45.240 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 12:34:45.240 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 12:34:45.240 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 12:34:45.241 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 12:34:45.316 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 12:34:45.317 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-30 12:34:45.322 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 12:34:45.322 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:34:45.323 +05:00 [DBG] Creating DbConnection.
2024-03-30 12:34:45.323 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 12:34:45.323 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:34:45.323 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:34:45.323 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:45.325 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:45.325 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 12:34:45.326 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 12:34:45.330 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:34:45.337 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:45.338 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 12ms reading results.
2024-03-30 12:34:45.338 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:45.338 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:34:45.343 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 12:34:45.349 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 12:34:45.360 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-30 12:34:45.372 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:34:45.374 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 12:34:45.442 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:45.446 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:45.450 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:34:45.450 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:34:45.451 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:34:45.451 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 12:34:45.511 +05:00 [INF] Executed DbCommand (60ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 12:34:45.516 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:45.516 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 5ms reading results.
2024-03-30 12:34:45.517 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:45.517 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:34:45.522 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:34:45.526 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 12:34:45.527 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 12:34:45.527 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 12:34:45.527 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 12:34:45.527 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 12:34:45.528 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 12:34:45.528 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-30 12:34:45.535 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 317.5966ms
2024-03-30 12:34:45.535 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:34:45.535 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 12:34:45.537 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:34:45.538 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (2ms).
2024-03-30 12:34:45.538 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=265943 - 0 - 200 - application/json;+charset=utf-8 347.2708ms
2024-03-30 12:34:56.950 +05:00 [DBG] Connection id "0HN2GHF1S93QH" accepted.
2024-03-30 12:34:56.950 +05:00 [DBG] Connection id "0HN2GHF1S93QH" started.
2024-03-30 12:34:56.957 +05:00 [DBG] Connection 0HN2GHF1S93QH established using the following protocol: "Tls12"
2024-03-30 12:34:56.968 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:34:56.968 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:34:56.968 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:34:56.968 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:34:56.968 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:34:56.975 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:34:57.019 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:34:57.039 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:34:57.040 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 72.4303ms
2024-03-30 12:34:57.040 +05:00 [DBG] Connection id "0HN2GHF1S93QH" disconnecting.
2024-03-30 12:34:57.041 +05:00 [DBG] Connection id "0HN2GHF1S93QH" stopped.
2024-03-30 12:34:57.041 +05:00 [DBG] Connection id "0HN2GHF1S93QH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:37:04.165 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 12:37:04.234 +05:00 [DBG] Hosting starting
2024-03-30 12:37:04.249 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 12:37:04.256 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 12:37:04.263 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 12:37:04.263 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 12:37:04.264 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 12:37:04.264 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 12:37:04.268 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 12:37:04.273 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 12:37:04.273 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 12:37:04.274 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 12:37:04.274 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 12:37:04.281 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 12:37:04.283 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 12:37:04.285 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 12:37:04.288 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 12:37:04.292 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 12:37:04.293 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 12:37:04.294 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 12:37:04.295 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 12:37:04.410 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 12:37:04.410 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 12:37:04.411 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 12:37:04.411 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 12:37:04.411 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 12:37:04.413 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 12:37:04.413 +05:00 [INF] Hosting environment: Development
2024-03-30 12:37:04.413 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 12:37:04.414 +05:00 [DBG] Hosting started
2024-03-30 12:37:04.785 +05:00 [DBG] Connection id "0HN2GHGP3D77K" received FIN.
2024-03-30 12:37:04.789 +05:00 [DBG] Connection id "0HN2GHGP3D77K" accepted.
2024-03-30 12:37:04.790 +05:00 [DBG] Connection id "0HN2GHGP3D77K" started.
2024-03-30 12:37:04.801 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 12:37:04.816 +05:00 [DBG] Connection id "0HN2GHGP3D77K" stopped.
2024-03-30 12:37:04.818 +05:00 [DBG] Connection id "0HN2GHGP3D77K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:37:04.842 +05:00 [DBG] Connection id "0HN2GHGP3D77L" accepted.
2024-03-30 12:37:04.842 +05:00 [DBG] Connection id "0HN2GHGP3D77L" started.
2024-03-30 12:37:04.897 +05:00 [DBG] Connection 0HN2GHGP3D77L established using the following protocol: "Tls12"
2024-03-30 12:37:04.949 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 12:37:04.974 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 12:37:05.059 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 12:37:05.060 +05:00 [DBG] Request did not match any endpoints
2024-03-30 12:37:05.333 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 12:37:05.420 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 12:37:05.423 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 477.4180ms
2024-03-30 12:37:05.486 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 12:37:05.509 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.6081ms
2024-03-30 12:37:05.512 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 12:37:05.516 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.3457ms
2024-03-30 12:37:06.506 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 12:37:06.507 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 12:37:06.507 +05:00 [DBG] Request did not match any endpoints
2024-03-30 12:37:06.621 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.5142ms
2024-03-30 12:37:07.484 +05:00 [DBG] Connection id "0HN2GHGP3D77M" accepted.
2024-03-30 12:37:07.484 +05:00 [DBG] Connection id "0HN2GHGP3D77M" started.
2024-03-30 12:37:07.490 +05:00 [DBG] Connection 0HN2GHGP3D77M established using the following protocol: "Tls12"
2024-03-30 12:37:07.498 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:37:07.501 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:37:07.506 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:37:07.506 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:37:07.509 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:37:07.516 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:37:07.601 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:37:07.604 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:37:07.606 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 107.9827ms
2024-03-30 12:37:07.606 +05:00 [DBG] Connection id "0HN2GHGP3D77M" disconnecting.
2024-03-30 12:37:07.607 +05:00 [DBG] Connection id "0HN2GHGP3D77M" stopped.
2024-03-30 12:37:07.607 +05:00 [DBG] Connection id "0HN2GHGP3D77M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:37:08.263 +05:00 [DBG] Connection id "0HN2GHGP3D77N" accepted.
2024-03-30 12:37:08.263 +05:00 [DBG] Connection id "0HN2GHGP3D77N" started.
2024-03-30 12:37:08.264 +05:00 [DBG] Connection 0HN2GHGP3D77N established using the following protocol: "Tls12"
2024-03-30 12:37:08.265 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:37:08.265 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:37:08.265 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:37:08.265 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:37:08.265 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:37:08.267 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:37:08.269 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:37:08.269 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:37:08.269 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 4.2148ms
2024-03-30 12:37:08.269 +05:00 [DBG] Connection id "0HN2GHGP3D77N" disconnecting.
2024-03-30 12:37:08.269 +05:00 [DBG] Connection id "0HN2GHGP3D77N" stopped.
2024-03-30 12:37:08.270 +05:00 [DBG] Connection id "0HN2GHGP3D77N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:39:57.410 +05:00 [DBG] Connection id "0HN2GHGP3D77L" received FIN.
2024-03-30 12:39:57.412 +05:00 [DBG] The connection queue processing loop for 0HN2GHGP3D77L completed.
2024-03-30 12:39:57.414 +05:00 [DBG] Connection id "0HN2GHGP3D77L" is closed. The last processed stream ID was 21.
2024-03-30 12:39:57.414 +05:00 [DBG] Connection id "0HN2GHGP3D77L" sending FIN because: "The client closed the connection."
2024-03-30 12:39:57.422 +05:00 [DBG] Connection id "0HN2GHGP3D77L" stopped.
2024-03-30 12:45:05.964 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 12:45:06.021 +05:00 [DBG] Hosting starting
2024-03-30 12:45:06.035 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 12:45:06.043 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 12:45:06.049 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 12:45:06.050 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 12:45:06.050 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 12:45:06.050 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 12:45:06.054 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 12:45:06.058 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 12:45:06.058 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 12:45:06.058 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 12:45:06.058 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 12:45:06.065 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 12:45:06.067 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 12:45:06.069 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 12:45:06.071 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 12:45:06.076 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 12:45:06.078 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 12:45:06.079 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 12:45:06.079 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 12:45:06.188 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 12:45:06.188 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 12:45:06.188 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 12:45:06.188 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 12:45:06.188 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 12:45:06.190 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 12:45:06.191 +05:00 [INF] Hosting environment: Development
2024-03-30 12:45:06.191 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 12:45:06.191 +05:00 [DBG] Hosting started
2024-03-30 12:45:06.443 +05:00 [DBG] Connection id "0HN2GHL8KRMOP" accepted.
2024-03-30 12:45:06.443 +05:00 [DBG] Connection id "0HN2GHL8KRMOQ" accepted.
2024-03-30 12:45:06.444 +05:00 [DBG] Connection id "0HN2GHL8KRMOQ" started.
2024-03-30 12:45:06.444 +05:00 [DBG] Connection id "0HN2GHL8KRMOP" started.
2024-03-30 12:45:06.457 +05:00 [DBG] Connection id "0HN2GHL8KRMOQ" received FIN.
2024-03-30 12:45:06.457 +05:00 [DBG] Connection id "0HN2GHL8KRMOP" received FIN.
2024-03-30 12:45:06.465 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 12:45:06.465 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 12:45:06.485 +05:00 [DBG] Connection id "0HN2GHL8KRMOP" stopped.
2024-03-30 12:45:06.485 +05:00 [DBG] Connection id "0HN2GHL8KRMOQ" stopped.
2024-03-30 12:45:06.487 +05:00 [DBG] Connection id "0HN2GHL8KRMOP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:45:06.487 +05:00 [DBG] Connection id "0HN2GHL8KRMOQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:45:06.495 +05:00 [DBG] Connection id "0HN2GHL8KRMOR" accepted.
2024-03-30 12:45:06.495 +05:00 [DBG] Connection id "0HN2GHL8KRMOR" started.
2024-03-30 12:45:06.560 +05:00 [DBG] Connection 0HN2GHL8KRMOR established using the following protocol: "Tls12"
2024-03-30 12:45:06.699 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 12:45:06.724 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 12:45:06.774 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 12:45:06.775 +05:00 [DBG] Request did not match any endpoints
2024-03-30 12:45:07.100 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 12:45:07.208 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 12:45:07.211 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 516.3155ms
2024-03-30 12:45:07.240 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 12:45:07.242 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 12:45:07.247 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.8323ms
2024-03-30 12:45:07.281 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.2571ms
2024-03-30 12:45:07.423 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 12:45:07.424 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 12:45:07.425 +05:00 [DBG] Request did not match any endpoints
2024-03-30 12:45:07.577 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.0326ms
2024-03-30 12:45:18.800 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-30 12:45:18.804 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-30 12:45:18.809 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-30 12:45:18.809 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:45:18.811 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 12:45:18.813 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:45:18.849 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 12:45:18.850 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:45:18.893 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 12:45:18.894 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 12:45:18.894 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 12:45:18.894 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 12:45:18.895 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 12:45:18.895 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 12:45:18.899 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:45:19.066 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 12:45:19.102 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:45:19.108 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 12:45:19.110 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-30 12:45:19.111 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-30 12:45:19.120 +05:00 [DBG] Connection id "0HN2GHL8KRMOR", Request id "0HN2GHL8KRMOR:00000017": started reading request body.
2024-03-30 12:45:19.121 +05:00 [DBG] Connection id "0HN2GHL8KRMOR", Request id "0HN2GHL8KRMOR:00000017": done reading request body.
2024-03-30 12:45:19.124 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-30 12:45:19.125 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:45:19.125 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:45:19.125 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 12:45:19.133 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:45:19.677 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 12:45:19.678 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 12:45:20.020 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 12:45:20.064 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-30 12:45:20.270 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 12:45:20.314 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:45:20.316 +05:00 [DBG] Creating DbConnection.
2024-03-30 12:45:20.325 +05:00 [DBG] Created DbConnection. (3ms).
2024-03-30 12:45:20.334 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (16ms).
2024-03-30 12:45:20.341 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-03-30 12:45:20.348 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:20.599 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:20.608 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 12:45:20.627 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 12:45:20.672 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:45:20.710 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:20.718 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 83ms reading results.
2024-03-30 12:45:20.720 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:20.726 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (5ms).
2024-03-30 12:45:20.739 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdUser") == __p_0)'
2024-03-30 12:45:20.751 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 12:45:20.753 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:45:20.753 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:45:20.753 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:45:20.754 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:20.758 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:20.759 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 12:45:20.761 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 12:45:20.762 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:20.762 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 12:45:20.762 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:20.763 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:45:20.768 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 30.03.2024 12:45:20
2024-03-30 12:45:21.888 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 12:45:21.890 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 12:45:21.890 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 12:45:21.890 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 12:45:21.891 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-30 12:45:21.892 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-30 12:45:21.895 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 2997.2484ms
2024-03-30 12:45:21.896 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:45:21.899 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 12:45:21.902 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:21.903 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-30 12:45:21.905 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 3104.6338ms
2024-03-30 12:45:40.772 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=491088 - 0
2024-03-30 12:45:40.774 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-30 12:45:40.774 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-30 12:45:40.774 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:45:40.774 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 12:45:40.774 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:45:40.776 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 12:45:40.776 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:45:40.783 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 12:45:40.783 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 12:45:40.783 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 12:45:40.784 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 12:45:40.784 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 12:45:40.784 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 12:45:40.784 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:45:40.785 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:45:40.789 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 12:45:40.790 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 12:45:40.791 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 12:45:40.792 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 12:45:40.792 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 12:45:40.792 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 12:45:40.838 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 12:45:40.839 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-30 12:45:40.843 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 12:45:40.844 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:45:40.844 +05:00 [DBG] Creating DbConnection.
2024-03-30 12:45:40.844 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 12:45:40.844 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:45:40.844 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:45:40.844 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:40.847 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:40.847 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 12:45:40.848 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 12:45:40.851 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:45:40.858 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:40.858 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 9ms reading results.
2024-03-30 12:45:40.858 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:40.858 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:45:40.861 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 12:45:40.864 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 12:45:40.877 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-30 12:45:40.892 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:45:40.894 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 12:45:40.956 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:40.960 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:40.964 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:45:40.964 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-03-30 12:45:40.965 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-03-30 12:45:40.965 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 12:45:40.984 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 12:45:40.987 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:40.988 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 3ms reading results.
2024-03-30 12:45:40.989 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:40.989 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:45:40.995 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:45:40.999 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 12:45:41.001 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 12:45:41.001 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 12:45:41.001 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 12:45:41.001 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 12:45:41.001 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 12:45:41.001 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-30 12:45:41.011 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 227.2776ms
2024-03-30 12:45:41.011 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:45:41.012 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 12:45:41.012 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:45:41.012 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:45:41.013 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=491088 - 0 - 200 - application/json;+charset=utf-8 241.2285ms
2024-03-30 12:45:52.043 +05:00 [DBG] Connection id "0HN2GHL8KRMOS" accepted.
2024-03-30 12:45:52.043 +05:00 [DBG] Connection id "0HN2GHL8KRMOS" started.
2024-03-30 12:45:52.049 +05:00 [DBG] Connection 0HN2GHL8KRMOS established using the following protocol: "Tls12"
2024-03-30 12:45:52.058 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:45:52.058 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:45:52.058 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:45:52.058 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:45:52.059 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:45:52.063 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:45:52.099 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:45:52.101 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:45:52.102 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 43.7922ms
2024-03-30 12:45:52.102 +05:00 [DBG] Connection id "0HN2GHL8KRMOS" disconnecting.
2024-03-30 12:45:52.102 +05:00 [DBG] Connection id "0HN2GHL8KRMOS" stopped.
2024-03-30 12:45:52.103 +05:00 [DBG] Connection id "0HN2GHL8KRMOS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:45:52.711 +05:00 [DBG] Connection id "0HN2GHL8KRMOT" accepted.
2024-03-30 12:45:52.711 +05:00 [DBG] Connection id "0HN2GHL8KRMOT" started.
2024-03-30 12:45:52.713 +05:00 [DBG] Connection 0HN2GHL8KRMOT established using the following protocol: "Tls12"
2024-03-30 12:45:52.714 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:45:52.714 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:45:52.714 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:45:52.714 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:45:52.714 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:45:52.716 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:45:52.717 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:45:52.717 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:45:52.717 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 3.9674ms
2024-03-30 12:45:52.718 +05:00 [DBG] Connection id "0HN2GHL8KRMOT" disconnecting.
2024-03-30 12:45:52.718 +05:00 [DBG] Connection id "0HN2GHL8KRMOT" stopped.
2024-03-30 12:45:52.718 +05:00 [DBG] Connection id "0HN2GHL8KRMOT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:45:53.143 +05:00 [DBG] Connection id "0HN2GHL8KRMOU" accepted.
2024-03-30 12:45:53.143 +05:00 [DBG] Connection id "0HN2GHL8KRMOU" started.
2024-03-30 12:45:53.147 +05:00 [DBG] Connection 0HN2GHL8KRMOU established using the following protocol: "Tls12"
2024-03-30 12:45:53.147 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:45:53.147 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:45:53.147 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:45:53.147 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:45:53.147 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:45:53.159 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:45:53.159 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:45:53.159 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:45:53.159 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 12.3775ms
2024-03-30 12:45:53.160 +05:00 [DBG] Connection id "0HN2GHL8KRMOU" disconnecting.
2024-03-30 12:45:53.160 +05:00 [DBG] Connection id "0HN2GHL8KRMOU" stopped.
2024-03-30 12:45:53.160 +05:00 [DBG] Connection id "0HN2GHL8KRMOU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:45:53.336 +05:00 [DBG] Connection id "0HN2GHL8KRMOV" accepted.
2024-03-30 12:45:53.336 +05:00 [DBG] Connection id "0HN2GHL8KRMOV" started.
2024-03-30 12:45:53.337 +05:00 [DBG] Connection 0HN2GHL8KRMOV established using the following protocol: "Tls12"
2024-03-30 12:45:53.338 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:45:53.338 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:45:53.338 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:45:53.338 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:45:53.338 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:45:53.338 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:45:53.338 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:45:53.338 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:45:53.339 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.9902ms
2024-03-30 12:45:53.339 +05:00 [DBG] Connection id "0HN2GHL8KRMOV" disconnecting.
2024-03-30 12:45:53.339 +05:00 [DBG] Connection id "0HN2GHL8KRMOV" stopped.
2024-03-30 12:45:53.339 +05:00 [DBG] Connection id "0HN2GHL8KRMOV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:45:53.510 +05:00 [DBG] Connection id "0HN2GHL8KRMP0" accepted.
2024-03-30 12:45:53.511 +05:00 [DBG] Connection id "0HN2GHL8KRMP0" started.
2024-03-30 12:45:53.513 +05:00 [DBG] Connection 0HN2GHL8KRMP0 established using the following protocol: "Tls12"
2024-03-30 12:45:53.513 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:45:53.513 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:45:53.513 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:45:53.513 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:45:53.513 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:45:53.513 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:45:53.513 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:45:53.514 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:45:53.514 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7137ms
2024-03-30 12:45:53.514 +05:00 [DBG] Connection id "0HN2GHL8KRMP0" disconnecting.
2024-03-30 12:45:53.514 +05:00 [DBG] Connection id "0HN2GHL8KRMP0" stopped.
2024-03-30 12:45:53.514 +05:00 [DBG] Connection id "0HN2GHL8KRMP0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:45:53.673 +05:00 [DBG] Connection id "0HN2GHL8KRMP1" accepted.
2024-03-30 12:45:53.673 +05:00 [DBG] Connection id "0HN2GHL8KRMP1" started.
2024-03-30 12:45:53.674 +05:00 [DBG] Connection 0HN2GHL8KRMP1 established using the following protocol: "Tls12"
2024-03-30 12:45:53.675 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:45:53.675 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:45:53.675 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:45:53.675 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:45:53.675 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:45:53.675 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:45:53.675 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:45:53.675 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:45:53.675 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7642ms
2024-03-30 12:45:53.675 +05:00 [DBG] Connection id "0HN2GHL8KRMP1" disconnecting.
2024-03-30 12:45:53.676 +05:00 [DBG] Connection id "0HN2GHL8KRMP1" stopped.
2024-03-30 12:45:53.676 +05:00 [DBG] Connection id "0HN2GHL8KRMP1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:45:53.840 +05:00 [DBG] Connection id "0HN2GHL8KRMP2" accepted.
2024-03-30 12:45:53.841 +05:00 [DBG] Connection id "0HN2GHL8KRMP2" started.
2024-03-30 12:45:53.842 +05:00 [DBG] Connection 0HN2GHL8KRMP2 established using the following protocol: "Tls12"
2024-03-30 12:45:53.842 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:45:53.842 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:45:53.842 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:45:53.842 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:45:53.842 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:45:53.842 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:45:53.842 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:45:53.843 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:45:53.843 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7321ms
2024-03-30 12:45:53.843 +05:00 [DBG] Connection id "0HN2GHL8KRMP2" disconnecting.
2024-03-30 12:45:53.843 +05:00 [DBG] Connection id "0HN2GHL8KRMP2" stopped.
2024-03-30 12:45:53.843 +05:00 [DBG] Connection id "0HN2GHL8KRMP2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:45:54.002 +05:00 [DBG] Connection id "0HN2GHL8KRMP3" accepted.
2024-03-30 12:45:54.003 +05:00 [DBG] Connection id "0HN2GHL8KRMP3" started.
2024-03-30 12:45:54.005 +05:00 [DBG] Connection 0HN2GHL8KRMP3 established using the following protocol: "Tls12"
2024-03-30 12:45:54.006 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:45:54.006 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:45:54.006 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:45:54.006 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:45:54.006 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:45:54.006 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:45:54.006 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:45:54.006 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:45:54.006 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7748ms
2024-03-30 12:45:54.006 +05:00 [DBG] Connection id "0HN2GHL8KRMP3" disconnecting.
2024-03-30 12:45:54.007 +05:00 [DBG] Connection id "0HN2GHL8KRMP3" stopped.
2024-03-30 12:45:54.007 +05:00 [DBG] Connection id "0HN2GHL8KRMP3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:45:54.143 +05:00 [DBG] Connection id "0HN2GHL8KRMP4" accepted.
2024-03-30 12:45:54.143 +05:00 [DBG] Connection id "0HN2GHL8KRMP4" started.
2024-03-30 12:45:54.144 +05:00 [DBG] Connection 0HN2GHL8KRMP4 established using the following protocol: "Tls12"
2024-03-30 12:45:54.145 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:45:54.145 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:45:54.145 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:45:54.145 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:45:54.145 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:45:54.145 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:45:54.145 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:45:54.145 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:45:54.145 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8718ms
2024-03-30 12:45:54.146 +05:00 [DBG] Connection id "0HN2GHL8KRMP4" disconnecting.
2024-03-30 12:45:54.146 +05:00 [DBG] Connection id "0HN2GHL8KRMP4" stopped.
2024-03-30 12:45:54.146 +05:00 [DBG] Connection id "0HN2GHL8KRMP4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:47.672 +05:00 [DBG] Connection id "0HN2GHL8KRMP5" accepted.
2024-03-30 12:46:47.673 +05:00 [DBG] Connection id "0HN2GHL8KRMP5" started.
2024-03-30 12:46:47.674 +05:00 [DBG] Connection 0HN2GHL8KRMP5 established using the following protocol: "Tls12"
2024-03-30 12:46:47.675 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:47.675 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:47.675 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:47.675 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:47.675 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:47.675 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:47.675 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:47.675 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:47.676 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7412ms
2024-03-30 12:46:47.676 +05:00 [DBG] Connection id "0HN2GHL8KRMP5" disconnecting.
2024-03-30 12:46:47.676 +05:00 [DBG] Connection id "0HN2GHL8KRMP5" stopped.
2024-03-30 12:46:47.676 +05:00 [DBG] Connection id "0HN2GHL8KRMP5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:48.247 +05:00 [DBG] Connection id "0HN2GHL8KRMP6" accepted.
2024-03-30 12:46:48.247 +05:00 [DBG] Connection id "0HN2GHL8KRMP6" started.
2024-03-30 12:46:48.250 +05:00 [DBG] Connection 0HN2GHL8KRMP6 established using the following protocol: "Tls12"
2024-03-30 12:46:48.250 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:48.250 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:48.250 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:48.250 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:48.250 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:48.250 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:48.251 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:48.251 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:48.251 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8282ms
2024-03-30 12:46:48.251 +05:00 [DBG] Connection id "0HN2GHL8KRMP6" disconnecting.
2024-03-30 12:46:48.251 +05:00 [DBG] Connection id "0HN2GHL8KRMP6" stopped.
2024-03-30 12:46:48.251 +05:00 [DBG] Connection id "0HN2GHL8KRMP6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:48.646 +05:00 [DBG] Connection id "0HN2GHL8KRMP7" accepted.
2024-03-30 12:46:48.646 +05:00 [DBG] Connection id "0HN2GHL8KRMP7" started.
2024-03-30 12:46:48.648 +05:00 [DBG] Connection 0HN2GHL8KRMP7 established using the following protocol: "Tls12"
2024-03-30 12:46:48.648 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:48.648 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:48.649 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:48.649 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:48.649 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:48.649 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:48.649 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:48.649 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:48.649 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8461ms
2024-03-30 12:46:48.649 +05:00 [DBG] Connection id "0HN2GHL8KRMP7" disconnecting.
2024-03-30 12:46:48.649 +05:00 [DBG] Connection id "0HN2GHL8KRMP7" stopped.
2024-03-30 12:46:48.649 +05:00 [DBG] Connection id "0HN2GHL8KRMP7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:48.950 +05:00 [DBG] Connection id "0HN2GHL8KRMP8" accepted.
2024-03-30 12:46:48.950 +05:00 [DBG] Connection id "0HN2GHL8KRMP8" started.
2024-03-30 12:46:48.951 +05:00 [DBG] Connection 0HN2GHL8KRMP8 established using the following protocol: "Tls12"
2024-03-30 12:46:48.951 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:48.951 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:48.952 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:48.952 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:48.952 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:48.952 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:48.952 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:48.952 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:48.952 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7160ms
2024-03-30 12:46:48.952 +05:00 [DBG] Connection id "0HN2GHL8KRMP8" disconnecting.
2024-03-30 12:46:48.953 +05:00 [DBG] Connection id "0HN2GHL8KRMP8" stopped.
2024-03-30 12:46:48.953 +05:00 [DBG] Connection id "0HN2GHL8KRMP8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:49.169 +05:00 [DBG] Connection id "0HN2GHL8KRMP9" accepted.
2024-03-30 12:46:49.169 +05:00 [DBG] Connection id "0HN2GHL8KRMP9" started.
2024-03-30 12:46:49.170 +05:00 [DBG] Connection 0HN2GHL8KRMP9 established using the following protocol: "Tls12"
2024-03-30 12:46:49.170 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:49.170 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:49.170 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:49.170 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:49.170 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:49.170 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:49.170 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:49.170 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:49.171 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8513ms
2024-03-30 12:46:49.171 +05:00 [DBG] Connection id "0HN2GHL8KRMP9" disconnecting.
2024-03-30 12:46:49.171 +05:00 [DBG] Connection id "0HN2GHL8KRMP9" stopped.
2024-03-30 12:46:49.171 +05:00 [DBG] Connection id "0HN2GHL8KRMP9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:49.369 +05:00 [DBG] Connection id "0HN2GHL8KRMPA" accepted.
2024-03-30 12:46:49.369 +05:00 [DBG] Connection id "0HN2GHL8KRMPA" started.
2024-03-30 12:46:49.371 +05:00 [DBG] Connection 0HN2GHL8KRMPA established using the following protocol: "Tls12"
2024-03-30 12:46:49.371 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:49.372 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:49.372 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:49.372 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:49.372 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:49.372 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:49.372 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:49.372 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:49.372 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.6664ms
2024-03-30 12:46:49.372 +05:00 [DBG] Connection id "0HN2GHL8KRMPA" disconnecting.
2024-03-30 12:46:49.373 +05:00 [DBG] Connection id "0HN2GHL8KRMPA" stopped.
2024-03-30 12:46:49.373 +05:00 [DBG] Connection id "0HN2GHL8KRMPA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:49.552 +05:00 [DBG] Connection id "0HN2GHL8KRMPB" accepted.
2024-03-30 12:46:49.552 +05:00 [DBG] Connection id "0HN2GHL8KRMPB" started.
2024-03-30 12:46:49.553 +05:00 [DBG] Connection 0HN2GHL8KRMPB established using the following protocol: "Tls12"
2024-03-30 12:46:49.553 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:49.553 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:49.553 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:49.553 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:49.553 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:49.553 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:49.554 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:49.554 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:49.554 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8604ms
2024-03-30 12:46:49.554 +05:00 [DBG] Connection id "0HN2GHL8KRMPB" disconnecting.
2024-03-30 12:46:49.554 +05:00 [DBG] Connection id "0HN2GHL8KRMPB" stopped.
2024-03-30 12:46:49.555 +05:00 [DBG] Connection id "0HN2GHL8KRMPB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:49.719 +05:00 [DBG] Connection id "0HN2GHL8KRMPC" accepted.
2024-03-30 12:46:49.719 +05:00 [DBG] Connection id "0HN2GHL8KRMPC" started.
2024-03-30 12:46:49.720 +05:00 [DBG] Connection 0HN2GHL8KRMPC established using the following protocol: "Tls12"
2024-03-30 12:46:49.721 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:49.721 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:49.721 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:49.721 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:49.721 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:49.721 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:49.722 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:49.722 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:49.722 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.6891ms
2024-03-30 12:46:49.722 +05:00 [DBG] Connection id "0HN2GHL8KRMPC" disconnecting.
2024-03-30 12:46:49.722 +05:00 [DBG] Connection id "0HN2GHL8KRMPC" stopped.
2024-03-30 12:46:49.722 +05:00 [DBG] Connection id "0HN2GHL8KRMPC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:49.878 +05:00 [DBG] Connection id "0HN2GHL8KRMPD" accepted.
2024-03-30 12:46:49.878 +05:00 [DBG] Connection id "0HN2GHL8KRMPD" started.
2024-03-30 12:46:49.880 +05:00 [DBG] Connection 0HN2GHL8KRMPD established using the following protocol: "Tls12"
2024-03-30 12:46:49.880 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:49.880 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:49.880 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:49.881 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:49.881 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:49.881 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:49.881 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:49.881 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:49.881 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7597ms
2024-03-30 12:46:49.881 +05:00 [DBG] Connection id "0HN2GHL8KRMPD" disconnecting.
2024-03-30 12:46:49.881 +05:00 [DBG] Connection id "0HN2GHL8KRMPD" stopped.
2024-03-30 12:46:49.881 +05:00 [DBG] Connection id "0HN2GHL8KRMPD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:50.039 +05:00 [DBG] Connection id "0HN2GHL8KRMPE" accepted.
2024-03-30 12:46:50.039 +05:00 [DBG] Connection id "0HN2GHL8KRMPE" started.
2024-03-30 12:46:50.040 +05:00 [DBG] Connection 0HN2GHL8KRMPE established using the following protocol: "Tls12"
2024-03-30 12:46:50.040 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:50.040 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:50.040 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:50.040 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:50.040 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:50.040 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:50.041 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:50.041 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:50.041 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7623ms
2024-03-30 12:46:50.041 +05:00 [DBG] Connection id "0HN2GHL8KRMPE" disconnecting.
2024-03-30 12:46:50.041 +05:00 [DBG] Connection id "0HN2GHL8KRMPE" stopped.
2024-03-30 12:46:50.041 +05:00 [DBG] Connection id "0HN2GHL8KRMPE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:50.208 +05:00 [DBG] Connection id "0HN2GHL8KRMPF" accepted.
2024-03-30 12:46:50.208 +05:00 [DBG] Connection id "0HN2GHL8KRMPF" started.
2024-03-30 12:46:50.209 +05:00 [DBG] Connection 0HN2GHL8KRMPF established using the following protocol: "Tls12"
2024-03-30 12:46:50.209 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:50.209 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:50.209 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:50.209 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:50.209 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:50.209 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:50.210 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:50.210 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:50.210 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.6105ms
2024-03-30 12:46:50.210 +05:00 [DBG] Connection id "0HN2GHL8KRMPF" disconnecting.
2024-03-30 12:46:50.210 +05:00 [DBG] Connection id "0HN2GHL8KRMPF" stopped.
2024-03-30 12:46:50.210 +05:00 [DBG] Connection id "0HN2GHL8KRMPF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:50.366 +05:00 [DBG] Connection id "0HN2GHL8KRMPG" accepted.
2024-03-30 12:46:50.366 +05:00 [DBG] Connection id "0HN2GHL8KRMPG" started.
2024-03-30 12:46:50.367 +05:00 [DBG] Connection 0HN2GHL8KRMPG established using the following protocol: "Tls12"
2024-03-30 12:46:50.368 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:50.368 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:50.368 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:50.368 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:50.368 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:50.368 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:50.368 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:50.368 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:50.368 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.5922ms
2024-03-30 12:46:50.368 +05:00 [DBG] Connection id "0HN2GHL8KRMPG" disconnecting.
2024-03-30 12:46:50.368 +05:00 [DBG] Connection id "0HN2GHL8KRMPG" stopped.
2024-03-30 12:46:50.368 +05:00 [DBG] Connection id "0HN2GHL8KRMPG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:50.534 +05:00 [DBG] Connection id "0HN2GHL8KRMPH" accepted.
2024-03-30 12:46:50.534 +05:00 [DBG] Connection id "0HN2GHL8KRMPH" started.
2024-03-30 12:46:50.535 +05:00 [DBG] Connection 0HN2GHL8KRMPH established using the following protocol: "Tls12"
2024-03-30 12:46:50.535 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:50.535 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:50.535 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:50.535 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:50.536 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:50.536 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:50.536 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:50.536 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:50.536 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.5879ms
2024-03-30 12:46:50.536 +05:00 [DBG] Connection id "0HN2GHL8KRMPH" disconnecting.
2024-03-30 12:46:50.536 +05:00 [DBG] Connection id "0HN2GHL8KRMPH" stopped.
2024-03-30 12:46:50.536 +05:00 [DBG] Connection id "0HN2GHL8KRMPH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:50.694 +05:00 [DBG] Connection id "0HN2GHL8KRMPI" accepted.
2024-03-30 12:46:50.694 +05:00 [DBG] Connection id "0HN2GHL8KRMPI" started.
2024-03-30 12:46:50.695 +05:00 [DBG] Connection 0HN2GHL8KRMPI established using the following protocol: "Tls12"
2024-03-30 12:46:50.696 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:50.696 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:50.696 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:50.696 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:50.696 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:50.697 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:50.697 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:50.697 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:50.697 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.0840ms
2024-03-30 12:46:50.697 +05:00 [DBG] Connection id "0HN2GHL8KRMPI" disconnecting.
2024-03-30 12:46:50.697 +05:00 [DBG] Connection id "0HN2GHL8KRMPI" stopped.
2024-03-30 12:46:50.697 +05:00 [DBG] Connection id "0HN2GHL8KRMPI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:50.878 +05:00 [DBG] Connection id "0HN2GHL8KRMPJ" accepted.
2024-03-30 12:46:50.879 +05:00 [DBG] Connection id "0HN2GHL8KRMPJ" started.
2024-03-30 12:46:50.880 +05:00 [DBG] Connection 0HN2GHL8KRMPJ established using the following protocol: "Tls12"
2024-03-30 12:46:50.880 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:50.880 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:50.881 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:50.881 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:50.881 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:50.881 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:50.881 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:46:50.881 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:50.881 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.5799ms
2024-03-30 12:46:50.881 +05:00 [DBG] Connection id "0HN2GHL8KRMPJ" disconnecting.
2024-03-30 12:46:50.881 +05:00 [DBG] Connection id "0HN2GHL8KRMPJ" stopped.
2024-03-30 12:46:50.881 +05:00 [DBG] Connection id "0HN2GHL8KRMPJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:46:52.873 +05:00 [DBG] Connection id "0HN2GHL8KRMPK" accepted.
2024-03-30 12:46:52.873 +05:00 [DBG] Connection id "0HN2GHL8KRMPK" started.
2024-03-30 12:46:52.874 +05:00 [DBG] Connection 0HN2GHL8KRMPK established using the following protocol: "Tls12"
2024-03-30 12:46:52.874 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:46:52.874 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:46:52.874 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:46:52.874 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:46:52.874 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:46:52.874 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:46:52.874 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:46:52.875 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.4923ms
2024-03-30 12:46:52.875 +05:00 [DBG] Connection id "0HN2GHL8KRMPK" disconnecting.
2024-03-30 12:46:52.875 +05:00 [DBG] Connection id "0HN2GHL8KRMPK" stopped.
2024-03-30 12:46:52.875 +05:00 [DBG] Connection id "0HN2GHL8KRMPK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:47:03.056 +05:00 [DBG] Connection id "0HN2GHL8KRMPL" accepted.
2024-03-30 12:47:03.056 +05:00 [DBG] Connection id "0HN2GHL8KRMPL" started.
2024-03-30 12:47:03.057 +05:00 [DBG] Connection 0HN2GHL8KRMPL established using the following protocol: "Tls12"
2024-03-30 12:47:03.057 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:47:03.057 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:47:03.057 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:47:03.057 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:47:03.057 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:47:03.057 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:47:03.057 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:47:03.057 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:47:03.058 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.6782ms
2024-03-30 12:47:03.058 +05:00 [DBG] Connection id "0HN2GHL8KRMPL" disconnecting.
2024-03-30 12:47:03.058 +05:00 [DBG] Connection id "0HN2GHL8KRMPL" stopped.
2024-03-30 12:47:03.058 +05:00 [DBG] Connection id "0HN2GHL8KRMPL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:47:03.640 +05:00 [DBG] Connection id "0HN2GHL8KRMPM" accepted.
2024-03-30 12:47:03.640 +05:00 [DBG] Connection id "0HN2GHL8KRMPM" started.
2024-03-30 12:47:03.641 +05:00 [DBG] Connection 0HN2GHL8KRMPM established using the following protocol: "Tls12"
2024-03-30 12:47:03.641 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:47:03.641 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:47:03.641 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:47:03.641 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:47:03.641 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:47:03.641 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:47:03.641 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:47:03.642 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:47:03.642 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.6727ms
2024-03-30 12:47:03.642 +05:00 [DBG] Connection id "0HN2GHL8KRMPM" disconnecting.
2024-03-30 12:47:03.642 +05:00 [DBG] Connection id "0HN2GHL8KRMPM" stopped.
2024-03-30 12:47:03.642 +05:00 [DBG] Connection id "0HN2GHL8KRMPM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:47:04.077 +05:00 [DBG] Connection id "0HN2GHL8KRMPN" accepted.
2024-03-30 12:47:04.078 +05:00 [DBG] Connection id "0HN2GHL8KRMPN" started.
2024-03-30 12:47:04.079 +05:00 [DBG] Connection 0HN2GHL8KRMPN established using the following protocol: "Tls12"
2024-03-30 12:47:04.079 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:47:04.080 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:47:04.080 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:47:04.080 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:47:04.080 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:47:04.080 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:47:04.080 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:47:04.080 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:47:04.080 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8618ms
2024-03-30 12:47:04.080 +05:00 [DBG] Connection id "0HN2GHL8KRMPN" disconnecting.
2024-03-30 12:47:04.080 +05:00 [DBG] Connection id "0HN2GHL8KRMPN" stopped.
2024-03-30 12:47:04.081 +05:00 [DBG] Connection id "0HN2GHL8KRMPN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:47:48.277 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 12:47:48.338 +05:00 [DBG] Hosting starting
2024-03-30 12:47:48.360 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 12:47:48.389 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 12:47:48.397 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 12:47:48.397 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 12:47:48.397 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 12:47:48.398 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 12:47:48.409 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 12:47:48.422 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 12:47:48.422 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 12:47:48.423 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 12:47:48.423 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 12:47:48.442 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 12:47:48.444 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 12:47:48.450 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 12:47:48.451 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 12:47:48.456 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 12:47:48.457 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 12:47:48.458 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 12:47:48.458 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 12:47:48.649 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 12:47:48.649 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 12:47:48.649 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 12:47:48.649 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 12:47:48.649 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 12:47:48.652 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 12:47:48.652 +05:00 [INF] Hosting environment: Development
2024-03-30 12:47:48.652 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 12:47:48.652 +05:00 [DBG] Hosting started
2024-03-30 12:47:48.875 +05:00 [DBG] Connection id "0HN2GHMP1TNK4" accepted.
2024-03-30 12:47:48.875 +05:00 [DBG] Connection id "0HN2GHMP1TNK5" accepted.
2024-03-30 12:47:48.875 +05:00 [DBG] Connection id "0HN2GHMP1TNK4" started.
2024-03-30 12:47:48.875 +05:00 [DBG] Connection id "0HN2GHMP1TNK5" started.
2024-03-30 12:47:48.900 +05:00 [DBG] Connection id "0HN2GHMP1TNK5" received FIN.
2024-03-30 12:47:48.901 +05:00 [DBG] Connection id "0HN2GHMP1TNK4" received FIN.
2024-03-30 12:47:48.905 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 12:47:48.906 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 12:47:48.920 +05:00 [DBG] Connection id "0HN2GHMP1TNK4" stopped.
2024-03-30 12:47:48.920 +05:00 [DBG] Connection id "0HN2GHMP1TNK5" stopped.
2024-03-30 12:47:48.923 +05:00 [DBG] Connection id "0HN2GHMP1TNK5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:47:48.923 +05:00 [DBG] Connection id "0HN2GHMP1TNK4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:47:48.967 +05:00 [DBG] Connection id "0HN2GHMP1TNK6" accepted.
2024-03-30 12:47:48.967 +05:00 [DBG] Connection id "0HN2GHMP1TNK6" started.
2024-03-30 12:47:49.036 +05:00 [DBG] Connection 0HN2GHMP1TNK6 established using the following protocol: "Tls12"
2024-03-30 12:47:49.089 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 12:47:49.109 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 12:47:49.136 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 12:47:49.137 +05:00 [DBG] Request did not match any endpoints
2024-03-30 12:47:49.327 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 12:47:49.442 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 12:47:49.445 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 359.7140ms
2024-03-30 12:47:49.478 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 12:47:49.478 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 12:47:49.483 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.8699ms
2024-03-30 12:47:49.578 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 100.0304ms
2024-03-30 12:47:49.725 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 12:47:49.727 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 12:47:49.727 +05:00 [DBG] Request did not match any endpoints
2024-03-30 12:47:49.931 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 206.0486ms
2024-03-30 12:47:51.255 +05:00 [DBG] Connection id "0HN2GHMP1TNK7" accepted.
2024-03-30 12:47:51.255 +05:00 [DBG] Connection id "0HN2GHMP1TNK7" started.
2024-03-30 12:47:51.260 +05:00 [DBG] Connection 0HN2GHMP1TNK7 established using the following protocol: "Tls12"
2024-03-30 12:47:51.269 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:47:51.273 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:47:51.277 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:47:51.278 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:47:51.281 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:47:51.289 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:47:51.373 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:47:51.376 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:47:51.378 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 108.6315ms
2024-03-30 12:47:51.378 +05:00 [DBG] Connection id "0HN2GHMP1TNK7" disconnecting.
2024-03-30 12:47:51.379 +05:00 [DBG] Connection id "0HN2GHMP1TNK7" stopped.
2024-03-30 12:47:51.380 +05:00 [DBG] Connection id "0HN2GHMP1TNK7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:47:53.309 +05:00 [DBG] Connection id "0HN2GHMP1TNK8" accepted.
2024-03-30 12:47:53.310 +05:00 [DBG] Connection id "0HN2GHMP1TNK8" started.
2024-03-30 12:47:53.311 +05:00 [DBG] Connection 0HN2GHMP1TNK8 established using the following protocol: "Tls12"
2024-03-30 12:47:53.311 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:47:53.311 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:47:53.311 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:47:53.312 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:47:53.312 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:47:53.314 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:47:53.316 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:47:53.317 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:47:53.317 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 5.5795ms
2024-03-30 12:47:53.317 +05:00 [DBG] Connection id "0HN2GHMP1TNK8" disconnecting.
2024-03-30 12:47:53.317 +05:00 [DBG] Connection id "0HN2GHMP1TNK8" stopped.
2024-03-30 12:47:53.318 +05:00 [DBG] Connection id "0HN2GHMP1TNK8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:48:04.243 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-30 12:48:04.243 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-30 12:48:04.243 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-30 12:48:04.243 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:48:04.244 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 12:48:04.244 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:48:04.249 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 12:48:04.250 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:48:04.283 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 12:48:04.285 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 12:48:04.285 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 12:48:04.285 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 12:48:04.285 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 12:48:04.285 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 12:48:04.287 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:48:04.417 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 12:48:04.447 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:48:04.451 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 12:48:04.453 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-30 12:48:04.456 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-30 12:48:04.470 +05:00 [DBG] Connection id "0HN2GHMP1TNK6", Request id "0HN2GHMP1TNK6:00000017": started reading request body.
2024-03-30 12:48:04.470 +05:00 [DBG] Connection id "0HN2GHMP1TNK6", Request id "0HN2GHMP1TNK6:00000017": done reading request body.
2024-03-30 12:48:04.474 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-30 12:48:04.475 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:48:04.475 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:48:04.475 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 12:48:04.483 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:48:04.961 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 12:48:04.961 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 12:48:05.259 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 12:48:05.292 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-30 12:48:05.478 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 12:48:05.525 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:48:05.527 +05:00 [DBG] Creating DbConnection.
2024-03-30 12:48:05.534 +05:00 [DBG] Created DbConnection. (3ms).
2024-03-30 12:48:05.543 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2024-03-30 12:48:05.549 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-03-30 12:48:05.554 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:05.800 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:05.811 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 12:48:05.833 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 12:48:05.878 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:48:05.911 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:05.919 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 78ms reading results.
2024-03-30 12:48:05.922 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:05.927 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (4ms).
2024-03-30 12:48:05.939 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdUser") == __p_0)'
2024-03-30 12:48:05.949 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 12:48:05.951 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:48:05.951 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:48:05.951 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:48:05.951 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:05.957 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:05.958 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 12:48:05.960 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 12:48:05.960 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:05.960 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 12:48:05.961 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:05.961 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:48:05.962 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 30.03.2024 12:48:05
2024-03-30 12:48:07.060 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 12:48:07.061 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 12:48:07.062 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 12:48:07.062 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 12:48:07.063 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-30 12:48:07.063 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-30 12:48:07.067 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 2778.2018ms
2024-03-30 12:48:07.068 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:48:07.070 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 12:48:07.074 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:07.075 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-30 12:48:07.076 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 2832.9406ms
2024-03-30 12:48:18.407 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=127300 - 0
2024-03-30 12:48:18.408 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-30 12:48:18.408 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-30 12:48:18.408 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:48:18.409 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 12:48:18.409 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:48:18.410 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 12:48:18.410 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:48:18.418 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 12:48:18.418 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 12:48:18.418 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 12:48:18.418 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 12:48:18.418 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 12:48:18.418 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 12:48:18.419 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:48:18.420 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:48:18.424 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 12:48:18.425 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 12:48:18.426 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 12:48:18.426 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 12:48:18.426 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 12:48:18.427 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 12:48:18.458 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 12:48:18.459 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-30 12:48:18.463 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 12:48:18.464 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:48:18.464 +05:00 [DBG] Creating DbConnection.
2024-03-30 12:48:18.464 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 12:48:18.464 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:48:18.464 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:48:18.464 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:18.466 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:18.466 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 12:48:18.467 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 12:48:18.470 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:48:18.478 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:18.478 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 11ms reading results.
2024-03-30 12:48:18.478 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:18.478 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:48:18.483 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 12:48:18.485 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 12:48:18.497 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-30 12:48:18.506 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:48:18.508 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 12:48:18.582 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:18.583 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:18.586 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:48:18.586 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:48:18.587 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:48:18.587 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 12:48:18.611 +05:00 [INF] Executed DbCommand (24ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 12:48:18.617 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:18.617 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 6ms reading results.
2024-03-30 12:48:18.618 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:18.619 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:48:18.625 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:48:18.627 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 12:48:18.629 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 12:48:18.629 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 12:48:18.629 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 12:48:18.629 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 12:48:18.630 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 12:48:18.630 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-30 12:48:18.637 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 218.018ms
2024-03-30 12:48:18.637 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:48:18.637 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 12:48:18.638 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:48:18.638 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:48:18.638 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=127300 - 0 - 200 - application/json;+charset=utf-8 230.7534ms
2024-03-30 12:51:08.775 +05:00 [DBG] Connection id "0HN2GHMP1TNK6" received FIN.
2024-03-30 12:51:08.775 +05:00 [DBG] Connection id "0HN2GHMP1TNK6" is closed. The last processed stream ID was 25.
2024-03-30 12:51:08.776 +05:00 [DBG] Connection id "0HN2GHMP1TNK6" sending FIN because: "The client closed the connection."
2024-03-30 12:51:08.777 +05:00 [DBG] The connection queue processing loop for 0HN2GHMP1TNK6 completed.
2024-03-30 12:51:08.777 +05:00 [DBG] Connection id "0HN2GHMP1TNK6" stopped.
2024-03-30 12:51:37.448 +05:00 [DBG] Connection id "0HN2GHMP1TNK9" accepted.
2024-03-30 12:51:37.448 +05:00 [DBG] Connection id "0HN2GHMP1TNK9" started.
2024-03-30 12:51:37.449 +05:00 [DBG] Connection 0HN2GHMP1TNK9 established using the following protocol: "Tls12"
2024-03-30 12:51:37.449 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:51:37.449 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:51:37.449 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:51:37.449 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:51:37.449 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:51:37.450 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:51:37.451 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:51:37.451 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:51:37.451 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.1956ms
2024-03-30 12:51:37.451 +05:00 [DBG] Connection id "0HN2GHMP1TNK9" disconnecting.
2024-03-30 12:51:37.451 +05:00 [DBG] Connection id "0HN2GHMP1TNK9" stopped.
2024-03-30 12:51:37.451 +05:00 [DBG] Connection id "0HN2GHMP1TNK9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:51:37.942 +05:00 [DBG] Connection id "0HN2GHMP1TNKA" accepted.
2024-03-30 12:51:37.942 +05:00 [DBG] Connection id "0HN2GHMP1TNKA" started.
2024-03-30 12:51:37.943 +05:00 [DBG] Connection 0HN2GHMP1TNKA established using the following protocol: "Tls12"
2024-03-30 12:51:37.944 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:51:37.944 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:51:37.944 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:51:37.944 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:51:37.944 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:51:37.944 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:51:37.944 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:51:37.944 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:51:37.944 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7861ms
2024-03-30 12:51:37.944 +05:00 [DBG] Connection id "0HN2GHMP1TNKA" disconnecting.
2024-03-30 12:51:37.945 +05:00 [DBG] Connection id "0HN2GHMP1TNKA" stopped.
2024-03-30 12:51:37.945 +05:00 [DBG] Connection id "0HN2GHMP1TNKA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:51:38.137 +05:00 [DBG] Connection id "0HN2GHMP1TNKB" accepted.
2024-03-30 12:51:38.138 +05:00 [DBG] Connection id "0HN2GHMP1TNKB" started.
2024-03-30 12:51:38.139 +05:00 [DBG] Connection 0HN2GHMP1TNKB established using the following protocol: "Tls12"
2024-03-30 12:51:38.140 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:51:38.140 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:51:38.140 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:51:38.140 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:51:38.140 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:51:38.140 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:51:38.140 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:51:38.140 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:51:38.141 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8509ms
2024-03-30 12:51:38.141 +05:00 [DBG] Connection id "0HN2GHMP1TNKB" disconnecting.
2024-03-30 12:51:38.141 +05:00 [DBG] Connection id "0HN2GHMP1TNKB" stopped.
2024-03-30 12:51:38.141 +05:00 [DBG] Connection id "0HN2GHMP1TNKB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:51:38.290 +05:00 [DBG] Connection id "0HN2GHMP1TNKC" accepted.
2024-03-30 12:51:38.290 +05:00 [DBG] Connection id "0HN2GHMP1TNKC" started.
2024-03-30 12:51:38.295 +05:00 [DBG] Connection 0HN2GHMP1TNKC established using the following protocol: "Tls12"
2024-03-30 12:51:38.295 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:51:38.296 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:51:38.296 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:51:38.296 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:51:38.296 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:51:38.296 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:51:38.296 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:51:38.297 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:51:38.297 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.3903ms
2024-03-30 12:51:38.297 +05:00 [DBG] Connection id "0HN2GHMP1TNKC" disconnecting.
2024-03-30 12:51:38.297 +05:00 [DBG] Connection id "0HN2GHMP1TNKC" stopped.
2024-03-30 12:51:38.303 +05:00 [DBG] Connection id "0HN2GHMP1TNKC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:51:38.439 +05:00 [DBG] Connection id "0HN2GHMP1TNKD" accepted.
2024-03-30 12:51:38.439 +05:00 [DBG] Connection id "0HN2GHMP1TNKD" started.
2024-03-30 12:51:38.440 +05:00 [DBG] Connection 0HN2GHMP1TNKD established using the following protocol: "Tls12"
2024-03-30 12:51:38.441 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:51:38.441 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:51:38.441 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:51:38.441 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:51:38.441 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:51:38.441 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:51:38.441 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:51:38.441 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:51:38.441 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.6470ms
2024-03-30 12:51:38.441 +05:00 [DBG] Connection id "0HN2GHMP1TNKD" disconnecting.
2024-03-30 12:51:38.441 +05:00 [DBG] Connection id "0HN2GHMP1TNKD" stopped.
2024-03-30 12:51:38.442 +05:00 [DBG] Connection id "0HN2GHMP1TNKD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:51:45.231 +05:00 [DBG] Connection id "0HN2GHMP1TNKE" accepted.
2024-03-30 12:51:45.231 +05:00 [DBG] Connection id "0HN2GHMP1TNKE" started.
2024-03-30 12:51:45.234 +05:00 [DBG] Connection 0HN2GHMP1TNKE established using the following protocol: "Tls12"
2024-03-30 12:51:45.234 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:51:45.234 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:51:45.234 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:51:45.234 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:51:45.235 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:51:45.235 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:51:45.235 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:51:45.235 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:51:45.235 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7097ms
2024-03-30 12:51:45.235 +05:00 [DBG] Connection id "0HN2GHMP1TNKE" disconnecting.
2024-03-30 12:51:45.235 +05:00 [DBG] Connection id "0HN2GHMP1TNKE" stopped.
2024-03-30 12:51:45.235 +05:00 [DBG] Connection id "0HN2GHMP1TNKE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:51:46.007 +05:00 [DBG] Connection id "0HN2GHMP1TNKF" accepted.
2024-03-30 12:51:46.007 +05:00 [DBG] Connection id "0HN2GHMP1TNKF" started.
2024-03-30 12:51:46.008 +05:00 [DBG] Connection 0HN2GHMP1TNKF established using the following protocol: "Tls12"
2024-03-30 12:51:46.008 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:51:46.008 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:51:46.008 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:51:46.009 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:51:46.009 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:51:46.009 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:51:46.009 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:51:46.009 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:51:46.009 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.3955ms
2024-03-30 12:51:46.010 +05:00 [DBG] Connection id "0HN2GHMP1TNKF" disconnecting.
2024-03-30 12:51:46.010 +05:00 [DBG] Connection id "0HN2GHMP1TNKF" stopped.
2024-03-30 12:51:46.010 +05:00 [DBG] Connection id "0HN2GHMP1TNKF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:51:46.390 +05:00 [DBG] Connection id "0HN2GHMP1TNKG" accepted.
2024-03-30 12:51:46.390 +05:00 [DBG] Connection id "0HN2GHMP1TNKG" started.
2024-03-30 12:51:46.392 +05:00 [DBG] Connection 0HN2GHMP1TNKG established using the following protocol: "Tls12"
2024-03-30 12:51:46.392 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 12:51:46.392 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 12:51:46.392 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 12:51:46.392 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 12:51:46.392 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:51:46.392 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 12:51:46.392 +05:00 [DBG] Successfully validated the token.
2024-03-30 12:51:46.392 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 12:51:46.392 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.6928ms
2024-03-30 12:51:46.393 +05:00 [DBG] Connection id "0HN2GHMP1TNKG" disconnecting.
2024-03-30 12:51:46.393 +05:00 [DBG] Connection id "0HN2GHMP1TNKG" stopped.
2024-03-30 12:51:46.395 +05:00 [DBG] Connection id "0HN2GHMP1TNKG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:55:46.256 +05:00 [DBG] Connection id "0HN2GHMP1TNKH" accepted.
2024-03-30 12:55:46.256 +05:00 [DBG] Connection id "0HN2GHMP1TNKH" started.
2024-03-30 12:55:46.265 +05:00 [DBG] Connection 0HN2GHMP1TNKH established using the following protocol: "Tls12"
2024-03-30 12:55:46.271 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=127300 - 0
2024-03-30 12:55:46.271 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-30 12:55:46.271 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-30 12:55:46.271 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:55:46.272 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 12:55:46.272 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:55:46.272 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 12:55:46.272 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:55:46.272 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 12:55:46.273 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 12:55:46.273 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 12:55:46.273 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 12:55:46.273 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 12:55:46.273 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 12:55:46.273 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:55:46.275 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:55:46.275 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 12:55:46.276 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 12:55:46.276 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 12:55:46.276 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 12:55:46.276 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 12:55:46.276 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 12:55:46.325 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 51.7626ms
2024-03-30 12:55:46.325 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:55:46.361 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.UnauthorizeService.GenerateJwtToken(User user) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 201
   at BerryMusicV1.Containers.UnauthorizeService.AuthorizeAcceptCode(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 115
   at BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 42
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-30 12:55:46.366 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=127300 - 0 - 500 - text/plain;+charset=utf-8 94.3147ms
2024-03-30 12:55:53.793 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-30 12:55:53.794 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-30 12:55:53.794 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-30 12:55:53.794 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:55:53.794 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 12:55:53.794 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:55:53.794 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 12:55:53.794 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:55:53.794 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 12:55:53.794 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 12:55:53.794 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 12:55:53.794 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 12:55:53.794 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 12:55:53.794 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 12:55:53.794 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:55:53.795 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:55:53.795 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 12:55:53.795 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-30 12:55:53.796 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-30 12:55:53.797 +05:00 [DBG] Connection id "0HN2GHMP1TNKH", Request id "0HN2GHMP1TNKH:00000011": started reading request body.
2024-03-30 12:55:53.797 +05:00 [DBG] Connection id "0HN2GHMP1TNKH", Request id "0HN2GHMP1TNKH:00000011": done reading request body.
2024-03-30 12:55:53.797 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-30 12:55:53.797 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:55:53.798 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:55:53.798 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 12:55:53.798 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:55:53.876 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 12:55:53.881 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:55:53.882 +05:00 [DBG] Creating DbConnection.
2024-03-30 12:55:53.882 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 12:55:53.882 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:55:53.882 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:55:53.882 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:55:53.916 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:55:53.916 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 12:55:53.917 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 12:55:53.918 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:55:53.918 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:55:53.918 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 1ms reading results.
2024-03-30 12:55:53.918 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:55:53.918 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:55:53.920 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:55:53.920 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:55:53.920 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:55:53.920 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:55:53.920 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:55:53.921 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 12:55:53.934 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 12:55:53.935 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:55:53.935 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 12:55:53.935 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:55:53.935 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:55:53.935 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 30.03.2024 12:55:53
2024-03-30 12:55:54.876 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 12:55:54.876 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 12:55:54.876 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 12:55:54.876 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 12:55:54.876 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-30 12:55:54.876 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-30 12:55:54.876 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 1081.7031ms
2024-03-30 12:55:54.876 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:55:54.876 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 12:55:54.876 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:55:54.876 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:55:54.876 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 1083.3564ms
2024-03-30 12:56:06.978 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=708954 - 0
2024-03-30 12:56:06.978 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-30 12:56:06.978 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-30 12:56:06.978 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:56:06.979 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 12:56:06.979 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:56:06.979 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 12:56:06.979 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:56:06.980 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 12:56:06.980 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 12:56:06.980 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 12:56:06.980 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 12:56:06.980 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 12:56:06.980 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 12:56:06.980 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:56:06.981 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:56:06.982 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 12:56:06.982 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 12:56:06.982 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 12:56:06.982 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 12:56:06.982 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 12:56:06.982 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 12:56:06.983 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 12:56:06.983 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:56:06.983 +05:00 [DBG] Creating DbConnection.
2024-03-30 12:56:06.984 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 12:56:06.984 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:56:06.984 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:56:06.984 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:56:06.985 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:56:06.985 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 12:56:06.986 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 12:56:06.986 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:56:06.986 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:56:06.986 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 12:56:06.986 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:56:06.986 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:56:06.986 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 12:56:06.987 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 12:56:06.987 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-30 12:56:06.991 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:56:06.991 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 12:56:06.992 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:56:06.993 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:56:06.994 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:56:06.994 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:56:06.994 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:56:06.994 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 12:56:07.017 +05:00 [INF] Executed DbCommand (23ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 12:56:07.017 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:56:07.018 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 12:56:07.018 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:56:07.018 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:56:07.018 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:56:07.018 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 12:56:07.018 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 12:56:07.018 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 12:56:07.018 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 12:56:07.018 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 12:56:07.019 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 12:56:07.019 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-30 12:56:07.019 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 38.5214ms
2024-03-30 12:56:07.019 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:56:07.019 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 12:56:07.019 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:56:07.019 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:56:07.019 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=708954 - 0 - 200 - application/json;+charset=utf-8 41.2199ms
2024-03-30 12:57:37.747 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 12:57:37.805 +05:00 [DBG] Hosting starting
2024-03-30 12:57:37.821 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 12:57:37.834 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 12:57:37.841 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 12:57:37.842 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 12:57:37.842 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 12:57:37.842 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 12:57:37.846 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 12:57:37.849 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 12:57:37.850 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 12:57:37.850 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 12:57:37.850 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 12:57:37.857 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 12:57:37.859 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 12:57:37.862 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 12:57:37.863 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 12:57:37.868 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 12:57:37.869 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 12:57:37.870 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 12:57:37.870 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 12:57:37.999 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 12:57:37.999 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 12:57:38.000 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 12:57:38.000 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 12:57:38.000 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 12:57:38.002 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 12:57:38.002 +05:00 [INF] Hosting environment: Development
2024-03-30 12:57:38.002 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 12:57:38.002 +05:00 [DBG] Hosting started
2024-03-30 12:57:38.360 +05:00 [DBG] Connection id "0HN2GHS8NMB4E" accepted.
2024-03-30 12:57:38.360 +05:00 [DBG] Connection id "0HN2GHS8NMB4F" accepted.
2024-03-30 12:57:38.360 +05:00 [DBG] Connection id "0HN2GHS8NMB4F" started.
2024-03-30 12:57:38.360 +05:00 [DBG] Connection id "0HN2GHS8NMB4E" started.
2024-03-30 12:57:38.386 +05:00 [DBG] Connection id "0HN2GHS8NMB4F" received FIN.
2024-03-30 12:57:38.386 +05:00 [DBG] Connection id "0HN2GHS8NMB4E" received FIN.
2024-03-30 12:57:38.391 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 12:57:38.391 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 12:57:38.407 +05:00 [DBG] Connection id "0HN2GHS8NMB4E" stopped.
2024-03-30 12:57:38.410 +05:00 [DBG] Connection id "0HN2GHS8NMB4F" stopped.
2024-03-30 12:57:38.410 +05:00 [DBG] Connection id "0HN2GHS8NMB4E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:57:38.410 +05:00 [DBG] Connection id "0HN2GHS8NMB4F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 12:57:38.438 +05:00 [DBG] Connection id "0HN2GHS8NMB4G" accepted.
2024-03-30 12:57:38.439 +05:00 [DBG] Connection id "0HN2GHS8NMB4G" started.
2024-03-30 12:57:38.481 +05:00 [DBG] Connection 0HN2GHS8NMB4G established using the following protocol: "Tls12"
2024-03-30 12:57:38.533 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 12:57:38.550 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 12:57:38.576 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 12:57:38.580 +05:00 [DBG] Request did not match any endpoints
2024-03-30 12:57:38.706 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 12:57:38.790 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 12:57:38.792 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 261.6601ms
2024-03-30 12:57:38.909 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 12:57:38.912 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 12:57:38.917 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.8492ms
2024-03-30 12:57:38.942 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.4451ms
2024-03-30 12:57:39.758 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 12:57:39.759 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 12:57:39.759 +05:00 [DBG] Request did not match any endpoints
2024-03-30 12:57:39.904 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 146.0192ms
2024-03-30 12:58:05.346 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-30 12:58:05.353 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-30 12:58:05.358 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-30 12:58:05.358 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:58:05.360 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 12:58:05.362 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:58:05.394 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 12:58:05.395 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:58:05.437 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 12:58:05.439 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 12:58:05.440 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 12:58:05.441 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 12:58:05.441 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 12:58:05.441 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 12:58:05.444 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:58:05.609 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 12:58:05.644 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:58:05.650 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 12:58:05.653 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-30 12:58:05.654 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-30 12:58:05.663 +05:00 [DBG] Connection id "0HN2GHS8NMB4G", Request id "0HN2GHS8NMB4G:00000017": started reading request body.
2024-03-30 12:58:05.664 +05:00 [DBG] Connection id "0HN2GHS8NMB4G", Request id "0HN2GHS8NMB4G:00000017": done reading request body.
2024-03-30 12:58:05.667 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-30 12:58:05.668 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:58:05.668 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:58:05.668 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 12:58:05.677 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 12:58:06.171 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 12:58:06.171 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 12:58:06.468 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 12:58:06.506 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-30 12:58:06.736 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 12:58:06.791 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:58:06.792 +05:00 [DBG] Creating DbConnection.
2024-03-30 12:58:06.801 +05:00 [DBG] Created DbConnection. (3ms).
2024-03-30 12:58:06.811 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2024-03-30 12:58:06.819 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2024-03-30 12:58:06.828 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:07.113 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:07.123 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 12:58:07.140 +05:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 12:58:07.181 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:58:07.216 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:07.220 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 75ms reading results.
2024-03-30 12:58:07.225 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:07.232 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (5ms).
2024-03-30 12:58:07.243 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdUser") == __p_0)'
2024-03-30 12:58:07.253 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 12:58:07.256 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:58:07.256 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:58:07.256 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:58:07.257 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:07.263 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:07.264 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 12:58:07.267 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 12:58:07.267 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:07.267 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 12:58:07.268 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:07.268 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:58:07.273 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 30.03.2024 12:58:07
2024-03-30 12:58:08.019 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 12:58:08.020 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 12:58:08.020 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 12:58:08.020 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 12:58:08.022 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-30 12:58:08.022 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-30 12:58:08.026 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 2581.9912ms
2024-03-30 12:58:08.027 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 12:58:08.031 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 12:58:08.034 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:08.035 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-30 12:58:08.036 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 2690.0234ms
2024-03-30 12:58:21.791 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=138727 - 0
2024-03-30 12:58:21.792 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-30 12:58:21.792 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-30 12:58:21.792 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:58:21.793 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 12:58:21.793 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 12:58:21.794 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 12:58:21.795 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:58:21.803 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 12:58:21.803 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 12:58:21.803 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 12:58:21.803 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 12:58:21.803 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 12:58:21.803 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 12:58:21.803 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:58:21.805 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 12:58:21.810 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 12:58:21.811 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 12:58:21.812 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 12:58:21.812 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 12:58:21.812 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 12:58:21.814 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 12:58:21.860 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 12:58:21.861 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-30 12:58:21.866 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 12:58:21.866 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:58:21.866 +05:00 [DBG] Creating DbConnection.
2024-03-30 12:58:21.867 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 12:58:21.867 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:58:21.867 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:58:21.867 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:21.885 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:21.885 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 12:58:21.886 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 12:58:21.892 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:58:21.899 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:21.900 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 13ms reading results.
2024-03-30 12:58:21.900 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:21.900 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:58:21.903 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 12:58:21.910 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 12:58:21.927 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-30 12:58:21.941 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:58:21.942 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 12:58:22.037 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:22.039 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:22.043 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 12:58:22.043 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:58:22.043 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 12:58:22.043 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 12:58:22.054 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 12:58:22.061 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:22.061 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 6ms reading results.
2024-03-30 12:58:22.062 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:22.062 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:58:22.069 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 12:58:22.071 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 12:58:22.075 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 12:58:22.076 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 12:58:22.076 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 12:58:22.076 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 12:58:22.076 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 12:58:22.076 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-30 12:58:22.085 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 281.5613ms
2024-03-30 12:58:22.085 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 12:58:22.085 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 12:58:22.086 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 12:58:22.087 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 12:58:22.087 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=138727 - 0 - 200 - application/json;+charset=utf-8 295.9613ms
2024-03-30 13:01:12.850 +05:00 [DBG] Connection id "0HN2GHS8NMB4G" received FIN.
2024-03-30 13:01:12.852 +05:00 [DBG] Connection id "0HN2GHS8NMB4G" is closed. The last processed stream ID was 25.
2024-03-30 13:01:12.853 +05:00 [DBG] Connection id "0HN2GHS8NMB4G" sending FIN because: "The client closed the connection."
2024-03-30 13:01:12.854 +05:00 [DBG] The connection queue processing loop for 0HN2GHS8NMB4G completed.
2024-03-30 13:01:12.856 +05:00 [DBG] Connection id "0HN2GHS8NMB4G" stopped.
2024-03-30 13:05:48.889 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 13:05:48.943 +05:00 [DBG] Hosting starting
2024-03-30 13:05:48.961 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 13:05:48.970 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 13:05:48.977 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 13:05:48.978 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 13:05:48.978 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 13:05:48.978 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 13:05:48.983 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 13:05:48.986 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 13:05:48.986 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 13:05:48.986 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 13:05:48.986 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 13:05:48.993 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 13:05:48.995 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:05:49.001 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 13:05:49.002 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:05:49.006 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 13:05:49.007 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 13:05:49.008 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 13:05:49.009 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 13:05:49.128 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 13:05:49.128 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 13:05:49.129 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 13:05:49.129 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 13:05:49.129 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 13:05:49.131 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 13:05:49.131 +05:00 [INF] Hosting environment: Development
2024-03-30 13:05:49.131 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 13:05:49.131 +05:00 [DBG] Hosting started
2024-03-30 13:05:49.383 +05:00 [DBG] Connection id "0HN2GI0R2ER52" accepted.
2024-03-30 13:05:49.384 +05:00 [DBG] Connection id "0HN2GI0R2ER52" started.
2024-03-30 13:05:49.412 +05:00 [DBG] Connection id "0HN2GI0R2ER52" received FIN.
2024-03-30 13:05:49.415 +05:00 [DBG] Connection id "0HN2GI0R2ER53" accepted.
2024-03-30 13:05:49.419 +05:00 [DBG] Connection id "0HN2GI0R2ER53" started.
2024-03-30 13:05:49.425 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:05:49.441 +05:00 [DBG] Connection id "0HN2GI0R2ER52" stopped.
2024-03-30 13:05:49.444 +05:00 [DBG] Connection id "0HN2GI0R2ER52" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:05:49.458 +05:00 [DBG] Connection 0HN2GI0R2ER53 established using the following protocol: "Tls12"
2024-03-30 13:05:49.524 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 13:05:49.545 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 13:05:49.576 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 13:05:49.577 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:05:49.763 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 13:05:49.849 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 13:05:49.854 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 334.4548ms
2024-03-30 13:05:49.887 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 13:05:49.887 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 13:05:49.902 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 14.8527ms
2024-03-30 13:05:49.956 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 68.9236ms
2024-03-30 13:05:50.098 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 13:05:50.100 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 13:05:50.100 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:05:50.271 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 172.4608ms
2024-03-30 13:06:26.616 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-30 13:06:26.623 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-30 13:06:26.629 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-30 13:06:26.634 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 13:06:26.636 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:06:26.637 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:06:26.678 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:06:26.679 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 13:06:26.721 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 13:06:26.725 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:06:26.726 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:06:26.726 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:06:26.726 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:06:26.726 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:06:26.728 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 13:06:26.887 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 13:06:26.921 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 13:06:26.927 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 13:06:26.929 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-30 13:06:26.932 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-30 13:06:26.941 +05:00 [DBG] Connection id "0HN2GI0R2ER53", Request id "0HN2GI0R2ER53:00000017": started reading request body.
2024-03-30 13:06:26.942 +05:00 [DBG] Connection id "0HN2GI0R2ER53", Request id "0HN2GI0R2ER53:00000017": done reading request body.
2024-03-30 13:06:26.944 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-30 13:06:26.945 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 13:06:26.945 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 13:06:26.945 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 13:06:26.957 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 13:06:27.483 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 13:06:27.484 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 13:06:27.782 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 13:06:27.815 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-30 13:06:28.005 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 13:06:28.053 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 13:06:28.057 +05:00 [DBG] Creating DbConnection.
2024-03-30 13:06:28.064 +05:00 [DBG] Created DbConnection. (5ms).
2024-03-30 13:06:28.074 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (16ms).
2024-03-30 13:06:28.082 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-03-30 13:06:28.086 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:28.395 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:28.409 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 13:06:28.426 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 13:06:28.467 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 13:06:28.500 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:28.506 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 73ms reading results.
2024-03-30 13:06:28.509 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:28.513 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (4ms).
2024-03-30 13:06:28.524 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdUser") == __p_0)'
2024-03-30 13:06:28.535 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 13:06:28.536 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 13:06:28.536 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:06:28.537 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:06:28.537 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:28.541 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:28.541 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 13:06:28.562 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 13:06:28.562 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:28.562 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 13:06:28.563 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:28.563 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 13:06:28.568 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 30.03.2024 13:06:28
2024-03-30 13:06:29.491 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:06:29.492 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:06:29.492 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:06:29.493 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:06:29.494 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-30 13:06:29.494 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-30 13:06:29.498 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 2767.7571ms
2024-03-30 13:06:29.499 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 13:06:29.501 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 13:06:29.504 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:29.506 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-30 13:06:29.506 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 2889.9211ms
2024-03-30 13:06:50.710 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=600059 - 0
2024-03-30 13:06:50.712 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-30 13:06:50.712 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-30 13:06:50.712 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 13:06:50.713 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:06:50.713 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:06:50.716 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:06:50.716 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 13:06:50.723 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 13:06:50.723 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:06:50.725 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:06:50.725 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:06:50.725 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:06:50.725 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:06:50.725 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 13:06:50.726 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 13:06:50.732 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 13:06:50.733 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 13:06:50.735 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:06:50.735 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:06:50.735 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 13:06:50.736 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 13:06:50.794 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 13:06:50.795 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-30 13:06:50.799 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 13:06:50.800 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 13:06:50.801 +05:00 [DBG] Creating DbConnection.
2024-03-30 13:06:50.801 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 13:06:50.801 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-30 13:06:50.801 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-03-30 13:06:50.801 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:50.804 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:50.804 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 13:06:50.809 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 13:06:50.812 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 13:06:50.820 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:50.820 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 11ms reading results.
2024-03-30 13:06:50.820 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:50.820 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 13:06:50.826 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 13:06:50.828 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 13:06:50.843 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-30 13:06:50.858 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 13:06:50.859 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 13:06:50.925 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:50.926 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:50.933 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 13:06:50.933 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:06:50.933 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:06:50.933 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 13:06:51.000 +05:00 [INF] Executed DbCommand (67ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 13:06:51.003 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:51.003 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 2ms reading results.
2024-03-30 13:06:51.004 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:51.004 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 13:06:51.011 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 13:06:51.016 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 13:06:51.017 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:06:51.017 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:06:51.017 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:06:51.017 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:06:51.017 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 13:06:51.017 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-30 13:06:51.024 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 299.165ms
2024-03-30 13:06:51.024 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 13:06:51.025 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 13:06:51.025 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:06:51.025 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 13:06:51.025 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=600059 - 0 - 200 - application/json;+charset=utf-8 314.5109ms
2024-03-30 13:07:41.010 +05:00 [DBG] Connection id "0HN2GI0R2ER54" accepted.
2024-03-30 13:07:41.010 +05:00 [DBG] Connection id "0HN2GI0R2ER54" started.
2024-03-30 13:07:41.016 +05:00 [DBG] Connection 0HN2GI0R2ER54 established using the following protocol: "Tls12"
2024-03-30 13:07:41.025 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:07:41.025 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:07:41.025 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:07:41.025 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:07:41.025 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:07:41.031 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:07:41.067 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:07:41.069 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:07:41.070 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 44.8330ms
2024-03-30 13:07:41.070 +05:00 [DBG] Connection id "0HN2GI0R2ER54" disconnecting.
2024-03-30 13:07:41.070 +05:00 [DBG] Connection id "0HN2GI0R2ER54" stopped.
2024-03-30 13:07:41.071 +05:00 [DBG] Connection id "0HN2GI0R2ER54" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:07:41.644 +05:00 [DBG] Connection id "0HN2GI0R2ER55" accepted.
2024-03-30 13:07:41.644 +05:00 [DBG] Connection id "0HN2GI0R2ER55" started.
2024-03-30 13:07:41.648 +05:00 [DBG] Connection 0HN2GI0R2ER55 established using the following protocol: "Tls12"
2024-03-30 13:07:41.649 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:07:41.649 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:07:41.649 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:07:41.649 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:07:41.649 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:07:41.652 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:07:41.653 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:07:41.653 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:07:41.653 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 3.7995ms
2024-03-30 13:07:41.653 +05:00 [DBG] Connection id "0HN2GI0R2ER55" disconnecting.
2024-03-30 13:07:41.653 +05:00 [DBG] Connection id "0HN2GI0R2ER55" stopped.
2024-03-30 13:07:41.653 +05:00 [DBG] Connection id "0HN2GI0R2ER55" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:07:42.086 +05:00 [DBG] Connection id "0HN2GI0R2ER56" accepted.
2024-03-30 13:07:42.086 +05:00 [DBG] Connection id "0HN2GI0R2ER56" started.
2024-03-30 13:07:42.087 +05:00 [DBG] Connection 0HN2GI0R2ER56 established using the following protocol: "Tls12"
2024-03-30 13:07:42.087 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:07:42.087 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:07:42.087 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:07:42.087 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:07:42.088 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:07:42.089 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:07:42.090 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:07:42.090 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:07:42.090 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 2.9482ms
2024-03-30 13:07:42.090 +05:00 [DBG] Connection id "0HN2GI0R2ER56" disconnecting.
2024-03-30 13:07:42.090 +05:00 [DBG] Connection id "0HN2GI0R2ER56" stopped.
2024-03-30 13:07:42.090 +05:00 [DBG] Connection id "0HN2GI0R2ER56" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:07:42.448 +05:00 [DBG] Connection id "0HN2GI0R2ER57" accepted.
2024-03-30 13:07:42.448 +05:00 [DBG] Connection id "0HN2GI0R2ER57" started.
2024-03-30 13:07:42.449 +05:00 [DBG] Connection 0HN2GI0R2ER57 established using the following protocol: "Tls12"
2024-03-30 13:07:42.449 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:07:42.449 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:07:42.449 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:07:42.449 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:07:42.449 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:07:42.450 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:07:42.450 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:07:42.450 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:07:42.450 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8290ms
2024-03-30 13:07:42.450 +05:00 [DBG] Connection id "0HN2GI0R2ER57" disconnecting.
2024-03-30 13:07:42.450 +05:00 [DBG] Connection id "0HN2GI0R2ER57" stopped.
2024-03-30 13:07:42.450 +05:00 [DBG] Connection id "0HN2GI0R2ER57" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:07:42.815 +05:00 [DBG] Connection id "0HN2GI0R2ER58" accepted.
2024-03-30 13:07:42.815 +05:00 [DBG] Connection id "0HN2GI0R2ER58" started.
2024-03-30 13:07:42.816 +05:00 [DBG] Connection 0HN2GI0R2ER58 established using the following protocol: "Tls12"
2024-03-30 13:07:42.816 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:07:42.816 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:07:42.816 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:07:42.816 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:07:42.817 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:07:42.817 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:07:42.817 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:07:42.817 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:07:42.817 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 1.0696ms
2024-03-30 13:07:42.818 +05:00 [DBG] Connection id "0HN2GI0R2ER58" disconnecting.
2024-03-30 13:07:42.818 +05:00 [DBG] Connection id "0HN2GI0R2ER58" stopped.
2024-03-30 13:07:42.818 +05:00 [DBG] Connection id "0HN2GI0R2ER58" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:07:43.208 +05:00 [DBG] Connection id "0HN2GI0R2ER59" accepted.
2024-03-30 13:07:43.208 +05:00 [DBG] Connection id "0HN2GI0R2ER59" started.
2024-03-30 13:07:43.210 +05:00 [DBG] Connection 0HN2GI0R2ER59 established using the following protocol: "Tls12"
2024-03-30 13:07:43.211 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:07:43.211 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:07:43.211 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:07:43.211 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:07:43.211 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:07:43.211 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:07:43.211 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:07:43.212 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:07:43.212 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8199ms
2024-03-30 13:07:43.212 +05:00 [DBG] Connection id "0HN2GI0R2ER59" disconnecting.
2024-03-30 13:07:43.212 +05:00 [DBG] Connection id "0HN2GI0R2ER59" stopped.
2024-03-30 13:07:43.212 +05:00 [DBG] Connection id "0HN2GI0R2ER59" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:07:43.518 +05:00 [DBG] Connection id "0HN2GI0R2ER5A" accepted.
2024-03-30 13:07:43.519 +05:00 [DBG] Connection id "0HN2GI0R2ER5A" started.
2024-03-30 13:07:43.520 +05:00 [DBG] Connection 0HN2GI0R2ER5A established using the following protocol: "Tls12"
2024-03-30 13:07:43.520 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:07:43.520 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:07:43.520 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:07:43.520 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:07:43.520 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:07:43.520 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:07:43.520 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:07:43.520 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:07:43.521 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7395ms
2024-03-30 13:07:43.521 +05:00 [DBG] Connection id "0HN2GI0R2ER5A" disconnecting.
2024-03-30 13:07:43.521 +05:00 [DBG] Connection id "0HN2GI0R2ER5A" stopped.
2024-03-30 13:07:43.521 +05:00 [DBG] Connection id "0HN2GI0R2ER5A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:07:44.110 +05:00 [DBG] Connection id "0HN2GI0R2ER5B" accepted.
2024-03-30 13:07:44.110 +05:00 [DBG] Connection id "0HN2GI0R2ER5B" started.
2024-03-30 13:07:44.111 +05:00 [DBG] Connection 0HN2GI0R2ER5B established using the following protocol: "Tls12"
2024-03-30 13:07:44.111 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:07:44.111 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:07:44.111 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:07:44.111 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:07:44.111 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:07:44.111 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:07:44.112 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:07:44.112 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:07:44.112 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.6614ms
2024-03-30 13:07:44.112 +05:00 [DBG] Connection id "0HN2GI0R2ER5B" disconnecting.
2024-03-30 13:07:44.112 +05:00 [DBG] Connection id "0HN2GI0R2ER5B" stopped.
2024-03-30 13:07:44.112 +05:00 [DBG] Connection id "0HN2GI0R2ER5B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:08:00.849 +05:00 [DBG] Connection id "0HN2GI0R2ER5C" accepted.
2024-03-30 13:08:00.849 +05:00 [DBG] Connection id "0HN2GI0R2ER5C" started.
2024-03-30 13:08:00.851 +05:00 [DBG] Connection 0HN2GI0R2ER5C established using the following protocol: "Tls12"
2024-03-30 13:08:00.851 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:08:00.851 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:08:00.851 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:08:00.851 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:08:00.851 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:08:00.851 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:08:00.851 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:08:00.852 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:08:00.852 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.8882ms
2024-03-30 13:08:00.852 +05:00 [DBG] Connection id "0HN2GI0R2ER5C" disconnecting.
2024-03-30 13:08:00.852 +05:00 [DBG] Connection id "0HN2GI0R2ER5C" stopped.
2024-03-30 13:08:00.852 +05:00 [DBG] Connection id "0HN2GI0R2ER5C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:08:01.359 +05:00 [DBG] Connection id "0HN2GI0R2ER5D" accepted.
2024-03-30 13:08:01.359 +05:00 [DBG] Connection id "0HN2GI0R2ER5D" started.
2024-03-30 13:08:01.361 +05:00 [DBG] Connection 0HN2GI0R2ER5D established using the following protocol: "Tls12"
2024-03-30 13:08:01.361 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:08:01.361 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:08:01.361 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:08:01.361 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:08:01.362 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:08:01.362 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:08:01.362 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:08:01.362 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:08:01.362 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7845ms
2024-03-30 13:08:01.362 +05:00 [DBG] Connection id "0HN2GI0R2ER5D" disconnecting.
2024-03-30 13:08:01.362 +05:00 [DBG] Connection id "0HN2GI0R2ER5D" stopped.
2024-03-30 13:08:01.362 +05:00 [DBG] Connection id "0HN2GI0R2ER5D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:08:03.702 +05:00 [DBG] Connection id "0HN2GI0R2ER5E" accepted.
2024-03-30 13:08:03.702 +05:00 [DBG] Connection id "0HN2GI0R2ER5E" started.
2024-03-30 13:08:03.703 +05:00 [DBG] Connection 0HN2GI0R2ER5E established using the following protocol: "Tls12"
2024-03-30 13:08:03.704 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:08:03.704 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:08:03.704 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:08:03.704 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:08:03.704 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:08:03.704 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:08:03.704 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:08:03.704 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:08:03.704 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.7355ms
2024-03-30 13:08:03.704 +05:00 [DBG] Connection id "0HN2GI0R2ER5E" disconnecting.
2024-03-30 13:08:03.707 +05:00 [DBG] Connection id "0HN2GI0R2ER5E" stopped.
2024-03-30 13:08:03.710 +05:00 [DBG] Connection id "0HN2GI0R2ER5E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:09:41.326 +05:00 [DBG] Connection id "0HN2GI0R2ER53" received FIN.
2024-03-30 13:09:41.327 +05:00 [DBG] Connection id "0HN2GI0R2ER53" is closed. The last processed stream ID was 25.
2024-03-30 13:09:41.328 +05:00 [DBG] Connection id "0HN2GI0R2ER53" sending FIN because: "The client closed the connection."
2024-03-30 13:09:41.329 +05:00 [DBG] The connection queue processing loop for 0HN2GI0R2ER53 completed.
2024-03-30 13:09:41.333 +05:00 [DBG] Connection id "0HN2GI0R2ER53" stopped.
2024-03-30 13:10:38.423 +05:00 [DBG] Connection id "0HN2GI0R2ER5F" received FIN.
2024-03-30 13:10:38.423 +05:00 [DBG] Connection id "0HN2GI0R2ER5F" accepted.
2024-03-30 13:10:38.423 +05:00 [DBG] Connection id "0HN2GI0R2ER5G" accepted.
2024-03-30 13:10:38.423 +05:00 [DBG] Connection id "0HN2GI0R2ER5F" started.
2024-03-30 13:10:38.423 +05:00 [DBG] Connection id "0HN2GI0R2ER5G" started.
2024-03-30 13:10:38.439 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:10:38.439 +05:00 [DBG] Connection id "0HN2GI0R2ER5F" stopped.
2024-03-30 13:10:38.439 +05:00 [DBG] Connection id "0HN2GI0R2ER5F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:10:38.462 +05:00 [DBG] Connection 0HN2GI0R2ER5G established using the following protocol: "Tls12"
2024-03-30 13:10:38.464 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:10:38.464 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:10:38.464 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:10:38.464 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:10:38.464 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:10:38.465 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:10:38.465 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:10:38.465 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:10:38.465 +05:00 [DBG] Connection id "0HN2GI0R2ER5G" completed keep alive response.
2024-03-30 13:10:38.465 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 0.9177ms
2024-03-30 13:12:49.431 +05:00 [DBG] Connection id "0HN2GI0R2ER5G" disconnecting.
2024-03-30 13:12:49.431 +05:00 [DBG] Connection id "0HN2GI0R2ER5G" stopped.
2024-03-30 13:12:49.431 +05:00 [DBG] Connection id "0HN2GI0R2ER5G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:13:38.165 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 13:13:38.265 +05:00 [DBG] Hosting starting
2024-03-30 13:13:38.281 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 13:13:38.289 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 13:13:38.299 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 13:13:38.318 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 13:13:38.319 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 13:13:38.333 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 13:13:38.340 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 13:13:38.343 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 13:13:38.343 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 13:13:38.343 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 13:13:38.343 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 13:13:38.350 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 13:13:38.353 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:13:38.358 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 13:13:38.359 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:13:38.364 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 13:13:38.365 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 13:13:38.366 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 13:13:38.366 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 13:13:38.555 +05:00 [DBG] Connection id "0HN2GI56SQLVJ" accepted.
2024-03-30 13:13:38.557 +05:00 [DBG] Connection id "0HN2GI56SQLVJ" started.
2024-03-30 13:13:38.559 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 13:13:38.559 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 13:13:38.559 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 13:13:38.559 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 13:13:38.559 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 13:13:38.562 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 13:13:38.562 +05:00 [INF] Hosting environment: Development
2024-03-30 13:13:38.562 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 13:13:38.563 +05:00 [DBG] Hosting started
2024-03-30 13:13:38.565 +05:00 [DBG] Connection id "0HN2GI56SQLVK" accepted.
2024-03-30 13:13:38.565 +05:00 [DBG] Connection id "0HN2GI56SQLVK" started.
2024-03-30 13:13:38.579 +05:00 [DBG] Connection id "0HN2GI56SQLVK" received FIN.
2024-03-30 13:13:38.585 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:13:38.587 +05:00 [DBG] Connection id "0HN2GI56SQLVJ" received FIN.
2024-03-30 13:13:38.591 +05:00 [DBG] Connection id "0HN2GI56SQLVL" accepted.
2024-03-30 13:13:38.598 +05:00 [DBG] Connection id "0HN2GI56SQLVL" started.
2024-03-30 13:13:38.599 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:13:38.603 +05:00 [DBG] Connection id "0HN2GI56SQLVK" stopped.
2024-03-30 13:13:38.607 +05:00 [DBG] Connection id "0HN2GI56SQLVK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:13:38.608 +05:00 [DBG] Connection id "0HN2GI56SQLVJ" stopped.
2024-03-30 13:13:38.608 +05:00 [DBG] Connection id "0HN2GI56SQLVJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:13:38.633 +05:00 [DBG] Connection 0HN2GI56SQLVL established using the following protocol: "Tls12"
2024-03-30 13:13:38.686 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 13:13:38.708 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 13:13:38.736 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 13:13:38.736 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:13:38.880 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 13:13:38.959 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 13:13:38.962 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 278.1421ms
2024-03-30 13:13:38.999 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 13:13:39.003 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 13:13:39.009 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.2444ms
2024-03-30 13:13:39.078 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 78.9213ms
2024-03-30 13:13:39.208 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 13:13:39.215 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 13:13:39.215 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:13:39.410 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 202.0284ms
2024-03-30 13:13:39.509 +05:00 [DBG] Connection id "0HN2GI56SQLVM" accepted.
2024-03-30 13:13:39.509 +05:00 [DBG] Connection id "0HN2GI56SQLVM" started.
2024-03-30 13:13:39.510 +05:00 [DBG] Connection id "0HN2GI56SQLVM" received FIN.
2024-03-30 13:13:39.510 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:13:39.510 +05:00 [DBG] Connection id "0HN2GI56SQLVN" accepted.
2024-03-30 13:13:39.510 +05:00 [DBG] Connection id "0HN2GI56SQLVM" stopped.
2024-03-30 13:13:39.510 +05:00 [DBG] Connection id "0HN2GI56SQLVN" started.
2024-03-30 13:13:39.510 +05:00 [DBG] Connection id "0HN2GI56SQLVM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:13:39.517 +05:00 [DBG] Connection 0HN2GI56SQLVN established using the following protocol: "Tls12"
2024-03-30 13:13:39.529 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:13:39.536 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:13:39.543 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:13:39.543 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:13:39.548 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:13:39.555 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:13:39.878 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:13:39.880 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:13:39.883 +05:00 [DBG] Connection id "0HN2GI56SQLVN" completed keep alive response.
2024-03-30 13:13:39.883 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 354.0834ms
2024-03-30 13:13:40.793 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:13:40.794 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:13:40.794 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:13:40.794 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:13:40.794 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:13:40.796 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:13:40.799 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:13:40.799 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:13:40.799 +05:00 [DBG] Connection id "0HN2GI56SQLVN" completed keep alive response.
2024-03-30 13:13:40.799 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 5.8799ms
2024-03-30 13:13:51.770 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:13:51.770 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:13:51.770 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:13:51.770 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:13:51.770 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:13:51.771 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:13:51.776 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:13:51.776 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:13:51.776 +05:00 [DBG] Connection id "0HN2GI56SQLVN" completed keep alive response.
2024-03-30 13:13:51.776 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 6.4559ms
2024-03-30 13:16:03.025 +05:00 [DBG] Connection id "0HN2GI56SQLVN" disconnecting.
2024-03-30 13:16:03.026 +05:00 [DBG] Connection id "0HN2GI56SQLVN" stopped.
2024-03-30 13:16:03.026 +05:00 [DBG] Connection id "0HN2GI56SQLVN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:16:31.870 +05:00 [DBG] Connection id "0HN2GI56SQLVL" received FIN.
2024-03-30 13:16:31.890 +05:00 [DBG] Connection id "0HN2GI56SQLVL" is closed. The last processed stream ID was 21.
2024-03-30 13:16:31.891 +05:00 [DBG] Connection id "0HN2GI56SQLVL" sending FIN because: "The client closed the connection."
2024-03-30 13:16:31.893 +05:00 [DBG] The connection queue processing loop for 0HN2GI56SQLVL completed.
2024-03-30 13:16:31.894 +05:00 [DBG] Connection id "0HN2GI56SQLVL" stopped.
2024-03-30 13:23:16.396 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 13:23:16.454 +05:00 [DBG] Hosting starting
2024-03-30 13:23:16.468 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 13:23:16.475 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 13:23:16.481 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 13:23:16.481 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 13:23:16.482 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 13:23:16.482 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 13:23:16.486 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 13:23:16.491 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 13:23:16.491 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 13:23:16.491 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 13:23:16.491 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 13:23:16.498 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 13:23:16.500 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:23:16.503 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 13:23:16.505 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:23:16.509 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 13:23:16.509 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 13:23:16.510 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 13:23:16.511 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 13:23:16.623 +05:00 [DBG] Connection id "0HN2GIAJ5N16H" received FIN.
2024-03-30 13:23:16.624 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 13:23:16.624 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 13:23:16.625 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 13:23:16.626 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 13:23:16.626 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 13:23:16.628 +05:00 [DBG] Connection id "0HN2GIAJ5N16H" accepted.
2024-03-30 13:23:16.629 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 13:23:16.629 +05:00 [INF] Hosting environment: Development
2024-03-30 13:23:16.629 +05:00 [DBG] Connection id "0HN2GIAJ5N16H" started.
2024-03-30 13:23:16.629 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 13:23:16.629 +05:00 [DBG] Hosting started
2024-03-30 13:23:16.642 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:23:16.662 +05:00 [DBG] Connection id "0HN2GIAJ5N16H" stopped.
2024-03-30 13:23:16.665 +05:00 [DBG] Connection id "0HN2GIAJ5N16H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:23:17.810 +05:00 [DBG] Connection id "0HN2GIAJ5N16I" accepted.
2024-03-30 13:23:17.811 +05:00 [DBG] Connection id "0HN2GIAJ5N16I" started.
2024-03-30 13:23:17.867 +05:00 [DBG] Connection 0HN2GIAJ5N16I established using the following protocol: "Tls12"
2024-03-30 13:23:17.954 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 13:23:17.977 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 13:23:18.004 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 13:23:18.004 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:23:18.153 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 13:23:18.230 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 13:23:18.233 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 281.8981ms
2024-03-30 13:23:18.265 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 13:23:18.268 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 13:23:18.273 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.9963ms
2024-03-30 13:23:18.318 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.4559ms
2024-03-30 13:23:18.454 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 13:23:18.456 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 13:23:18.456 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:23:18.612 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.2396ms
2024-03-30 13:23:34.123 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-30 13:23:34.129 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-30 13:23:34.134 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-30 13:23:34.134 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 13:23:34.136 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:23:34.137 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:23:34.175 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:23:34.176 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 13:23:34.230 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 13:23:34.235 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:23:34.235 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:23:34.236 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:23:34.236 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:23:34.236 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:23:34.238 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 13:23:35.188 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 13:23:35.221 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 13:23:35.227 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 13:23:35.230 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-30 13:23:35.234 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-30 13:23:35.242 +05:00 [DBG] Connection id "0HN2GIAJ5N16I", Request id "0HN2GIAJ5N16I:00000017": started reading request body.
2024-03-30 13:23:35.243 +05:00 [DBG] Connection id "0HN2GIAJ5N16I", Request id "0HN2GIAJ5N16I:00000017": done reading request body.
2024-03-30 13:23:35.245 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-30 13:23:35.246 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 13:23:35.246 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 13:23:35.246 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 13:23:35.254 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 13:23:35.755 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 13:23:35.756 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 13:23:36.068 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 13:23:36.103 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-30 13:23:36.289 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 13:23:36.333 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 13:23:36.335 +05:00 [DBG] Creating DbConnection.
2024-03-30 13:23:36.343 +05:00 [DBG] Created DbConnection. (3ms).
2024-03-30 13:23:36.351 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2024-03-30 13:23:36.358 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-03-30 13:23:36.363 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:37.067 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:37.078 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 13:23:37.096 +05:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 13:23:37.141 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 13:23:37.170 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:37.176 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 73ms reading results.
2024-03-30 13:23:37.179 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:37.185 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-30 13:23:37.200 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdUser") == __p_0)'
2024-03-30 13:23:37.212 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 13:23:37.213 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 13:23:37.213 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:23:37.214 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:23:37.215 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:37.220 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:37.220 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 13:23:37.224 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 13:23:37.224 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:37.225 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 13:23:37.225 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:37.225 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 13:23:37.229 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 30.03.2024 13:23:37
2024-03-30 13:23:38.150 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:23:38.151 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:23:38.151 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:23:38.151 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:23:38.152 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-30 13:23:38.153 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-30 13:23:38.157 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 3917.2971ms
2024-03-30 13:23:38.158 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 13:23:38.160 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 13:23:38.163 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:38.165 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-30 13:23:38.165 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 4041.8905ms
2024-03-30 13:23:49.769 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=020000 - 0
2024-03-30 13:23:49.770 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-30 13:23:49.771 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-30 13:23:49.771 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 13:23:49.771 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:23:49.771 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:23:49.776 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:23:49.776 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 13:23:49.783 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 13:23:49.783 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:23:49.784 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:23:49.784 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:23:49.784 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:23:49.784 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:23:49.784 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 13:23:49.785 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 13:23:49.790 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 13:23:49.791 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 13:23:49.793 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:23:49.793 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:23:49.793 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 13:23:49.793 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 13:23:49.845 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 13:23:49.846 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-30 13:23:49.851 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 13:23:49.851 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 13:23:49.852 +05:00 [DBG] Creating DbConnection.
2024-03-30 13:23:49.852 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 13:23:49.852 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:23:49.852 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:23:49.852 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:49.853 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:49.853 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 13:23:49.854 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 13:23:49.861 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 13:23:49.871 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:49.871 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 16ms reading results.
2024-03-30 13:23:49.871 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:49.871 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 13:23:49.878 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 13:23:49.882 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 13:23:49.895 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-30 13:23:49.910 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 13:23:49.911 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 13:23:49.985 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:49.987 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:49.990 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 13:23:49.990 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:23:49.990 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:23:49.991 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 13:23:50.028 +05:00 [INF] Executed DbCommand (37ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 13:23:50.032 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:50.032 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 3ms reading results.
2024-03-30 13:23:50.034 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:50.035 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 13:23:50.043 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 13:23:50.045 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 13:23:50.045 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:23:50.046 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:23:50.046 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:23:50.046 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:23:50.046 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 13:23:50.046 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-30 13:23:50.059 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 274.867ms
2024-03-30 13:23:50.059 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 13:23:50.059 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 13:23:50.059 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:23:50.060 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 13:23:50.060 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=020000 - 0 - 200 - application/json;+charset=utf-8 290.7417ms
2024-03-30 13:23:57.332 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0
2024-03-30 13:23:57.333 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-30 13:23:57.333 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-30 13:23:57.333 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:23:57.333 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:23:57.333 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:23:57.340 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:23:57.341 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:23:57.343 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 13:23:57.343 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:23:57.343 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:23:57.343 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:23:57.343 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:23:57.343 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:23:57.343 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:23:57.344 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:23:57.379 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 13:23:57.379 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 13:23:57.379 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:23:57.379 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:23:57.379 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 13:23:57.380 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 13:23:57.414 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:23:57.414 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:23:57.414 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:23:57.414 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:23:57.414 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 13:23:57.414 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2024-03-30 13:23:57.473 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 129.8417ms
2024-03-30 13:23:57.473 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:23:57.473 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0 - 200 - application/json;+charset=utf-8 141.5443ms
2024-03-30 13:25:07.770 +05:00 [DBG] Connection id "0HN2GIAJ5N16J" accepted.
2024-03-30 13:25:07.770 +05:00 [DBG] Connection id "0HN2GIAJ5N16J" started.
2024-03-30 13:25:07.771 +05:00 [DBG] Connection id "0HN2GIAJ5N16K" accepted.
2024-03-30 13:25:07.771 +05:00 [DBG] Connection id "0HN2GIAJ5N16J" received FIN.
2024-03-30 13:25:07.771 +05:00 [DBG] Connection id "0HN2GIAJ5N16K" started.
2024-03-30 13:25:07.776 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:25:07.777 +05:00 [DBG] Connection id "0HN2GIAJ5N16J" stopped.
2024-03-30 13:25:07.777 +05:00 [DBG] Connection id "0HN2GIAJ5N16J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:25:07.779 +05:00 [DBG] Connection 0HN2GIAJ5N16K established using the following protocol: "Tls12"
2024-03-30 13:25:07.791 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:25:07.791 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:25:07.791 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:25:07.791 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:25:07.791 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:25:07.795 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 13:25:07.803 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:25:07.805 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 13:25:07.808 +05:00 [DBG] Connection id "0HN2GIAJ5N16K" completed keep alive response.
2024-03-30 13:25:07.808 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 16.9037ms
2024-03-30 13:26:48.376 +05:00 [DBG] Connection id "0HN2GIAJ5N16I" received FIN.
2024-03-30 13:26:48.377 +05:00 [DBG] Connection id "0HN2GIAJ5N16I" is closed. The last processed stream ID was 27.
2024-03-30 13:26:48.377 +05:00 [DBG] Connection id "0HN2GIAJ5N16I" sending FIN because: "The client closed the connection."
2024-03-30 13:26:48.378 +05:00 [DBG] The connection queue processing loop for 0HN2GIAJ5N16I completed.
2024-03-30 13:26:48.379 +05:00 [DBG] Connection id "0HN2GIAJ5N16I" stopped.
2024-03-30 13:27:19.113 +05:00 [DBG] Connection id "0HN2GIAJ5N16K" disconnecting.
2024-03-30 13:27:19.113 +05:00 [DBG] Connection id "0HN2GIAJ5N16K" stopped.
2024-03-30 13:27:19.113 +05:00 [DBG] Connection id "0HN2GIAJ5N16K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:28:21.512 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 13:28:21.609 +05:00 [DBG] Hosting starting
2024-03-30 13:28:21.638 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 13:28:21.661 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 13:28:21.671 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 13:28:21.671 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 13:28:21.672 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 13:28:21.672 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 13:28:21.678 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 13:28:21.683 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 13:28:21.683 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 13:28:21.683 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 13:28:21.683 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 13:28:21.699 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 13:28:21.707 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:28:21.711 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 13:28:21.712 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:28:21.717 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 13:28:21.718 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 13:28:21.719 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 13:28:21.720 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 13:28:21.904 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 13:28:21.904 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 13:28:21.905 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 13:28:21.909 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 13:28:21.909 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 13:28:21.911 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 13:28:21.912 +05:00 [INF] Hosting environment: Development
2024-03-30 13:28:21.912 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 13:28:21.912 +05:00 [DBG] Hosting started
2024-03-30 13:28:22.308 +05:00 [DBG] Connection id "0HN2GIDE8UK6O" received FIN.
2024-03-30 13:28:22.312 +05:00 [DBG] Connection id "0HN2GIDE8UK6O" accepted.
2024-03-30 13:28:22.313 +05:00 [DBG] Connection id "0HN2GIDE8UK6P" received FIN.
2024-03-30 13:28:22.314 +05:00 [DBG] Connection id "0HN2GIDE8UK6Q" accepted.
2024-03-30 13:28:22.315 +05:00 [DBG] Connection id "0HN2GIDE8UK6P" accepted.
2024-03-30 13:28:22.317 +05:00 [DBG] Connection id "0HN2GIDE8UK6P" started.
2024-03-30 13:28:22.317 +05:00 [DBG] Connection id "0HN2GIDE8UK6Q" started.
2024-03-30 13:28:22.317 +05:00 [DBG] Connection id "0HN2GIDE8UK6O" started.
2024-03-30 13:28:22.329 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:28:22.329 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:28:22.345 +05:00 [DBG] Connection id "0HN2GIDE8UK6P" stopped.
2024-03-30 13:28:22.350 +05:00 [DBG] Connection id "0HN2GIDE8UK6O" stopped.
2024-03-30 13:28:22.351 +05:00 [DBG] Connection id "0HN2GIDE8UK6O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:28:22.351 +05:00 [DBG] Connection id "0HN2GIDE8UK6P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:28:22.381 +05:00 [DBG] Connection 0HN2GIDE8UK6Q established using the following protocol: "Tls12"
2024-03-30 13:28:22.436 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 13:28:22.455 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 13:28:22.487 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 13:28:22.487 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:28:22.631 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 13:28:22.743 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 13:28:22.758 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 327.9381ms
2024-03-30 13:28:22.779 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 13:28:22.781 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 13:28:22.786 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.4732ms
2024-03-30 13:28:22.831 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.5437ms
2024-03-30 13:28:22.960 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 13:28:22.961 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 13:28:22.961 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:28:23.112 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.6123ms
2024-03-30 13:28:29.178 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0
2024-03-30 13:28:29.182 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-30 13:28:29.188 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-30 13:28:29.191 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:28:29.193 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:28:29.194 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:28:29.241 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:28:29.242 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:28:29.284 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 13:28:29.286 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:28:29.286 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:28:29.286 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:28:29.286 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:28:29.287 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:28:29.288 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:28:29.288 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:28:29.301 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 13:28:29.303 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 13:28:29.304 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:28:29.305 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:28:29.305 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 13:28:29.312 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 13:28:29.410 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:28:29.418 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:28:29.418 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:28:29.418 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:28:29.419 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 13:28:29.420 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Security.Claims.ClaimsIdentity'.
2024-03-30 13:28:29.511 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 220.0104ms
2024-03-30 13:28:29.512 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:28:29.555 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-30 13:28:29.563 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0 - 500 - text/plain;+charset=utf-8 385.0359ms
2024-03-30 13:29:02.454 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 13:29:02.523 +05:00 [DBG] Hosting starting
2024-03-30 13:29:02.537 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 13:29:02.545 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 13:29:02.551 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 13:29:02.552 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 13:29:02.552 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 13:29:02.552 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 13:29:02.557 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 13:29:02.560 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 13:29:02.561 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 13:29:02.561 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 13:29:02.561 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 13:29:02.570 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 13:29:02.573 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:29:02.576 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 13:29:02.578 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:29:02.583 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 13:29:02.584 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 13:29:02.585 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 13:29:02.586 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 13:29:02.702 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 13:29:02.702 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 13:29:02.703 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 13:29:02.703 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 13:29:02.703 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 13:29:02.705 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 13:29:02.705 +05:00 [INF] Hosting environment: Development
2024-03-30 13:29:02.705 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 13:29:02.705 +05:00 [DBG] Hosting started
2024-03-30 13:29:03.124 +05:00 [DBG] Connection id "0HN2GIDQE6PFQ" received FIN.
2024-03-30 13:29:03.125 +05:00 [DBG] Connection id "0HN2GIDQE6PFR" received FIN.
2024-03-30 13:29:03.126 +05:00 [DBG] Connection id "0HN2GIDQE6PFR" accepted.
2024-03-30 13:29:03.127 +05:00 [DBG] Connection id "0HN2GIDQE6PFR" started.
2024-03-30 13:29:03.138 +05:00 [DBG] Connection id "0HN2GIDQE6PFQ" accepted.
2024-03-30 13:29:03.138 +05:00 [DBG] Connection id "0HN2GIDQE6PFS" accepted.
2024-03-30 13:29:03.139 +05:00 [DBG] Connection id "0HN2GIDQE6PFQ" started.
2024-03-30 13:29:03.141 +05:00 [DBG] Connection id "0HN2GIDQE6PFS" started.
2024-03-30 13:29:03.141 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:29:03.141 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:29:03.156 +05:00 [DBG] Connection id "0HN2GIDQE6PFQ" stopped.
2024-03-30 13:29:03.160 +05:00 [DBG] Connection id "0HN2GIDQE6PFQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:29:03.161 +05:00 [DBG] Connection id "0HN2GIDQE6PFR" stopped.
2024-03-30 13:29:03.161 +05:00 [DBG] Connection id "0HN2GIDQE6PFR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:29:03.198 +05:00 [DBG] Connection 0HN2GIDQE6PFS established using the following protocol: "Tls12"
2024-03-30 13:29:03.254 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 13:29:03.272 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 13:29:03.301 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 13:29:03.302 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:29:03.440 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 13:29:03.523 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 13:29:03.526 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 273.2532ms
2024-03-30 13:29:03.570 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 13:29:03.571 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 13:29:03.576 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.2067ms
2024-03-30 13:29:03.695 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 124.7919ms
2024-03-30 13:29:03.788 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 13:29:03.790 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 13:29:03.790 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:29:03.943 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.2295ms
2024-03-30 13:29:07.451 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0
2024-03-30 13:29:07.455 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-30 13:29:07.461 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-30 13:29:07.461 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:29:07.463 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:29:07.464 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:29:07.504 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:29:07.505 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:29:07.545 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 13:29:07.546 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:29:07.547 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:29:07.549 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:29:07.549 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:29:07.550 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:29:07.551 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:29:07.552 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:29:07.563 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 13:29:07.567 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 13:29:07.569 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:29:07.569 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:29:07.569 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 13:29:07.576 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 13:29:07.660 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:29:07.666 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:29:07.666 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:29:07.666 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:29:07.667 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 13:29:07.669 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Security.Claims.ClaimsPrincipal'.
2024-03-30 13:29:07.713 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 159.9873ms
2024-03-30 13:29:07.716 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:29:07.746 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.Subject.Claims.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(Stream utf8Json, T rootValue, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-30 13:29:07.754 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0 - 500 - text/plain;+charset=utf-8 303.7777ms
2024-03-30 13:31:33.841 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 13:31:33.894 +05:00 [DBG] Hosting starting
2024-03-30 13:31:33.909 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 13:31:33.916 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 13:31:33.922 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 13:31:33.923 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 13:31:33.923 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 13:31:33.923 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 13:31:33.927 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 13:31:33.929 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 13:31:33.930 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 13:31:33.930 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 13:31:33.930 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 13:31:33.937 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 13:31:33.940 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:31:33.942 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 13:31:33.944 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:31:33.949 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 13:31:33.950 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 13:31:33.951 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 13:31:33.951 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 13:31:34.066 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 13:31:34.066 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 13:31:34.066 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 13:31:34.066 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 13:31:34.066 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 13:31:34.068 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 13:31:34.069 +05:00 [INF] Hosting environment: Development
2024-03-30 13:31:34.069 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 13:31:34.069 +05:00 [DBG] Hosting started
2024-03-30 13:31:34.079 +05:00 [DBG] Connection id "0HN2GIF7DQKHS" accepted.
2024-03-30 13:31:34.080 +05:00 [DBG] Connection id "0HN2GIF7DQKHS" started.
2024-03-30 13:31:34.122 +05:00 [DBG] Connection id "0HN2GIF7DQKHS" received FIN.
2024-03-30 13:31:34.127 +05:00 [DBG] Connection id "0HN2GIF7DQKHT" accepted.
2024-03-30 13:31:34.127 +05:00 [DBG] Connection id "0HN2GIF7DQKHT" started.
2024-03-30 13:31:34.128 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:31:34.142 +05:00 [DBG] Connection id "0HN2GIF7DQKHS" stopped.
2024-03-30 13:31:34.145 +05:00 [DBG] Connection id "0HN2GIF7DQKHS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:31:34.162 +05:00 [DBG] Connection 0HN2GIF7DQKHT established using the following protocol: "Tls12"
2024-03-30 13:31:34.208 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 13:31:34.224 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 13:31:34.248 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 13:31:34.248 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:31:34.390 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 13:31:34.473 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 13:31:34.475 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 270.2757ms
2024-03-30 13:31:34.501 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 13:31:34.502 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 13:31:34.507 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.6018ms
2024-03-30 13:31:34.530 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.1226ms
2024-03-30 13:31:34.823 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 13:31:34.824 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 13:31:34.824 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:31:34.937 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.6844ms
2024-03-30 13:31:51.974 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0
2024-03-30 13:31:51.979 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-30 13:31:51.985 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-30 13:31:51.986 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:31:51.987 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:31:51.992 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:31:52.060 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:31:52.060 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:31:52.094 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 13:31:52.095 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:31:52.095 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:31:52.095 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:31:52.095 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:31:52.095 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:31:52.097 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:31:52.097 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:31:52.106 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 13:31:52.109 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 13:31:52.110 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:31:52.110 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:31:52.110 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 13:31:52.116 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 13:31:52.188 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:31:52.193 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:31:52.193 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:31:52.193 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:31:52.194 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 13:31:52.194 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2024-03-30 13:31:52.260 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 158.1461ms
2024-03-30 13:31:52.260 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:31:52.261 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0 - 200 - application/json;+charset=utf-8 286.4141ms
2024-03-30 13:33:46.902 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 13:33:46.971 +05:00 [DBG] Hosting starting
2024-03-30 13:33:46.987 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 13:33:46.994 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 13:33:47.001 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 13:33:47.002 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 13:33:47.002 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 13:33:47.003 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 13:33:47.008 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 13:33:47.011 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 13:33:47.011 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 13:33:47.011 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 13:33:47.011 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 13:33:47.021 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 13:33:47.023 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:33:47.028 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 13:33:47.029 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:33:47.034 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 13:33:47.036 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 13:33:47.037 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 13:33:47.037 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 13:33:47.148 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 13:33:47.148 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 13:33:47.149 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 13:33:47.149 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 13:33:47.149 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 13:33:47.150 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 13:33:47.151 +05:00 [INF] Hosting environment: Development
2024-03-30 13:33:47.151 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 13:33:47.151 +05:00 [DBG] Hosting started
2024-03-30 13:33:47.194 +05:00 [DBG] Connection id "0HN2GIGF3A31N" accepted.
2024-03-30 13:33:47.195 +05:00 [DBG] Connection id "0HN2GIGF3A31N" started.
2024-03-30 13:33:47.202 +05:00 [DBG] Connection id "0HN2GIGF3A31O" accepted.
2024-03-30 13:33:47.202 +05:00 [DBG] Connection id "0HN2GIGF3A31O" started.
2024-03-30 13:33:47.210 +05:00 [DBG] Connection id "0HN2GIGF3A31O" received FIN.
2024-03-30 13:33:47.214 +05:00 [DBG] Connection id "0HN2GIGF3A31N" received FIN.
2024-03-30 13:33:47.215 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:33:47.221 +05:00 [DBG] Connection id "0HN2GIGF3A31P" accepted.
2024-03-30 13:33:47.227 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:33:47.230 +05:00 [DBG] Connection id "0HN2GIGF3A31P" started.
2024-03-30 13:33:47.235 +05:00 [DBG] Connection id "0HN2GIGF3A31O" stopped.
2024-03-30 13:33:47.235 +05:00 [DBG] Connection id "0HN2GIGF3A31N" stopped.
2024-03-30 13:33:47.238 +05:00 [DBG] Connection id "0HN2GIGF3A31N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:33:47.238 +05:00 [DBG] Connection id "0HN2GIGF3A31O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:33:47.267 +05:00 [DBG] Connection 0HN2GIGF3A31P established using the following protocol: "Tls12"
2024-03-30 13:33:47.316 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 13:33:47.333 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 13:33:47.357 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 13:33:47.358 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:33:47.519 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 13:33:47.620 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 13:33:47.630 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 317.2165ms
2024-03-30 13:33:47.644 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 13:33:47.650 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 13:33:47.656 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.6962ms
2024-03-30 13:33:47.699 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.6800ms
2024-03-30 13:33:47.821 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 13:33:47.825 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 13:33:47.825 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:33:47.976 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.1924ms
2024-03-30 13:33:52.824 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0
2024-03-30 13:33:52.834 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-30 13:33:52.839 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-30 13:33:52.840 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:33:52.843 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:33:52.844 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:33:52.880 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:33:52.883 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:33:52.916 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 13:33:52.917 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:33:52.917 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:33:52.918 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:33:52.918 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:33:52.918 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:33:52.919 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:33:52.920 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:33:52.928 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 13:33:52.932 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 13:33:52.933 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:33:52.933 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:33:52.933 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 13:33:52.940 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 13:33:53.103 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:33:53.109 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:33:53.109 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:33:53.109 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:33:53.110 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-30 13:33:53.111 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-30 13:33:53.117 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 193.4595ms
2024-03-30 13:33:53.117 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:33:53.117 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0 - 204 - - 293.5227ms
2024-03-30 13:34:11.584 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 13:34:11.643 +05:00 [DBG] Hosting starting
2024-03-30 13:34:11.664 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 13:34:11.675 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 13:34:11.683 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 13:34:11.683 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 13:34:11.684 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 13:34:11.684 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 13:34:11.691 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 13:34:11.694 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 13:34:11.694 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 13:34:11.695 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 13:34:11.695 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 13:34:11.704 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 13:34:11.708 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:34:11.710 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 13:34:11.712 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:34:11.717 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 13:34:11.717 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 13:34:11.719 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 13:34:11.719 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 13:34:11.870 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 13:34:11.870 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 13:34:11.870 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 13:34:11.870 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 13:34:11.870 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 13:34:11.873 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 13:34:11.874 +05:00 [INF] Hosting environment: Development
2024-03-30 13:34:11.874 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 13:34:11.874 +05:00 [DBG] Hosting started
2024-03-30 13:34:12.087 +05:00 [DBG] Connection id "0HN2GIGMGMR3R" received FIN.
2024-03-30 13:34:12.092 +05:00 [DBG] Connection id "0HN2GIGMGMR3R" accepted.
2024-03-30 13:34:12.092 +05:00 [DBG] Connection id "0HN2GIGMGMR3S" received FIN.
2024-03-30 13:34:12.092 +05:00 [DBG] Connection id "0HN2GIGMGMR3S" accepted.
2024-03-30 13:34:12.093 +05:00 [DBG] Connection id "0HN2GIGMGMR3R" started.
2024-03-30 13:34:12.097 +05:00 [DBG] Connection id "0HN2GIGMGMR3T" accepted.
2024-03-30 13:34:12.097 +05:00 [DBG] Connection id "0HN2GIGMGMR3S" started.
2024-03-30 13:34:12.100 +05:00 [DBG] Connection id "0HN2GIGMGMR3T" started.
2024-03-30 13:34:12.107 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:34:12.107 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:34:12.122 +05:00 [DBG] Connection id "0HN2GIGMGMR3R" stopped.
2024-03-30 13:34:12.122 +05:00 [DBG] Connection id "0HN2GIGMGMR3S" stopped.
2024-03-30 13:34:12.125 +05:00 [DBG] Connection id "0HN2GIGMGMR3S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:34:12.128 +05:00 [DBG] Connection id "0HN2GIGMGMR3R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:34:12.143 +05:00 [DBG] Connection 0HN2GIGMGMR3T established using the following protocol: "Tls12"
2024-03-30 13:34:12.201 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 13:34:12.220 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 13:34:12.254 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 13:34:12.254 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:34:12.409 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 13:34:12.503 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 13:34:12.505 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 13:34:12.505 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 13:34:12.505 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 309.9438ms
2024-03-30 13:34:12.514 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 8.2387ms
2024-03-30 13:34:12.553 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.0699ms
2024-03-30 13:34:12.686 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 13:34:12.687 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 13:34:12.687 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:34:12.812 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 126.0555ms
2024-03-30 13:34:17.535 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0
2024-03-30 13:34:17.540 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-30 13:34:17.544 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-30 13:34:17.545 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:34:17.547 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:34:17.550 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:34:17.588 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:34:17.589 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:34:17.628 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 13:34:17.629 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:34:17.630 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:34:17.630 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:34:17.630 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:34:17.630 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:34:17.634 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:34:17.635 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:34:17.645 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 13:34:17.650 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 13:34:17.652 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:34:17.652 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:34:17.652 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 13:34:17.659 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 13:34:17.750 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:34:17.752 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:34:17.752 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:34:17.752 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:34:17.753 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-30 13:34:17.754 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-30 13:34:17.761 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 124.5965ms
2024-03-30 13:34:17.762 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:34:17.762 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0 - 200 - text/plain;+charset=utf-8 227.7638ms
2024-03-30 13:37:10.169 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 13:37:10.221 +05:00 [DBG] Hosting starting
2024-03-30 13:37:10.236 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 13:37:10.243 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 13:37:10.248 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 13:37:10.249 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 13:37:10.249 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 13:37:10.249 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 13:37:10.253 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 13:37:10.256 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 13:37:10.257 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 13:37:10.257 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 13:37:10.257 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 13:37:10.263 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 13:37:10.266 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:37:10.269 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 13:37:10.270 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 13:37:10.274 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 13:37:10.275 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 13:37:10.276 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 13:37:10.277 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 13:37:10.386 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 13:37:10.386 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 13:37:10.386 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 13:37:10.386 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 13:37:10.386 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 13:37:10.388 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 13:37:10.388 +05:00 [INF] Hosting environment: Development
2024-03-30 13:37:10.388 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 13:37:10.388 +05:00 [DBG] Hosting started
2024-03-30 13:37:10.468 +05:00 [DBG] Connection id "0HN2GIIBLS819" accepted.
2024-03-30 13:37:10.468 +05:00 [DBG] Connection id "0HN2GIIBLS819" started.
2024-03-30 13:37:10.480 +05:00 [DBG] Connection id "0HN2GIIBLS819" received FIN.
2024-03-30 13:37:10.483 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:37:10.490 +05:00 [DBG] Connection id "0HN2GIIBLS81A" accepted.
2024-03-30 13:37:10.497 +05:00 [DBG] Connection id "0HN2GIIBLS81A" started.
2024-03-30 13:37:10.501 +05:00 [DBG] Connection id "0HN2GIIBLS819" stopped.
2024-03-30 13:37:10.503 +05:00 [DBG] Connection id "0HN2GIIBLS819" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:37:10.531 +05:00 [DBG] Connection 0HN2GIIBLS81A established using the following protocol: "Tls12"
2024-03-30 13:37:10.577 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 13:37:10.593 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 13:37:10.617 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 13:37:10.618 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:37:10.753 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 13:37:10.824 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 13:37:10.827 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 252.1040ms
2024-03-30 13:37:10.854 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 13:37:10.874 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.9141ms
2024-03-30 13:37:10.882 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 13:37:10.887 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.8861ms
2024-03-30 13:37:11.125 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 13:37:11.126 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 13:37:11.126 +05:00 [DBG] Request did not match any endpoints
2024-03-30 13:37:11.243 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 118.0449ms
2024-03-30 13:37:15.961 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0
2024-03-30 13:37:15.965 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-30 13:37:15.970 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-30 13:37:15.971 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:37:15.974 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:37:15.977 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:37:16.011 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:37:16.017 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:37:16.049 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 13:37:16.051 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:37:16.051 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:37:16.052 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:37:16.052 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:37:16.052 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:37:16.053 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:37:16.054 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:37:16.064 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 13:37:16.068 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 13:37:16.069 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:37:16.069 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:37:16.069 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 13:37:16.076 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 13:37:16.170 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:37:16.171 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:37:16.171 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:37:16.172 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:37:16.175 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-30 13:37:16.176 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-30 13:37:16.184 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 125.4248ms
2024-03-30 13:37:16.185 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 13:37:16.186 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/post?code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOYW1lIjoidXNlcjEiLCJSb2xlIjoiMiIsIm5iZiI6MTcxMTc4NzAyOSwiZXhwIjoxNzExNzg4ODI5LCJpYXQiOjE3MTE3ODcwMjksImlzcyI6ImJlcnJ5c3R1ZGlvIiwiYXVkIjoiYmVycnljbGllbnQifQ.hsglDtUAe08AYGOywWsJKuM3tsFw_trzMAwt6Niw5jQ - 0 - 200 - text/plain;+charset=utf-8 225.0141ms
2024-03-30 13:37:23.520 +05:00 [DBG] Connection id "0HN2GIIBLS81B" accepted.
2024-03-30 13:37:23.520 +05:00 [DBG] Connection id "0HN2GIIBLS81B" started.
2024-03-30 13:37:23.521 +05:00 [DBG] Connection id "0HN2GIIBLS81B" received FIN.
2024-03-30 13:37:23.521 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 13:37:23.521 +05:00 [DBG] Connection id "0HN2GIIBLS81C" accepted.
2024-03-30 13:37:23.522 +05:00 [DBG] Connection id "0HN2GIIBLS81B" stopped.
2024-03-30 13:37:23.522 +05:00 [DBG] Connection id "0HN2GIIBLS81C" started.
2024-03-30 13:37:23.522 +05:00 [DBG] Connection id "0HN2GIIBLS81B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:37:23.529 +05:00 [DBG] Connection 0HN2GIIBLS81C established using the following protocol: "Tls12"
2024-03-30 13:37:23.542 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:37:23.542 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:37:23.542 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:37:23.542 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:37:23.543 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:37:23.547 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:37:23.549 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 13:37:23.553 +05:00 [DBG] Authorization was successful.
2024-03-30 13:37:23.553 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:37:23.555 +05:00 [INF] Route matched with {action = "Get", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 13:37:23.555 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:37:23.555 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:37:23.555 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:37:23.555 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:37:23.555 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:37:23.556 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:37:23.556 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:37:23.557 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:37:23.557 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:37:23.557 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:37:23.557 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:37:23.557 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-30 13:37:23.557 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-30 13:37:23.558 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1) in 2.7706ms
2024-03-30 13:37:23.559 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:37:23.559 +05:00 [DBG] Connection id "0HN2GIIBLS81C" completed keep alive response.
2024-03-30 13:37:23.559 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 200 - text/plain;+charset=utf-8 16.8694ms
2024-03-30 13:39:34.747 +05:00 [DBG] Connection id "0HN2GIIBLS81C" disconnecting.
2024-03-30 13:39:34.748 +05:00 [DBG] Connection id "0HN2GIIBLS81C" stopped.
2024-03-30 13:39:34.749 +05:00 [DBG] Connection id "0HN2GIIBLS81C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:40:06.589 +05:00 [DBG] Connection id "0HN2GIIBLS81A" received FIN.
2024-03-30 13:40:06.591 +05:00 [DBG] The connection queue processing loop for 0HN2GIIBLS81A completed.
2024-03-30 13:40:06.594 +05:00 [DBG] Connection id "0HN2GIIBLS81A" is closed. The last processed stream ID was 23.
2024-03-30 13:40:06.594 +05:00 [DBG] Connection id "0HN2GIIBLS81A" sending FIN because: "The client closed the connection."
2024-03-30 13:40:06.595 +05:00 [DBG] Connection id "0HN2GIIBLS81A" stopped.
2024-03-30 13:55:00.748 +05:00 [DBG] Connection id "0HN2GIIBLS81D" accepted.
2024-03-30 13:55:00.749 +05:00 [DBG] Connection id "0HN2GIIBLS81D" started.
2024-03-30 13:55:00.757 +05:00 [DBG] Connection 0HN2GIIBLS81D established using the following protocol: "Tls12"
2024-03-30 13:55:00.762 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:55:00.762 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:55:00.762 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:55:00.762 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:55:00.763 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:55:00.765 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:55:00.765 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 13:55:00.768 +05:00 [DBG] Authorization was successful.
2024-03-30 13:55:00.769 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:55:00.769 +05:00 [INF] Route matched with {action = "Get", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 13:55:00.770 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:55:00.770 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:55:00.770 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:55:00.770 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:55:00.770 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:55:00.770 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:55:00.770 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:55:00.770 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:55:00.770 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:55:00.770 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:55:00.770 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:55:00.771 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-30 13:55:00.771 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-30 13:55:00.771 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1) in 0.6498ms
2024-03-30 13:55:00.771 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:55:00.771 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 200 - text/plain;+charset=utf-8 8.8008ms
2024-03-30 13:55:00.771 +05:00 [DBG] Connection id "0HN2GIIBLS81D" disconnecting.
2024-03-30 13:55:00.771 +05:00 [DBG] Connection id "0HN2GIIBLS81D" stopped.
2024-03-30 13:55:00.771 +05:00 [DBG] Connection id "0HN2GIIBLS81D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:55:03.090 +05:00 [DBG] Connection id "0HN2GIIBLS81E" accepted.
2024-03-30 13:55:03.090 +05:00 [DBG] Connection id "0HN2GIIBLS81E" started.
2024-03-30 13:55:03.093 +05:00 [DBG] Connection 0HN2GIIBLS81E established using the following protocol: "Tls12"
2024-03-30 13:55:03.093 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:55:03.094 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:55:03.094 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:55:03.094 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:55:03.094 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:55:03.094 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:55:03.094 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 13:55:03.094 +05:00 [DBG] Authorization was successful.
2024-03-30 13:55:03.095 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:55:03.095 +05:00 [INF] Route matched with {action = "Get", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 13:55:03.095 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:55:03.095 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:55:03.095 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:55:03.095 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:55:03.095 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:55:03.095 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:55:03.095 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:55:03.095 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:55:03.096 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:55:03.096 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:55:03.096 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:55:03.096 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-30 13:55:03.096 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-30 13:55:03.096 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1) in 0.5323ms
2024-03-30 13:55:03.096 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:55:03.096 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 200 - text/plain;+charset=utf-8 2.6363ms
2024-03-30 13:55:03.096 +05:00 [DBG] Connection id "0HN2GIIBLS81E" disconnecting.
2024-03-30 13:55:03.096 +05:00 [DBG] Connection id "0HN2GIIBLS81E" stopped.
2024-03-30 13:55:03.096 +05:00 [DBG] Connection id "0HN2GIIBLS81E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:55:03.663 +05:00 [DBG] Connection id "0HN2GIIBLS81F" accepted.
2024-03-30 13:55:03.663 +05:00 [DBG] Connection id "0HN2GIIBLS81F" started.
2024-03-30 13:55:03.665 +05:00 [DBG] Connection 0HN2GIIBLS81F established using the following protocol: "Tls12"
2024-03-30 13:55:03.665 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 13:55:03.665 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 13:55:03.665 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 13:55:03.665 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:55:03.666 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:55:03.667 +05:00 [DBG] Successfully validated the token.
2024-03-30 13:55:03.668 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 13:55:03.668 +05:00 [DBG] Authorization was successful.
2024-03-30 13:55:03.668 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:55:03.668 +05:00 [INF] Route matched with {action = "Get", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 13:55:03.668 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:55:03.668 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:55:03.668 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:55:03.668 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:55:03.668 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:55:03.668 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:55:03.668 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 13:55:03.668 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:55:03.668 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:55:03.668 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:55:03.669 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:55:03.669 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-30 13:55:03.669 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-30 13:55:03.669 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1) in 0.7796ms
2024-03-30 13:55:03.669 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 13:55:03.669 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 200 - text/plain;+charset=utf-8 3.9980ms
2024-03-30 13:55:03.669 +05:00 [DBG] Connection id "0HN2GIIBLS81F" disconnecting.
2024-03-30 13:55:03.669 +05:00 [DBG] Connection id "0HN2GIIBLS81F" stopped.
2024-03-30 13:55:03.669 +05:00 [DBG] Connection id "0HN2GIIBLS81F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 13:56:46.520 +05:00 [DBG] Connection id "0HN2GIIBLS81G" accepted.
2024-03-30 13:56:46.520 +05:00 [DBG] Connection id "0HN2GIIBLS81G" started.
2024-03-30 13:56:46.541 +05:00 [DBG] Connection 0HN2GIIBLS81G established using the following protocol: "Tls12"
2024-03-30 13:56:46.546 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-30 13:56:46.546 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-30 13:56:46.546 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-30 13:56:46.546 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 13:56:46.546 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:56:46.546 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:56:46.547 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:56:46.547 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 13:56:46.556 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 13:56:46.556 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:56:46.556 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:56:46.556 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:56:46.556 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:56:46.556 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:56:46.556 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 13:56:46.739 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 13:56:46.789 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 13:56:46.790 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 13:56:46.794 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-30 13:56:46.797 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-30 13:56:46.810 +05:00 [DBG] Connection id "0HN2GIIBLS81G", Request id "0HN2GIIBLS81G:0000000F": started reading request body.
2024-03-30 13:56:46.811 +05:00 [DBG] Connection id "0HN2GIIBLS81G", Request id "0HN2GIIBLS81G:0000000F": done reading request body.
2024-03-30 13:56:46.814 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-30 13:56:46.815 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 13:56:46.815 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 13:56:46.815 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 13:56:46.822 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 13:56:47.362 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 13:56:47.363 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 13:56:47.640 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 13:56:47.678 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-30 13:56:47.868 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 13:56:47.913 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 13:56:47.915 +05:00 [DBG] Creating DbConnection.
2024-03-30 13:56:47.923 +05:00 [DBG] Created DbConnection. (4ms).
2024-03-30 13:56:47.928 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2024-03-30 13:56:47.936 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2024-03-30 13:56:47.940 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:56:48.196 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:56:48.207 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 13:56:48.229 +05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 13:56:48.273 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 13:56:48.306 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 13:56:48.312 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 76ms reading results.
2024-03-30 13:56:48.314 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:56:48.320 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (5ms).
2024-03-30 13:56:48.331 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdUser") == __p_0)'
2024-03-30 13:56:48.342 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 13:56:48.344 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 13:56:48.344 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:56:48.344 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:56:48.344 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:56:48.351 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:56:48.351 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 13:56:48.353 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__p_0
LIMIT 1
2024-03-30 13:56:48.354 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 13:56:48.354 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 13:56:48.354 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:56:48.354 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 13:56:48.355 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 30.03.2024 13:56:48
2024-03-30 13:56:49.206 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:56:49.206 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:56:49.207 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:56:49.207 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:56:49.207 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-30 13:56:49.207 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-30 13:56:49.207 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 2650.8011ms
2024-03-30 13:56:49.208 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 13:56:49.211 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 13:56:49.214 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:56:49.215 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-30 13:56:49.215 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 2669.6500ms
2024-03-30 13:57:04.344 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=560310 - 0
2024-03-30 13:57:04.345 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-30 13:57:04.345 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-30 13:57:04.346 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 13:57:04.346 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 13:57:04.346 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 13:57:04.346 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 13:57:04.346 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 13:57:04.351 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 13:57:04.351 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 13:57:04.351 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 13:57:04.351 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 13:57:04.351 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 13:57:04.351 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 13:57:04.351 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 13:57:04.352 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 13:57:04.353 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 13:57:04.353 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 13:57:04.353 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:57:04.353 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 13:57:04.353 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 13:57:04.354 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 13:57:04.381 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 13:57:04.382 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(item => item.IdUser == __userId_0)'
2024-03-30 13:57:04.387 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdUser (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdDevice (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_User, t.id_Device, t.Token
            FROM Token AS t
            WHERE t.id_User == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 13:57:04.388 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 13:57:04.388 +05:00 [DBG] Creating DbConnection.
2024-03-30 13:57:04.388 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 13:57:04.389 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:57:04.389 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-03-30 13:57:04.389 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:57:04.390 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:57:04.390 +05:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 13:57:04.393 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_User`, `t`.`id_Device`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_User` = @__userId_0
LIMIT 1
2024-03-30 13:57:04.397 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 13:57:04.404 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 13:57:04.404 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 10ms reading results.
2024-03-30 13:57:04.404 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:57:04.404 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 13:57:04.407 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 13:57:04.411 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 13:57:04.424 +05:00 [DBG] The unchanged property 'Token.Token1' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-30 13:57:04.432 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 13:57:04.434 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 13:57:04.489 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:57:04.490 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:57:04.494 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 13:57:04.494 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:57:04.494 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 13:57:04.495 +05:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 13:57:04.512 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@p1='?' (Size = 250), @p0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Token` SET `Token` = @p0
WHERE `id_User` = @p1;
2024-03-30 13:57:04.515 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 13:57:04.516 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 2ms reading results.
2024-03-30 13:57:04.518 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:57:04.518 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 13:57:04.523 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 13:57:04.528 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 13:57:04.529 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 13:57:04.529 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 13:57:04.529 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 13:57:04.529 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 13:57:04.529 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 13:57:04.529 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-30 13:57:04.539 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 187.8423ms
2024-03-30 13:57:04.539 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 13:57:04.539 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 13:57:04.540 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 13:57:04.540 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 13:57:04.540 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=560310 - 0 - 200 - application/json;+charset=utf-8 195.8227ms
2024-03-30 13:59:55.499 +05:00 [DBG] Connection id "0HN2GIIBLS81G" received FIN.
2024-03-30 13:59:55.499 +05:00 [DBG] Connection id "0HN2GIIBLS81G" is closed. The last processed stream ID was 17.
2024-03-30 13:59:55.499 +05:00 [DBG] Connection id "0HN2GIIBLS81G" sending FIN because: "The client closed the connection."
2024-03-30 13:59:55.499 +05:00 [DBG] The connection queue processing loop for 0HN2GIIBLS81G completed.
2024-03-30 13:59:55.500 +05:00 [DBG] Connection id "0HN2GIIBLS81G" stopped.
2024-03-30 14:10:52.207 +05:00 [DBG] Connection id "0HN2GIIBLS81H" received FIN.
2024-03-30 14:10:52.211 +05:00 [DBG] Connection id "0HN2GIIBLS81H" accepted.
2024-03-30 14:10:52.216 +05:00 [DBG] Connection id "0HN2GIIBLS81I" accepted.
2024-03-30 14:10:52.216 +05:00 [DBG] Connection id "0HN2GIIBLS81H" started.
2024-03-30 14:10:52.221 +05:00 [DBG] Connection id "0HN2GIIBLS81I" started.
2024-03-30 14:10:52.221 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 14:10:52.222 +05:00 [DBG] Connection id "0HN2GIIBLS81H" stopped.
2024-03-30 14:10:52.222 +05:00 [DBG] Connection id "0HN2GIIBLS81H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 14:10:52.232 +05:00 [DBG] Connection 0HN2GIIBLS81I established using the following protocol: "Tls12"
2024-03-30 14:10:52.233 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 14:10:52.234 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 14:10:52.234 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 14:10:52.234 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:10:52.234 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 14:10:52.235 +05:00 [DBG] Successfully validated the token.
2024-03-30 14:10:52.235 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 14:10:52.235 +05:00 [DBG] Authorization was successful.
2024-03-30 14:10:52.235 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:10:52.235 +05:00 [INF] Route matched with {action = "Get", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 14:10:52.235 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 14:10:52.235 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 14:10:52.235 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 14:10:52.235 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 14:10:52.235 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 14:10:52.235 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 14:10:52.235 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 14:10:52.235 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 14:10:52.236 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 14:10:52.236 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 14:10:52.236 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 14:10:52.236 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-30 14:10:52.236 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-30 14:10:52.236 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1) in 0.4721ms
2024-03-30 14:10:52.236 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:10:52.236 +05:00 [DBG] Connection id "0HN2GIIBLS81I" completed keep alive response.
2024-03-30 14:10:52.236 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 200 - text/plain;+charset=utf-8 3.1316ms
2024-03-30 14:10:53.594 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 14:10:53.594 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 14:10:53.594 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 14:10:53.594 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:10:53.594 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 14:10:53.594 +05:00 [DBG] Successfully validated the token.
2024-03-30 14:10:53.594 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 14:10:53.595 +05:00 [DBG] Authorization was successful.
2024-03-30 14:10:53.595 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:10:53.595 +05:00 [INF] Route matched with {action = "Get", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 14:10:53.595 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 14:10:53.595 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 14:10:53.595 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 14:10:53.595 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 14:10:53.595 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 14:10:53.595 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 14:10:53.595 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 14:10:53.595 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 14:10:53.595 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 14:10:53.595 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 14:10:53.595 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 14:10:53.595 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-30 14:10:53.595 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-30 14:10:53.595 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1) in 0.4986ms
2024-03-30 14:10:53.596 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:10:53.596 +05:00 [DBG] Connection id "0HN2GIIBLS81I" completed keep alive response.
2024-03-30 14:10:53.596 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 200 - text/plain;+charset=utf-8 1.7341ms
2024-03-30 14:10:54.314 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 14:10:54.314 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 14:10:54.314 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 14:10:54.314 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:10:54.314 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 14:10:54.314 +05:00 [DBG] Successfully validated the token.
2024-03-30 14:10:54.314 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 14:10:54.314 +05:00 [DBG] Authorization was successful.
2024-03-30 14:10:54.314 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:10:54.315 +05:00 [INF] Route matched with {action = "Get", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 14:10:54.315 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 14:10:54.315 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 14:10:54.315 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 14:10:54.315 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 14:10:54.315 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 14:10:54.315 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 14:10:54.315 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 14:10:54.315 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 14:10:54.315 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 14:10:54.315 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 14:10:54.315 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 14:10:54.315 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-30 14:10:54.316 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-30 14:10:54.316 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1) in 0.9578ms
2024-03-30 14:10:54.316 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:10:54.316 +05:00 [DBG] Connection id "0HN2GIIBLS81I" completed keep alive response.
2024-03-30 14:10:54.316 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 200 - text/plain;+charset=utf-8 2.2994ms
2024-03-30 14:13:05.653 +05:00 [DBG] Connection id "0HN2GIIBLS81I" disconnecting.
2024-03-30 14:13:05.654 +05:00 [DBG] Connection id "0HN2GIIBLS81I" stopped.
2024-03-30 14:13:05.654 +05:00 [DBG] Connection id "0HN2GIIBLS81I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 14:22:23.652 +05:00 [DBG] Connection id "0HN2GIIBLS81J" received FIN.
2024-03-30 14:22:23.653 +05:00 [DBG] Connection id "0HN2GIIBLS81J" accepted.
2024-03-30 14:22:23.653 +05:00 [DBG] Connection id "0HN2GIIBLS81K" accepted.
2024-03-30 14:22:23.653 +05:00 [DBG] Connection id "0HN2GIIBLS81J" started.
2024-03-30 14:22:23.653 +05:00 [DBG] Connection id "0HN2GIIBLS81K" started.
2024-03-30 14:22:23.672 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 14:22:23.673 +05:00 [DBG] Connection id "0HN2GIIBLS81J" stopped.
2024-03-30 14:22:23.673 +05:00 [DBG] Connection id "0HN2GIIBLS81J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 14:22:23.673 +05:00 [DBG] Connection 0HN2GIIBLS81K established using the following protocol: "Tls12"
2024-03-30 14:22:23.673 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 14:22:23.673 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 14:22:23.673 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 14:22:23.673 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:22:23.674 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 14:22:23.674 +05:00 [DBG] Successfully validated the token.
2024-03-30 14:22:23.674 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 14:22:23.674 +05:00 [DBG] Authorization was successful.
2024-03-30 14:22:23.674 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:22:23.674 +05:00 [INF] Route matched with {action = "Get", controller = "Authorize"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 14:22:23.674 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 14:22:23.674 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 14:22:23.674 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 14:22:23.674 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 14:22:23.674 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 14:22:23.674 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 14:22:23.674 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 14:22:23.675 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 14:22:23.675 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 14:22:23.675 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 14:22:23.675 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 14:22:23.675 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-30 14:22:23.675 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-30 14:22:23.676 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1) in 1.5198ms
2024-03-30 14:22:23.676 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:22:23.676 +05:00 [DBG] Connection id "0HN2GIIBLS81K" completed keep alive response.
2024-03-30 14:22:23.676 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 200 - text/plain;+charset=utf-8 2.6827ms
2024-03-30 14:24:34.796 +05:00 [DBG] Connection id "0HN2GIIBLS81K" disconnecting.
2024-03-30 14:24:34.796 +05:00 [DBG] Connection id "0HN2GIIBLS81K" stopped.
2024-03-30 14:24:34.796 +05:00 [DBG] Connection id "0HN2GIIBLS81K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 14:27:17.194 +05:00 [DBG] Connection id "0HN2GIIBLS81L" received FIN.
2024-03-30 14:27:17.194 +05:00 [DBG] Connection id "0HN2GIIBLS81L" accepted.
2024-03-30 14:27:17.194 +05:00 [DBG] Connection id "0HN2GIIBLS81M" accepted.
2024-03-30 14:27:17.194 +05:00 [DBG] Connection id "0HN2GIIBLS81L" started.
2024-03-30 14:27:17.194 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 14:27:17.195 +05:00 [DBG] Connection id "0HN2GIIBLS81L" stopped.
2024-03-30 14:27:17.195 +05:00 [DBG] Connection id "0HN2GIIBLS81M" started.
2024-03-30 14:27:17.195 +05:00 [DBG] Connection id "0HN2GIIBLS81L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 14:27:17.198 +05:00 [DBG] Connection 0HN2GIIBLS81M established using the following protocol: "Tls12"
2024-03-30 14:27:17.198 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth - -
2024-03-30 14:27:17.198 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-30 14:27:17.198 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-30 14:27:17.198 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.Get (BerryMusicV1)'
2024-03-30 14:27:17.198 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 14:27:17.201 +05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30.03.2024 8:53:49', Current time (UTC): '30.03.2024 9:27:17'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-03-30 14:27:17.203 +05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '30.03.2024 8:53:49', Current time (UTC): '30.03.2024 9:27:17'.
2024-03-30 14:27:17.204 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-30 14:27:17.208 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-30 14:27:17.208 +05:00 [DBG] Connection id "0HN2GIIBLS81M" completed keep alive response.
2024-03-30 14:27:17.208 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth - - - 401 0 - 10.0875ms
2024-03-30 14:29:28.872 +05:00 [DBG] Connection id "0HN2GIIBLS81M" disconnecting.
2024-03-30 14:29:28.872 +05:00 [DBG] Connection id "0HN2GIIBLS81M" stopped.
2024-03-30 14:29:28.872 +05:00 [DBG] Connection id "0HN2GIIBLS81M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 14:42:07.118 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 14:42:07.170 +05:00 [DBG] Hosting starting
2024-03-30 14:42:07.187 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 14:42:07.193 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 14:42:07.199 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 14:42:07.199 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 14:42:07.200 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 14:42:07.200 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 14:42:07.205 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 14:42:07.208 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 14:42:07.208 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 14:42:07.208 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 14:42:07.208 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 14:42:07.216 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 14:42:07.220 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 14:42:07.223 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 14:42:07.225 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 14:42:07.229 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 14:42:07.230 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 14:42:07.231 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 14:42:07.231 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 14:42:07.344 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 14:42:07.344 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 14:42:07.345 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 14:42:07.345 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 14:42:07.345 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 14:42:07.346 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 14:42:07.347 +05:00 [INF] Hosting environment: Development
2024-03-30 14:42:07.347 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 14:42:07.347 +05:00 [DBG] Hosting started
2024-03-30 14:42:07.646 +05:00 [DBG] Connection id "0HN2GJML48L4R" accepted.
2024-03-30 14:42:07.647 +05:00 [DBG] Connection id "0HN2GJML48L4R" started.
2024-03-30 14:42:09.302 +05:00 [DBG] Connection 0HN2GJML48L4R established using the following protocol: "Tls12"
2024-03-30 14:42:09.373 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 14:42:09.394 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 14:42:09.419 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 14:42:09.419 +05:00 [DBG] Request did not match any endpoints
2024-03-30 14:42:09.568 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 14:42:09.696 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 14:42:09.699 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 329.0963ms
2024-03-30 14:42:12.307 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 14:42:12.312 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.1200ms
2024-03-30 14:42:12.755 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 14:42:13.180 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 424.8756ms
2024-03-30 14:42:13.550 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 14:42:13.551 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 14:42:13.551 +05:00 [DBG] Request did not match any endpoints
2024-03-30 14:42:13.702 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.6183ms
2024-03-30 14:45:08.846 +05:00 [DBG] Connection id "0HN2GJML48L4R" received FIN.
2024-03-30 14:45:08.849 +05:00 [DBG] The connection queue processing loop for 0HN2GJML48L4R completed.
2024-03-30 14:45:08.852 +05:00 [DBG] Connection id "0HN2GJML48L4R" is closed. The last processed stream ID was 21.
2024-03-30 14:45:08.852 +05:00 [DBG] Connection id "0HN2GJML48L4R" sending FIN because: "The client closed the connection."
2024-03-30 14:45:08.855 +05:00 [DBG] Connection id "0HN2GJML48L4R" stopped.
2024-03-30 15:54:01.015 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 15:54:01.081 +05:00 [DBG] Hosting starting
2024-03-30 15:54:01.095 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 15:54:01.101 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 15:54:01.107 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 15:54:01.107 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 15:54:01.108 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 15:54:01.108 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 15:54:01.113 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 15:54:01.116 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 15:54:01.116 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 15:54:01.116 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 15:54:01.117 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 15:54:01.123 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 15:54:01.126 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 15:54:01.130 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 15:54:01.131 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 15:54:01.135 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 15:54:01.136 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 15:54:01.137 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 15:54:01.138 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 15:54:01.275 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 15:54:01.275 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 15:54:01.275 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 15:54:01.275 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 15:54:01.275 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 15:54:01.277 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 15:54:01.278 +05:00 [INF] Hosting environment: Development
2024-03-30 15:54:01.278 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 15:54:01.278 +05:00 [DBG] Hosting started
2024-03-30 15:54:01.769 +05:00 [DBG] Connection id "0HN2GKUQQUFAJ" accepted.
2024-03-30 15:54:01.769 +05:00 [DBG] Connection id "0HN2GKUQQUFAI" accepted.
2024-03-30 15:54:01.770 +05:00 [DBG] Connection id "0HN2GKUQQUFAJ" started.
2024-03-30 15:54:01.770 +05:00 [DBG] Connection id "0HN2GKUQQUFAI" started.
2024-03-30 15:54:01.781 +05:00 [DBG] Connection id "0HN2GKUQQUFAJ" received FIN.
2024-03-30 15:54:01.782 +05:00 [DBG] Connection id "0HN2GKUQQUFAI" received FIN.
2024-03-30 15:54:01.789 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 15:54:01.789 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 15:54:01.807 +05:00 [DBG] Connection id "0HN2GKUQQUFAK" accepted.
2024-03-30 15:54:01.807 +05:00 [DBG] Connection id "0HN2GKUQQUFAK" started.
2024-03-30 15:54:01.810 +05:00 [DBG] Connection id "0HN2GKUQQUFAI" stopped.
2024-03-30 15:54:01.810 +05:00 [DBG] Connection id "0HN2GKUQQUFAJ" stopped.
2024-03-30 15:54:01.815 +05:00 [DBG] Connection id "0HN2GKUQQUFAI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:54:01.815 +05:00 [DBG] Connection id "0HN2GKUQQUFAJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:54:01.851 +05:00 [DBG] Connection 0HN2GKUQQUFAK established using the following protocol: "Tls12"
2024-03-30 15:54:01.913 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 15:54:01.933 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 15:54:01.989 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 15:54:01.990 +05:00 [DBG] Request did not match any endpoints
2024-03-30 15:54:02.135 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 15:54:02.230 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 15:54:02.233 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 323.8992ms
2024-03-30 15:54:02.280 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 15:54:02.283 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 15:54:02.286 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.3203ms
2024-03-30 15:54:02.326 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.7135ms
2024-03-30 15:54:02.447 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 15:54:02.452 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 15:54:02.452 +05:00 [DBG] Request did not match any endpoints
2024-03-30 15:54:02.607 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 159.7571ms
2024-03-30 15:54:15.284 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-30 15:54:15.290 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-30 15:54:15.296 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-30 15:54:15.297 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 15:54:15.299 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 15:54:15.301 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 15:54:15.332 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 15:54:15.334 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 15:54:15.372 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 15:54:15.374 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 15:54:15.374 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 15:54:15.374 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 15:54:15.374 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 15:54:15.374 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 15:54:15.375 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 15:54:15.540 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 15:54:15.573 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 15:54:15.579 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 15:54:15.582 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-30 15:54:15.583 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-30 15:54:15.596 +05:00 [DBG] Connection id "0HN2GKUQQUFAK", Request id "0HN2GKUQQUFAK:00000017": started reading request body.
2024-03-30 15:54:15.596 +05:00 [DBG] Connection id "0HN2GKUQQUFAK", Request id "0HN2GKUQQUFAK:00000017": done reading request body.
2024-03-30 15:54:15.599 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-30 15:54:15.600 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 15:54:15.600 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 15:54:15.600 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-30 15:54:15.609 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-30 15:54:16.135 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 15:54:16.136 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 15:54:16.418 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 15:54:16.455 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-30 15:54:16.668 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 15:54:16.722 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 15:54:16.724 +05:00 [DBG] Creating DbConnection.
2024-03-30 15:54:16.733 +05:00 [DBG] Created DbConnection. (3ms).
2024-03-30 15:54:16.744 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2024-03-30 15:54:16.752 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (33ms).
2024-03-30 15:54:16.759 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:17.055 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:17.065 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 15:54:17.084 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-30 15:54:17.125 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 15:54:17.157 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:17.164 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 72ms reading results.
2024-03-30 15:54:17.167 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:17.173 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (5ms).
2024-03-30 15:54:17.184 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdDevice") == __p_0)'
2024-03-30 15:54:17.198 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdDevice (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdUser (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_Device, t.id_User, t.Token
            FROM Token AS t
            WHERE t.id_Device == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 15:54:17.200 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 15:54:17.200 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 15:54:17.200 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 15:54:17.200 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:17.206 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:17.207 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_Device` = @__p_0
LIMIT 1
2024-03-30 15:54:17.212 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_Device` = @__p_0
LIMIT 1
2024-03-30 15:54:17.213 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:17.213 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 15:54:17.213 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:17.213 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 15:54:17.218 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 30.03.2024 15:54:17
2024-03-30 15:54:18.400 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 15:54:18.401 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 15:54:18.401 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 15:54:18.401 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 15:54:18.402 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-30 15:54:18.402 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-30 15:54:18.407 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 3029.0656ms
2024-03-30 15:54:18.407 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-30 15:54:18.410 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 15:54:18.413 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:18.415 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-30 15:54:18.415 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 3131.6927ms
2024-03-30 15:54:34.349 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=168522 - 0
2024-03-30 15:54:34.351 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-30 15:54:34.351 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-30 15:54:34.351 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 15:54:34.352 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 15:54:34.352 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 15:54:34.354 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 15:54:34.354 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 15:54:34.360 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-30 15:54:34.360 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 15:54:34.360 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 15:54:34.360 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 15:54:34.360 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 15:54:34.360 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 15:54:34.360 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 15:54:34.362 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-30 15:54:34.368 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 15:54:34.369 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 15:54:34.373 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 15:54:34.373 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 15:54:34.373 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 15:54:34.373 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 15:54:34.432 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 15:54:34.482 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 15:54:34.485 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 15:54:34.491 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 15:54:34.499 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 15:54:34.571 +05:00 [DBG] Creating DbConnection.
2024-03-30 15:54:34.571 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 15:54:34.572 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:34.573 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:34.587 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 15:54:34.602 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 15:54:34.606 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 15:54:34.606 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 15:54:34.607 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 15:54:34.607 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_Device`, `id_User`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-30 15:54:34.608 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_Device`, `id_User`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-30 15:54:34.611 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:34.612 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 4ms reading results.
2024-03-30 15:54:34.616 +05:00 [DBG] Committing transaction.
2024-03-30 15:54:34.672 +05:00 [DBG] Committed transaction.
2024-03-30 15:54:34.674 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:34.674 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 15:54:34.676 +05:00 [DBG] Disposing transaction.
2024-03-30 15:54:34.685 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 15:54:34.689 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 15:54:34.690 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 15:54:34.690 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 15:54:34.690 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 15:54:34.690 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 15:54:34.690 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 15:54:34.690 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-30 15:54:34.697 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 336.9114ms
2024-03-30 15:54:34.697 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-30 15:54:34.697 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 15:54:34.697 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 15:54:34.698 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 15:54:34.698 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=168522 - 0 - 200 - application/json;+charset=utf-8 348.8970ms
2024-03-30 15:55:25.310 +05:00 [DBG] Connection id "0HN2GKUQQUFAL" accepted.
2024-03-30 15:55:25.310 +05:00 [DBG] Connection id "0HN2GKUQQUFAL" started.
2024-03-30 15:55:25.313 +05:00 [DBG] Connection id "0HN2GKUQQUFAM" accepted.
2024-03-30 15:55:25.313 +05:00 [DBG] Connection id "0HN2GKUQQUFAL" received FIN.
2024-03-30 15:55:25.314 +05:00 [DBG] Connection id "0HN2GKUQQUFAM" started.
2024-03-30 15:55:25.314 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 15:55:25.314 +05:00 [DBG] Connection id "0HN2GKUQQUFAL" stopped.
2024-03-30 15:55:25.315 +05:00 [DBG] Connection id "0HN2GKUQQUFAL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:55:25.333 +05:00 [DBG] Connection 0HN2GKUQQUFAM established using the following protocol: "Tls12"
2024-03-30 15:55:25.348 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------337550179623208900167018 33139461
2024-03-30 15:55:25.348 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 15:55:25.348 +05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-03-30 15:55:25.348 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 15:55:25.352 +05:00 [DBG] Connection id "0HN2GKUQQUFAM" paused.
2024-03-30 15:55:25.392 +05:00 [DBG] Successfully validated the token.
2024-03-30 15:55:25.393 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 15:55:25.393 +05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-03-30 15:55:25.446 +05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-03-30 15:55:25.446 +05:00 [DBG] Connection id "0HN2GKUQQUFAM" completed keep alive response.
2024-03-30 15:55:25.447 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------337550179623208900167018 33139461 - 405 0 - 98.8961ms
2024-03-30 15:55:25.464 +05:00 [DBG] Connection id "0HN2GKUQQUFAM" bad request data: "Request body too large. The max request body size is 30000000 bytes."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request body too large. The max request body size is 30000000 bytes.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1ContentLengthMessageBody.OnReadStarting()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.MessageBody.TryStartAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.MessageBody.ConsumeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-03-30 15:55:25.476 +05:00 [DBG] Connection id "0HN2GKUQQUFAM" disconnecting.
2024-03-30 15:55:25.477 +05:00 [DBG] Connection id "0HN2GKUQQUFAM" stopped.
2024-03-30 15:55:25.478 +05:00 [DBG] Connection id "0HN2GKUQQUFAM" resumed.
2024-03-30 15:55:25.479 +05:00 [DBG] Connection id "0HN2GKUQQUFAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:56:23.358 +05:00 [DBG] Connection id "0HN2GKUQQUFAN" accepted.
2024-03-30 15:56:23.358 +05:00 [DBG] Connection id "0HN2GKUQQUFAN" started.
2024-03-30 15:56:23.363 +05:00 [DBG] Connection id "0HN2GKUQQUFAN" received FIN.
2024-03-30 15:56:23.363 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 15:56:23.364 +05:00 [DBG] Connection id "0HN2GKUQQUFAN" stopped.
2024-03-30 15:56:23.364 +05:00 [DBG] Connection id "0HN2GKUQQUFAN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:56:23.368 +05:00 [DBG] Connection id "0HN2GKUQQUFAO" accepted.
2024-03-30 15:56:23.368 +05:00 [DBG] Connection id "0HN2GKUQQUFAO" started.
2024-03-30 15:56:23.375 +05:00 [DBG] Connection 0HN2GKUQQUFAO established using the following protocol: "Tls12"
2024-03-30 15:56:23.382 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------562934793650184294517168 33139461
2024-03-30 15:56:23.383 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 15:56:23.383 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 15:56:23.384 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 15:56:23.384 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 15:56:23.385 +05:00 [DBG] Successfully validated the token.
2024-03-30 15:56:23.385 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 15:56:23.385 +05:00 [DBG] Connection id "0HN2GKUQQUFAO" paused.
2024-03-30 15:56:23.399 +05:00 [DBG] Authorization was successful.
2024-03-30 15:56:23.399 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 15:56:23.417 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 15:56:23.417 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 15:56:23.417 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 15:56:23.417 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 15:56:23.417 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 15:56:23.417 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 15:56:23.418 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 15:56:23.421 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 3.7673ms
2024-03-30 15:56:23.432 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 15:56:23.576 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'BerryMusicV1.Containers.AuthorizeService' while attempting to activate 'BerryMusicV1.Controllers.AuthorizeController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method112(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-30 15:56:23.600 +05:00 [DBG] Connection id "0HN2GKUQQUFAO" completed keep alive response.
2024-03-30 15:56:23.600 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------562934793650184294517168 33139461 - 500 - text/plain;+charset=utf-8 218.2685ms
2024-03-30 15:56:23.601 +05:00 [DBG] Connection id "0HN2GKUQQUFAO" bad request data: "Request body too large. The max request body size is 30000000 bytes."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request body too large. The max request body size is 30000000 bytes.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1ContentLengthMessageBody.OnReadStarting()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.MessageBody.TryStartAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.MessageBody.ConsumeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-03-30 15:56:23.601 +05:00 [DBG] Connection id "0HN2GKUQQUFAO" disconnecting.
2024-03-30 15:56:23.601 +05:00 [DBG] Connection id "0HN2GKUQQUFAO" stopped.
2024-03-30 15:56:23.601 +05:00 [DBG] Connection id "0HN2GKUQQUFAO" resumed.
2024-03-30 15:56:23.601 +05:00 [DBG] Connection id "0HN2GKUQQUFAO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:57:25.629 +05:00 [DBG] Connection id "0HN2GKUQQUFAK" received FIN.
2024-03-30 15:57:25.630 +05:00 [DBG] Connection id "0HN2GKUQQUFAK" is closed. The last processed stream ID was 25.
2024-03-30 15:57:25.630 +05:00 [DBG] Connection id "0HN2GKUQQUFAK" sending FIN because: "The client closed the connection."
2024-03-30 15:57:25.632 +05:00 [DBG] The connection queue processing loop for 0HN2GKUQQUFAK completed.
2024-03-30 15:57:25.632 +05:00 [DBG] Connection id "0HN2GKUQQUFAK" stopped.
2024-03-30 15:57:38.151 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 15:57:38.209 +05:00 [DBG] Hosting starting
2024-03-30 15:57:38.222 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 15:57:38.229 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 15:57:38.234 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 15:57:38.235 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 15:57:38.235 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 15:57:38.235 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 15:57:38.239 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 15:57:38.242 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 15:57:38.242 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 15:57:38.242 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 15:57:38.243 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 15:57:38.249 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 15:57:38.251 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 15:57:38.254 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 15:57:38.256 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 15:57:38.260 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 15:57:38.261 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 15:57:38.262 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 15:57:38.263 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 15:57:38.390 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 15:57:38.390 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 15:57:38.390 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 15:57:38.390 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 15:57:38.390 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 15:57:38.392 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 15:57:38.392 +05:00 [INF] Hosting environment: Development
2024-03-30 15:57:38.393 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 15:57:38.393 +05:00 [DBG] Hosting started
2024-03-30 15:57:38.609 +05:00 [DBG] Connection id "0HN2GL0RESTHF" accepted.
2024-03-30 15:57:38.610 +05:00 [DBG] Connection id "0HN2GL0RESTHF" started.
2024-03-30 15:57:38.633 +05:00 [DBG] Connection id "0HN2GL0RESTHG" accepted.
2024-03-30 15:57:38.634 +05:00 [DBG] Connection id "0HN2GL0RESTHG" started.
2024-03-30 15:57:38.639 +05:00 [DBG] Connection id "0HN2GL0RESTHG" received FIN.
2024-03-30 15:57:38.640 +05:00 [DBG] Connection id "0HN2GL0RESTHF" received FIN.
2024-03-30 15:57:38.652 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 15:57:38.658 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 15:57:38.659 +05:00 [DBG] Connection id "0HN2GL0RESTHH" accepted.
2024-03-30 15:57:38.668 +05:00 [DBG] Connection id "0HN2GL0RESTHH" started.
2024-03-30 15:57:38.671 +05:00 [DBG] Connection id "0HN2GL0RESTHG" stopped.
2024-03-30 15:57:38.674 +05:00 [DBG] Connection id "0HN2GL0RESTHG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:57:38.678 +05:00 [DBG] Connection id "0HN2GL0RESTHF" stopped.
2024-03-30 15:57:38.678 +05:00 [DBG] Connection id "0HN2GL0RESTHF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:57:38.713 +05:00 [DBG] Connection 0HN2GL0RESTHH established using the following protocol: "Tls12"
2024-03-30 15:57:38.767 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 15:57:38.787 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 15:57:38.825 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 15:57:38.827 +05:00 [DBG] Request did not match any endpoints
2024-03-30 15:57:38.955 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 15:57:39.031 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 15:57:39.034 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 270.3764ms
2024-03-30 15:57:39.062 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 15:57:39.062 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 15:57:39.065 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.8479ms
2024-03-30 15:57:39.092 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.0354ms
2024-03-30 15:57:39.247 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 15:57:39.248 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 15:57:39.249 +05:00 [DBG] Request did not match any endpoints
2024-03-30 15:57:39.431 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 183.6173ms
2024-03-30 15:57:39.579 +05:00 [DBG] Connection id "0HN2GL0RESTHI" accepted.
2024-03-30 15:57:39.580 +05:00 [DBG] Connection id "0HN2GL0RESTHI" received FIN.
2024-03-30 15:57:39.580 +05:00 [DBG] Connection id "0HN2GL0RESTHJ" accepted.
2024-03-30 15:57:39.580 +05:00 [DBG] Connection id "0HN2GL0RESTHI" started.
2024-03-30 15:57:39.580 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 15:57:39.581 +05:00 [DBG] Connection id "0HN2GL0RESTHI" stopped.
2024-03-30 15:57:39.581 +05:00 [DBG] Connection id "0HN2GL0RESTHJ" started.
2024-03-30 15:57:39.581 +05:00 [DBG] Connection id "0HN2GL0RESTHI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:57:39.588 +05:00 [DBG] Connection 0HN2GL0RESTHJ established using the following protocol: "Tls12"
2024-03-30 15:57:39.614 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------460446357599116139563203 33139461
2024-03-30 15:57:39.619 +05:00 [DBG] Connection id "0HN2GL0RESTHJ" paused.
2024-03-30 15:57:39.623 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 15:57:39.640 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 15:57:39.640 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 15:57:39.652 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 15:57:39.783 +05:00 [DBG] Successfully validated the token.
2024-03-30 15:57:39.785 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 15:57:39.793 +05:00 [DBG] Authorization was successful.
2024-03-30 15:57:39.794 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 15:57:39.830 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 15:57:39.832 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 15:57:39.832 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 15:57:39.833 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 15:57:39.833 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 15:57:39.833 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 15:57:39.835 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 15:57:39.977 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 15:57:40.011 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 15:57:40.114 +05:00 [DBG] The request has model state errors, returning an error response.
2024-03-30 15:57:40.115 +05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-30 15:57:40.117 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 15:57:40.119 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 15:57:40.121 +05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-03-30 15:57:40.122 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-30 15:57:40.123 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-30 15:57:40.141 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 304.5129ms
2024-03-30 15:57:40.142 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 15:57:40.144 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------460446357599116139563203 33139461 - 400 - application/problem+json;+charset=utf-8 529.3596ms
2024-03-30 15:57:40.144 +05:00 [DBG] Connection id "0HN2GL0RESTHJ" bad request data: "Request body too large. The max request body size is 30000000 bytes."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request body too large. The max request body size is 30000000 bytes.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1ContentLengthMessageBody.OnReadStarting()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.MessageBody.TryStartAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.MessageBody.ConsumeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-03-30 15:57:40.147 +05:00 [DBG] Connection id "0HN2GL0RESTHJ" disconnecting.
2024-03-30 15:57:40.149 +05:00 [DBG] Connection id "0HN2GL0RESTHJ" stopped.
2024-03-30 15:57:40.149 +05:00 [DBG] Connection id "0HN2GL0RESTHJ" resumed.
2024-03-30 15:57:40.149 +05:00 [DBG] Connection id "0HN2GL0RESTHJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:57:56.577 +05:00 [DBG] Connection id "0HN2GL0RESTHK" accepted.
2024-03-30 15:57:56.578 +05:00 [DBG] Connection id "0HN2GL0RESTHK" started.
2024-03-30 15:57:56.579 +05:00 [DBG] Connection id "0HN2GL0RESTHK" received FIN.
2024-03-30 15:57:56.579 +05:00 [DBG] Connection id "0HN2GL0RESTHL" accepted.
2024-03-30 15:57:56.580 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 15:57:56.580 +05:00 [DBG] Connection id "0HN2GL0RESTHL" started.
2024-03-30 15:57:56.580 +05:00 [DBG] Connection id "0HN2GL0RESTHK" stopped.
2024-03-30 15:57:56.580 +05:00 [DBG] Connection id "0HN2GL0RESTHK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:57:56.584 +05:00 [DBG] Connection 0HN2GL0RESTHL established using the following protocol: "Tls12"
2024-03-30 15:57:56.588 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------420023328137319041452104 8192152
2024-03-30 15:57:56.589 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 15:57:56.589 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 15:57:56.589 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 15:57:56.589 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 15:57:56.591 +05:00 [DBG] Successfully validated the token.
2024-03-30 15:57:56.591 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 15:57:56.593 +05:00 [DBG] Authorization was successful.
2024-03-30 15:57:56.593 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 15:57:56.594 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 15:57:56.594 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 15:57:56.594 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 15:57:56.594 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 15:57:56.594 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 15:57:56.594 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 15:57:56.594 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 15:57:56.608 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 15:57:56.610 +05:00 [DBG] Connection id "0HN2GL0RESTHL", Request id "0HN2GL0RESTHL:00000001": started reading request body.
2024-03-30 15:57:56.623 +05:00 [DBG] Connection id "0HN2GL0RESTHL" paused.
2024-03-30 15:57:56.684 +05:00 [DBG] Connection id "0HN2GL0RESTHL" resumed.
2024-03-30 15:57:56.684 +05:00 [DBG] Connection id "0HN2GL0RESTHL" paused.
2024-03-30 15:57:56.692 +05:00 [DBG] Connection id "0HN2GL0RESTHL" resumed.
2024-03-30 15:57:56.694 +05:00 [DBG] Connection id "0HN2GL0RESTHL" paused.
2024-03-30 15:57:56.725 +05:00 [DBG] Connection id "0HN2GL0RESTHL" resumed.
2024-03-30 15:57:56.726 +05:00 [DBG] Connection id "0HN2GL0RESTHL" paused.
2024-03-30 15:57:56.735 +05:00 [DBG] Connection id "0HN2GL0RESTHL" resumed.
2024-03-30 15:57:56.735 +05:00 [DBG] Connection id "0HN2GL0RESTHL" paused.
2024-03-30 15:57:56.744 +05:00 [DBG] Connection id "0HN2GL0RESTHL" resumed.
2024-03-30 15:57:56.747 +05:00 [DBG] Connection id "0HN2GL0RESTHL" paused.
2024-03-30 15:57:56.756 +05:00 [DBG] Connection id "0HN2GL0RESTHL" resumed.
2024-03-30 15:57:56.757 +05:00 [DBG] Connection id "0HN2GL0RESTHL" paused.
2024-03-30 15:57:56.765 +05:00 [DBG] Connection id "0HN2GL0RESTHL" resumed.
2024-03-30 15:57:56.767 +05:00 [DBG] Connection id "0HN2GL0RESTHL" paused.
2024-03-30 15:57:56.777 +05:00 [DBG] Connection id "0HN2GL0RESTHL" resumed.
2024-03-30 15:57:56.778 +05:00 [DBG] Connection id "0HN2GL0RESTHL" paused.
2024-03-30 15:57:56.785 +05:00 [DBG] Connection id "0HN2GL0RESTHL" resumed.
2024-03-30 15:57:56.786 +05:00 [DBG] Connection id "0HN2GL0RESTHL" paused.
2024-03-30 15:57:56.794 +05:00 [DBG] Connection id "0HN2GL0RESTHL" resumed.
2024-03-30 15:57:56.794 +05:00 [DBG] Connection id "0HN2GL0RESTHL" paused.
2024-03-30 15:57:56.802 +05:00 [DBG] Connection id "0HN2GL0RESTHL" resumed.
2024-03-30 15:57:56.806 +05:00 [DBG] Connection id "0HN2GL0RESTHL" paused.
2024-03-30 15:57:56.814 +05:00 [DBG] Connection id "0HN2GL0RESTHL" resumed.
2024-03-30 15:57:56.825 +05:00 [DBG] Connection id "0HN2GL0RESTHL", Request id "0HN2GL0RESTHL:00000001": done reading request body.
2024-03-30 15:57:56.832 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 15:57:56.835 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 15:57:56.838 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 15:57:56.838 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 15:57:56.838 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 15:57:56.870 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 15:57:57.577 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 15:57:57.577 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 15:58:18.798 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 15:58:18.863 +05:00 [DBG] Hosting starting
2024-03-30 15:58:18.877 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 15:58:18.892 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 15:58:18.898 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 15:58:18.899 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 15:58:18.899 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 15:58:18.899 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 15:58:18.905 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 15:58:18.908 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 15:58:18.908 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 15:58:18.909 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 15:58:18.909 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 15:58:18.919 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 15:58:18.923 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 15:58:18.926 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 15:58:18.927 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 15:58:18.932 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 15:58:18.933 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 15:58:18.934 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 15:58:18.935 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 15:58:19.068 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 15:58:19.068 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 15:58:19.068 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 15:58:19.068 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 15:58:19.068 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 15:58:19.071 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 15:58:19.072 +05:00 [INF] Hosting environment: Development
2024-03-30 15:58:19.072 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 15:58:19.072 +05:00 [DBG] Hosting started
2024-03-30 15:58:19.303 +05:00 [DBG] Connection id "0HN2GL17IVM90" accepted.
2024-03-30 15:58:19.304 +05:00 [DBG] Connection id "0HN2GL17IVM90" started.
2024-03-30 15:58:19.330 +05:00 [DBG] Connection id "0HN2GL17IVM90" received FIN.
2024-03-30 15:58:19.335 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 15:58:19.354 +05:00 [DBG] Connection id "0HN2GL17IVM90" stopped.
2024-03-30 15:58:19.357 +05:00 [DBG] Connection id "0HN2GL17IVM90" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:58:19.359 +05:00 [DBG] Connection id "0HN2GL17IVM91" accepted.
2024-03-30 15:58:19.359 +05:00 [DBG] Connection id "0HN2GL17IVM91" started.
2024-03-30 15:58:19.391 +05:00 [DBG] Connection 0HN2GL17IVM91 established using the following protocol: "Tls12"
2024-03-30 15:58:19.439 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 15:58:19.456 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 15:58:19.486 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 15:58:19.486 +05:00 [DBG] Request did not match any endpoints
2024-03-30 15:58:19.626 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 15:58:19.696 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 15:58:19.699 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 263.0171ms
2024-03-30 15:58:19.721 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 15:58:19.722 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 15:58:19.727 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.9505ms
2024-03-30 15:58:19.764 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.2343ms
2024-03-30 15:58:19.882 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 15:58:19.883 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 15:58:19.884 +05:00 [DBG] Request did not match any endpoints
2024-03-30 15:58:20.010 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.1338ms
2024-03-30 15:58:20.719 +05:00 [DBG] Connection id "0HN2GL17IVM92" accepted.
2024-03-30 15:58:20.719 +05:00 [DBG] Connection id "0HN2GL17IVM92" started.
2024-03-30 15:58:20.724 +05:00 [DBG] Connection id "0HN2GL17IVM92" received FIN.
2024-03-30 15:58:20.725 +05:00 [DBG] Connection id "0HN2GL17IVM93" accepted.
2024-03-30 15:58:20.725 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 15:58:20.726 +05:00 [DBG] Connection id "0HN2GL17IVM92" stopped.
2024-03-30 15:58:20.726 +05:00 [DBG] Connection id "0HN2GL17IVM93" started.
2024-03-30 15:58:20.728 +05:00 [DBG] Connection id "0HN2GL17IVM92" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:58:20.733 +05:00 [DBG] Connection 0HN2GL17IVM93 established using the following protocol: "Tls12"
2024-03-30 15:58:20.741 +05:00 [DBG] Connection id "0HN2GL17IVM93" paused.
2024-03-30 15:58:20.744 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------964136251628638633658584 8192152
2024-03-30 15:58:20.750 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 15:58:20.756 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 15:58:20.757 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 15:58:20.761 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 15:58:20.893 +05:00 [DBG] Successfully validated the token.
2024-03-30 15:58:20.894 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 15:58:20.905 +05:00 [DBG] Authorization was successful.
2024-03-30 15:58:20.906 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 15:58:20.949 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 15:58:20.951 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 15:58:20.951 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 15:58:20.951 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 15:58:20.952 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 15:58:20.952 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 15:58:20.955 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 15:58:21.094 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 15:58:21.126 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 15:58:21.135 +05:00 [DBG] Connection id "0HN2GL17IVM93", Request id "0HN2GL17IVM93:00000001": started reading request body.
2024-03-30 15:58:21.159 +05:00 [DBG] Connection id "0HN2GL17IVM93" resumed.
2024-03-30 15:58:21.161 +05:00 [DBG] Connection id "0HN2GL17IVM93" paused.
2024-03-30 15:58:21.180 +05:00 [DBG] Connection id "0HN2GL17IVM93" resumed.
2024-03-30 15:58:21.181 +05:00 [DBG] Connection id "0HN2GL17IVM93" paused.
2024-03-30 15:58:21.192 +05:00 [DBG] Connection id "0HN2GL17IVM93" resumed.
2024-03-30 15:58:21.193 +05:00 [DBG] Connection id "0HN2GL17IVM93" paused.
2024-03-30 15:58:21.207 +05:00 [DBG] Connection id "0HN2GL17IVM93" resumed.
2024-03-30 15:58:21.207 +05:00 [DBG] Connection id "0HN2GL17IVM93" paused.
2024-03-30 15:58:21.216 +05:00 [DBG] Connection id "0HN2GL17IVM93" resumed.
2024-03-30 15:58:21.218 +05:00 [DBG] Connection id "0HN2GL17IVM93" paused.
2024-03-30 15:58:21.232 +05:00 [DBG] Connection id "0HN2GL17IVM93" resumed.
2024-03-30 15:58:21.234 +05:00 [DBG] Connection id "0HN2GL17IVM93" paused.
2024-03-30 15:58:21.243 +05:00 [DBG] Connection id "0HN2GL17IVM93" resumed.
2024-03-30 15:58:21.244 +05:00 [DBG] Connection id "0HN2GL17IVM93" paused.
2024-03-30 15:58:21.254 +05:00 [DBG] Connection id "0HN2GL17IVM93" resumed.
2024-03-30 15:58:21.256 +05:00 [DBG] Connection id "0HN2GL17IVM93" paused.
2024-03-30 15:58:21.265 +05:00 [DBG] Connection id "0HN2GL17IVM93" resumed.
2024-03-30 15:58:21.266 +05:00 [DBG] Connection id "0HN2GL17IVM93" paused.
2024-03-30 15:58:21.272 +05:00 [DBG] Connection id "0HN2GL17IVM93" resumed.
2024-03-30 15:58:21.274 +05:00 [DBG] Connection id "0HN2GL17IVM93" paused.
2024-03-30 15:58:21.280 +05:00 [DBG] Connection id "0HN2GL17IVM93" resumed.
2024-03-30 15:58:21.293 +05:00 [DBG] Connection id "0HN2GL17IVM93", Request id "0HN2GL17IVM93:00000001": done reading request body.
2024-03-30 15:58:21.301 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 15:58:21.306 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 15:58:21.307 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 15:58:21.308 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 15:58:21.308 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 15:58:21.319 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 15:59:05.553 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 15:59:06.740 +05:00 [DBG] Hosting starting
2024-03-30 15:59:07.402 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 15:59:07.410 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 15:59:07.694 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 15:59:07.695 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 15:59:07.695 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 15:59:07.695 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 15:59:07.782 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 15:59:07.937 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 15:59:07.937 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 15:59:07.937 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 15:59:07.937 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 15:59:07.945 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 15:59:07.948 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 15:59:07.951 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 15:59:07.954 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 15:59:07.959 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 15:59:07.961 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 15:59:07.963 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 15:59:07.964 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 15:59:11.007 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 15:59:11.009 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 15:59:11.010 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 15:59:11.010 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 15:59:11.010 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 15:59:11.016 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 15:59:11.018 +05:00 [INF] Hosting environment: Development
2024-03-30 15:59:11.020 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 15:59:11.020 +05:00 [DBG] Hosting started
2024-03-30 15:59:11.141 +05:00 [DBG] Connection id "0HN2GL1N1B9C3" accepted.
2024-03-30 15:59:11.143 +05:00 [DBG] Connection id "0HN2GL1N1B9C3" started.
2024-03-30 15:59:11.198 +05:00 [DBG] Connection id "0HN2GL1N1B9C4" accepted.
2024-03-30 15:59:11.198 +05:00 [DBG] Connection id "0HN2GL1N1B9C4" started.
2024-03-30 15:59:14.261 +05:00 [DBG] Connection id "0HN2GL1N1B9C5" accepted.
2024-03-30 15:59:14.269 +05:00 [DBG] Connection id "0HN2GL1N1B9C5" started.
2024-03-30 15:59:14.345 +05:00 [DBG] Connection 0HN2GL1N1B9C5 established using the following protocol: "Tls12"
2024-03-30 15:59:15.595 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 15:59:15.735 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 15:59:15.804 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 15:59:15.804 +05:00 [DBG] Request did not match any endpoints
2024-03-30 15:59:16.999 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 15:59:18.462 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 15:59:18.473 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 2881.0567ms
2024-03-30 15:59:18.516 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 15:59:18.517 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 15:59:18.548 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 30.7096ms
2024-03-30 15:59:18.673 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 157.1000ms
2024-03-30 15:59:18.911 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 15:59:18.913 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 15:59:18.914 +05:00 [DBG] Request did not match any endpoints
2024-03-30 15:59:19.185 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 273.9287ms
2024-03-30 15:59:21.302 +05:00 [DBG] Authentication of the HTTPS connection timed out.
2024-03-30 15:59:21.302 +05:00 [DBG] Authentication of the HTTPS connection timed out.
2024-03-30 15:59:21.305 +05:00 [DBG] Connection id "0HN2GL1N1B9C4" stopped.
2024-03-30 15:59:21.307 +05:00 [DBG] Connection id "0HN2GL1N1B9C4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:59:21.307 +05:00 [DBG] Connection id "0HN2GL1N1B9C3" stopped.
2024-03-30 15:59:21.308 +05:00 [DBG] Connection id "0HN2GL1N1B9C3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:59:27.261 +05:00 [DBG] Connection id "0HN2GL1N1B9C6" accepted.
2024-03-30 15:59:27.262 +05:00 [DBG] Connection id "0HN2GL1N1B9C6" received FIN.
2024-03-30 15:59:27.264 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" accepted.
2024-03-30 15:59:27.264 +05:00 [DBG] Connection id "0HN2GL1N1B9C6" started.
2024-03-30 15:59:27.264 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" started.
2024-03-30 15:59:27.266 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 15:59:27.301 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" paused.
2024-03-30 15:59:27.289 +05:00 [DBG] Connection 0HN2GL1N1B9C7 established using the following protocol: "Tls12"
2024-03-30 15:59:27.375 +05:00 [DBG] Connection id "0HN2GL1N1B9C6" stopped.
2024-03-30 15:59:27.375 +05:00 [DBG] Connection id "0HN2GL1N1B9C6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 15:59:27.388 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------129581371081096270597562 8192152
2024-03-30 15:59:27.392 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 15:59:27.398 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 15:59:27.398 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 15:59:27.401 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 15:59:27.800 +05:00 [DBG] Successfully validated the token.
2024-03-30 15:59:27.802 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 15:59:27.811 +05:00 [DBG] Authorization was successful.
2024-03-30 15:59:27.813 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 15:59:27.857 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 15:59:27.858 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 15:59:27.859 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 15:59:27.859 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 15:59:27.859 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 15:59:27.859 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 15:59:27.864 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 15:59:28.321 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 15:59:28.358 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 15:59:28.398 +05:00 [DBG] Connection id "0HN2GL1N1B9C7", Request id "0HN2GL1N1B9C7:00000001": started reading request body.
2024-03-30 15:59:28.438 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" resumed.
2024-03-30 15:59:28.467 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" paused.
2024-03-30 15:59:28.496 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" resumed.
2024-03-30 15:59:28.497 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" paused.
2024-03-30 15:59:28.515 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" resumed.
2024-03-30 15:59:28.516 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" paused.
2024-03-30 15:59:28.533 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" resumed.
2024-03-30 15:59:28.536 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" paused.
2024-03-30 15:59:28.560 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" resumed.
2024-03-30 15:59:28.569 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" paused.
2024-03-30 15:59:28.584 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" resumed.
2024-03-30 15:59:28.591 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" paused.
2024-03-30 15:59:28.606 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" resumed.
2024-03-30 15:59:28.607 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" paused.
2024-03-30 15:59:28.643 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" resumed.
2024-03-30 15:59:28.647 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" paused.
2024-03-30 15:59:28.667 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" resumed.
2024-03-30 15:59:28.668 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" paused.
2024-03-30 15:59:28.686 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" resumed.
2024-03-30 15:59:28.687 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" paused.
2024-03-30 15:59:28.706 +05:00 [DBG] Connection id "0HN2GL1N1B9C7" resumed.
2024-03-30 15:59:28.716 +05:00 [DBG] Connection id "0HN2GL1N1B9C7", Request id "0HN2GL1N1B9C7:00000001": done reading request body.
2024-03-30 15:59:28.727 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 15:59:28.733 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 15:59:28.735 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 15:59:28.735 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 15:59:28.735 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 15:59:28.756 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:02:38.425 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 16:02:38.500 +05:00 [DBG] Hosting starting
2024-03-30 16:02:38.516 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 16:02:38.523 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 16:02:38.527 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 16:02:38.528 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 16:02:38.529 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 16:02:38.529 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 16:02:38.533 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 16:02:38.535 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 16:02:38.535 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 16:02:38.536 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 16:02:38.536 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 16:02:38.542 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 16:02:38.544 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:02:38.547 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 16:02:38.548 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:02:38.551 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 16:02:38.552 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 16:02:38.554 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 16:02:38.554 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 16:02:38.716 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 16:02:38.716 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 16:02:38.716 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 16:02:38.716 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 16:02:38.716 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 16:02:38.718 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 16:02:38.719 +05:00 [INF] Hosting environment: Development
2024-03-30 16:02:38.719 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 16:02:38.719 +05:00 [DBG] Hosting started
2024-03-30 16:02:39.054 +05:00 [DBG] Connection id "0HN2GL3L05G1B" accepted.
2024-03-30 16:02:39.055 +05:00 [DBG] Connection id "0HN2GL3L05G1B" started.
2024-03-30 16:02:39.080 +05:00 [DBG] Connection id "0HN2GL3L05G1B" received FIN.
2024-03-30 16:02:39.084 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:02:39.099 +05:00 [DBG] Connection id "0HN2GL3L05G1B" stopped.
2024-03-30 16:02:39.101 +05:00 [DBG] Connection id "0HN2GL3L05G1B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:02:39.312 +05:00 [DBG] Connection id "0HN2GL3L05G1C" accepted.
2024-03-30 16:02:39.313 +05:00 [DBG] Connection id "0HN2GL3L05G1C" started.
2024-03-30 16:02:39.381 +05:00 [DBG] Connection 0HN2GL3L05G1C established using the following protocol: "Tls12"
2024-03-30 16:02:39.456 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 16:02:39.477 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 16:02:39.526 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 16:02:39.527 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:02:39.687 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 16:02:39.771 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 16:02:39.774 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 322.8659ms
2024-03-30 16:02:39.805 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 16:02:39.807 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 16:02:39.814 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 6.3621ms
2024-03-30 16:02:39.845 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.4127ms
2024-03-30 16:02:40.077 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 16:02:40.079 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 16:02:40.079 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:02:40.309 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 231.3761ms
2024-03-30 16:02:41.330 +05:00 [DBG] Connection id "0HN2GL3L05G1D" accepted.
2024-03-30 16:02:41.331 +05:00 [DBG] Connection id "0HN2GL3L05G1D" started.
2024-03-30 16:02:41.332 +05:00 [DBG] Connection id "0HN2GL3L05G1D" received FIN.
2024-03-30 16:02:41.333 +05:00 [DBG] Connection id "0HN2GL3L05G1E" accepted.
2024-03-30 16:02:41.333 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:02:41.333 +05:00 [DBG] Connection id "0HN2GL3L05G1D" stopped.
2024-03-30 16:02:41.334 +05:00 [DBG] Connection id "0HN2GL3L05G1E" started.
2024-03-30 16:02:41.335 +05:00 [DBG] Connection id "0HN2GL3L05G1D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:02:41.340 +05:00 [DBG] Connection 0HN2GL3L05G1E established using the following protocol: "Tls12"
2024-03-30 16:02:41.356 +05:00 [DBG] Connection id "0HN2GL3L05G1E" paused.
2024-03-30 16:02:41.366 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------749350988603080434313941 8192152
2024-03-30 16:02:41.369 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:02:41.375 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:02:41.375 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:02:41.379 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:02:41.508 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:02:41.509 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:02:41.518 +05:00 [DBG] Authorization was successful.
2024-03-30 16:02:41.519 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:02:41.556 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:02:41.557 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:02:41.558 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:02:41.558 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:02:41.558 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:02:41.558 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:02:41.560 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:02:41.747 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 16:02:41.785 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:02:41.797 +05:00 [DBG] Connection id "0HN2GL3L05G1E", Request id "0HN2GL3L05G1E:00000001": started reading request body.
2024-03-30 16:02:41.825 +05:00 [DBG] Connection id "0HN2GL3L05G1E" resumed.
2024-03-30 16:02:41.831 +05:00 [DBG] Connection id "0HN2GL3L05G1E" paused.
2024-03-30 16:02:41.856 +05:00 [DBG] Connection id "0HN2GL3L05G1E" resumed.
2024-03-30 16:02:41.856 +05:00 [DBG] Connection id "0HN2GL3L05G1E" paused.
2024-03-30 16:02:41.864 +05:00 [DBG] Connection id "0HN2GL3L05G1E" resumed.
2024-03-30 16:02:41.864 +05:00 [DBG] Connection id "0HN2GL3L05G1E" paused.
2024-03-30 16:02:41.869 +05:00 [DBG] Connection id "0HN2GL3L05G1E" resumed.
2024-03-30 16:02:41.872 +05:00 [DBG] Connection id "0HN2GL3L05G1E" paused.
2024-03-30 16:02:41.877 +05:00 [DBG] Connection id "0HN2GL3L05G1E" resumed.
2024-03-30 16:02:41.881 +05:00 [DBG] Connection id "0HN2GL3L05G1E" paused.
2024-03-30 16:02:41.893 +05:00 [DBG] Connection id "0HN2GL3L05G1E" resumed.
2024-03-30 16:02:41.893 +05:00 [DBG] Connection id "0HN2GL3L05G1E" paused.
2024-03-30 16:02:41.901 +05:00 [DBG] Connection id "0HN2GL3L05G1E" resumed.
2024-03-30 16:02:41.902 +05:00 [DBG] Connection id "0HN2GL3L05G1E" paused.
2024-03-30 16:02:41.910 +05:00 [DBG] Connection id "0HN2GL3L05G1E" resumed.
2024-03-30 16:02:41.914 +05:00 [DBG] Connection id "0HN2GL3L05G1E" paused.
2024-03-30 16:02:41.923 +05:00 [DBG] Connection id "0HN2GL3L05G1E" resumed.
2024-03-30 16:02:41.924 +05:00 [DBG] Connection id "0HN2GL3L05G1E" paused.
2024-03-30 16:02:41.933 +05:00 [DBG] Connection id "0HN2GL3L05G1E" resumed.
2024-03-30 16:02:41.934 +05:00 [DBG] Connection id "0HN2GL3L05G1E" paused.
2024-03-30 16:02:41.941 +05:00 [DBG] Connection id "0HN2GL3L05G1E" resumed.
2024-03-30 16:02:41.956 +05:00 [DBG] Connection id "0HN2GL3L05G1E", Request id "0HN2GL3L05G1E:00000001": done reading request body.
2024-03-30 16:02:41.965 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:02:41.968 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:02:41.969 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:02:41.969 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:02:41.969 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:02:41.983 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:02:42.599 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 16:02:42.600 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 16:02:43.010 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:02:45.938 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:02:45.942 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:02:45.946 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:02:59.951 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 16:03:00.092 +05:00 [DBG] Hosting starting
2024-03-30 16:03:00.215 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 16:03:00.224 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 16:03:00.232 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 16:03:00.233 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 16:03:00.233 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 16:03:00.233 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 16:03:00.239 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 16:03:00.244 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 16:03:00.244 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 16:03:00.244 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 16:03:00.244 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 16:03:00.252 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 16:03:00.256 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:03:00.267 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 16:03:00.269 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:03:00.274 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 16:03:00.275 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 16:03:00.277 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 16:03:00.278 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 16:03:00.556 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 16:03:00.558 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 16:03:00.559 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 16:03:00.559 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 16:03:00.559 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 16:03:00.563 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 16:03:00.566 +05:00 [INF] Hosting environment: Development
2024-03-30 16:03:00.573 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 16:03:00.574 +05:00 [DBG] Hosting started
2024-03-30 16:03:00.667 +05:00 [DBG] Connection id "0HN2GL3RE94NE" accepted.
2024-03-30 16:03:00.668 +05:00 [DBG] Connection id "0HN2GL3RE94NE" started.
2024-03-30 16:03:00.694 +05:00 [DBG] Connection id "0HN2GL3RE94NE" received FIN.
2024-03-30 16:03:00.702 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:03:00.751 +05:00 [DBG] Connection id "0HN2GL3RE94NE" stopped.
2024-03-30 16:03:00.755 +05:00 [DBG] Connection id "0HN2GL3RE94NE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:03:01.081 +05:00 [DBG] Connection id "0HN2GL3RE94NF" accepted.
2024-03-30 16:03:01.082 +05:00 [DBG] Connection id "0HN2GL3RE94NF" started.
2024-03-30 16:03:01.153 +05:00 [DBG] Connection 0HN2GL3RE94NF established using the following protocol: "Tls12"
2024-03-30 16:03:01.260 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 16:03:01.294 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 16:03:01.343 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 16:03:01.343 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:03:01.515 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 16:03:01.785 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 16:03:01.792 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 534.8244ms
2024-03-30 16:03:01.842 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 16:03:01.843 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 16:03:01.900 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 57.2813ms
2024-03-30 16:03:02.135 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 293.8997ms
2024-03-30 16:03:02.269 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 16:03:02.272 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 16:03:02.272 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:03:02.460 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 191.5463ms
2024-03-30 16:03:17.961 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 16:03:18.016 +05:00 [DBG] Hosting starting
2024-03-30 16:03:18.031 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 16:03:18.037 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 16:03:18.044 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 16:03:18.044 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 16:03:18.044 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 16:03:18.045 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 16:03:18.049 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 16:03:18.052 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 16:03:18.053 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 16:03:18.053 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 16:03:18.053 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 16:03:18.060 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 16:03:18.062 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:03:18.065 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 16:03:18.066 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:03:18.071 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 16:03:18.072 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 16:03:18.073 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 16:03:18.073 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 16:03:18.185 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 16:03:18.185 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 16:03:18.185 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 16:03:18.185 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 16:03:18.185 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 16:03:18.187 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 16:03:18.188 +05:00 [INF] Hosting environment: Development
2024-03-30 16:03:18.188 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 16:03:18.188 +05:00 [DBG] Hosting started
2024-03-30 16:03:18.433 +05:00 [DBG] Connection id "0HN2GL40NMR4L" received FIN.
2024-03-30 16:03:18.437 +05:00 [DBG] Connection id "0HN2GL40NMR4L" accepted.
2024-03-30 16:03:18.438 +05:00 [DBG] Connection id "0HN2GL40NMR4L" started.
2024-03-30 16:03:18.450 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:03:18.466 +05:00 [DBG] Connection id "0HN2GL40NMR4L" stopped.
2024-03-30 16:03:18.468 +05:00 [DBG] Connection id "0HN2GL40NMR4L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:03:18.594 +05:00 [DBG] Connection id "0HN2GL40NMR4M" accepted.
2024-03-30 16:03:18.594 +05:00 [DBG] Connection id "0HN2GL40NMR4M" started.
2024-03-30 16:03:18.668 +05:00 [DBG] Connection 0HN2GL40NMR4M established using the following protocol: "Tls12"
2024-03-30 16:03:18.739 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 16:03:18.760 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 16:03:18.809 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 16:03:18.810 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:03:18.954 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 16:03:19.068 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 16:03:19.075 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 339.2838ms
2024-03-30 16:03:19.094 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 16:03:19.097 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 16:03:19.102 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.9833ms
2024-03-30 16:03:19.148 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.6465ms
2024-03-30 16:03:19.291 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 16:03:19.292 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 16:03:19.292 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:03:19.483 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 192.8052ms
2024-03-30 16:03:22.331 +05:00 [DBG] Connection id "0HN2GL40NMR4N" accepted.
2024-03-30 16:03:22.331 +05:00 [DBG] Connection id "0HN2GL40NMR4N" started.
2024-03-30 16:03:22.332 +05:00 [DBG] Connection id "0HN2GL40NMR4O" accepted.
2024-03-30 16:03:22.332 +05:00 [DBG] Connection id "0HN2GL40NMR4N" received FIN.
2024-03-30 16:03:22.332 +05:00 [DBG] Connection id "0HN2GL40NMR4O" started.
2024-03-30 16:03:22.333 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:03:22.333 +05:00 [DBG] Connection id "0HN2GL40NMR4N" stopped.
2024-03-30 16:03:22.334 +05:00 [DBG] Connection id "0HN2GL40NMR4N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:03:22.338 +05:00 [DBG] Connection 0HN2GL40NMR4O established using the following protocol: "Tls12"
2024-03-30 16:03:22.348 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:03:22.355 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------423488865739854639186196 8192152
2024-03-30 16:03:22.359 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:03:22.365 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:03:22.366 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:03:22.368 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:03:22.472 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:03:22.473 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:03:22.481 +05:00 [DBG] Authorization was successful.
2024-03-30 16:03:22.482 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:03:22.516 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:03:22.517 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:03:22.517 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:03:22.518 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:03:22.518 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:03:22.518 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:03:22.519 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:03:22.649 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 16:03:22.676 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:03:22.685 +05:00 [DBG] Connection id "0HN2GL40NMR4O", Request id "0HN2GL40NMR4O:00000001": started reading request body.
2024-03-30 16:03:22.706 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:03:22.707 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:03:22.719 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:03:22.723 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:03:22.731 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:03:22.733 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:03:22.740 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:03:22.747 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:03:22.757 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:03:22.757 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:03:22.764 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:03:22.765 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:03:22.771 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:03:22.772 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:03:22.778 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:03:22.781 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:03:22.785 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:03:22.786 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:03:22.792 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:03:22.794 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:03:22.801 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:03:22.801 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:03:22.808 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:03:22.818 +05:00 [DBG] Connection id "0HN2GL40NMR4O", Request id "0HN2GL40NMR4O:00000001": done reading request body.
2024-03-30 16:03:22.827 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:03:22.832 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:03:22.833 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:03:22.833 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:03:22.833 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:03:22.843 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:03:23.441 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 16:03:23.441 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 16:03:23.811 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:03:23.814 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:03:23.818 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:03:23.822 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:03:23.838 +05:00 [DBG] SaveChanges completed for 'BMContext' with 0 entities written to the database.
2024-03-30 16:03:23.841 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:03:23.843 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:03:23.843 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:03:23.843 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:03:23.844 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:03:23.846 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:03:23.863 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 1339.7767ms
2024-03-30 16:03:23.864 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:03:23.865 +05:00 [DBG] Connection id "0HN2GL40NMR4O" completed keep alive response.
2024-03-30 16:03:23.894 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:03:23.898 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------423488865739854639186196 8192152 - 200 - application/json;+charset=utf-8 1543.0656ms
2024-03-30 16:03:23.923 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:04:05.339 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------249193576679530478728609 8192152
2024-03-30 16:04:05.341 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:04:05.341 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:04:05.341 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:04:05.341 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:04:05.344 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:04:05.346 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:04:05.350 +05:00 [DBG] Authorization was successful.
2024-03-30 16:04:05.351 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:04:05.351 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:04:05.351 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:04:05.351 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:04:05.352 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:04:05.353 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:04:05.355 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:04:05.355 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:04:05.358 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:04:05.360 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:04:05.363 +05:00 [DBG] Connection id "0HN2GL40NMR4O", Request id "0HN2GL40NMR4O:00000002": started reading request body.
2024-03-30 16:04:05.389 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:04:05.389 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:04:05.394 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:04:05.398 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:04:05.407 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:04:05.407 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:04:05.412 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:04:05.413 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:04:05.417 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:04:05.417 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:04:05.424 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:04:05.425 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:04:05.432 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:04:05.434 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:04:05.440 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:04:05.441 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:04:05.447 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:04:05.447 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:04:05.452 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:04:05.452 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:04:05.458 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:04:05.460 +05:00 [DBG] Connection id "0HN2GL40NMR4O" paused.
2024-03-30 16:04:05.466 +05:00 [DBG] Connection id "0HN2GL40NMR4O" resumed.
2024-03-30 16:04:05.475 +05:00 [DBG] Connection id "0HN2GL40NMR4O", Request id "0HN2GL40NMR4O:00000002": done reading request body.
2024-03-30 16:04:05.476 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:04:05.477 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:04:05.477 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:04:05.477 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:04:05.477 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:04:05.477 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:04:05.548 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:04:05.548 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:04:05.549 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:04:05.550 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:04:05.563 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:04:05.657 +05:00 [DBG] Creating DbConnection.
2024-03-30 16:04:05.665 +05:00 [DBG] Created DbConnection. (4ms).
2024-03-30 16:04:05.668 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:04:05.951 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:04:05.955 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:04:05.964 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:04:05.975 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:04:05.976 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-30 16:04:05.982 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-03-30 16:04:05.996 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:04:06.072 +05:00 [ERR] Failed executing DbCommand (64ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:04:06.106 +05:00 [DBG] Disposing transaction.
2024-03-30 16:04:06.109 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:04:06.118 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (5ms).
2024-03-30 16:04:06.141 +05:00 [ERR] An exception occurred in the database while saving changes for context type 'BerryMusicV1.Repos.BMContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: Could not save changes. Please configure your entity type accordingly.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Column 'Album' cannot be null
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at MySql.EntityFrameworkCore.Update.MySQLModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: Could not save changes. Please configure your entity type accordingly.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Column 'Album' cannot be null
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at MySql.EntityFrameworkCore.Update.MySQLModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-03-30 16:04:06.146 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 790.6229ms
2024-03-30 16:04:06.146 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:04:06.201 +05:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: Could not save changes. Please configure your entity type accordingly.
 ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Column 'Album' cannot be null
   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)
   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at MySql.EntityFrameworkCore.Update.MySQLModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BerryMusicV1.Containers.AuthorizeService.AddMusic(List`1 musicFiles) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\AuthorizeService.cs:line 48
   at BerryMusicV1.Controllers.AuthorizeController.AddFile(List`1 musicFiles) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\AuthorizeController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-30 16:04:06.209 +05:00 [DBG] Connection id "0HN2GL40NMR4O" completed keep alive response.
2024-03-30 16:04:06.210 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:04:06.214 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:04:06.216 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-30 16:04:06.216 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------249193576679530478728609 8192152 - 500 - text/plain;+charset=utf-8 876.7402ms
2024-03-30 16:04:30.502 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 16:04:30.582 +05:00 [DBG] Hosting starting
2024-03-30 16:04:30.601 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 16:04:30.608 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 16:04:30.615 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 16:04:30.616 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 16:04:30.616 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 16:04:30.616 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 16:04:30.622 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 16:04:30.625 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 16:04:30.626 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 16:04:30.626 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 16:04:30.626 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 16:04:30.640 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 16:04:30.642 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:04:30.646 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 16:04:30.647 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:04:30.652 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 16:04:30.654 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 16:04:30.655 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 16:04:30.655 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 16:04:30.794 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 16:04:30.794 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 16:04:30.794 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 16:04:30.794 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 16:04:30.794 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 16:04:30.797 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 16:04:30.797 +05:00 [INF] Hosting environment: Development
2024-03-30 16:04:30.797 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 16:04:30.797 +05:00 [DBG] Hosting started
2024-03-30 16:04:31.393 +05:00 [DBG] Connection id "0HN2GL4MFGCRC" received FIN.
2024-03-30 16:04:31.393 +05:00 [DBG] Connection id "0HN2GL4MFGCRD" received FIN.
2024-03-30 16:04:31.397 +05:00 [DBG] Connection id "0HN2GL4MFGCRD" accepted.
2024-03-30 16:04:31.397 +05:00 [DBG] Connection id "0HN2GL4MFGCRC" accepted.
2024-03-30 16:04:31.398 +05:00 [DBG] Connection id "0HN2GL4MFGCRD" started.
2024-03-30 16:04:31.401 +05:00 [DBG] Connection id "0HN2GL4MFGCRC" started.
2024-03-30 16:04:31.413 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:04:31.415 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:04:31.436 +05:00 [DBG] Connection id "0HN2GL4MFGCRC" stopped.
2024-03-30 16:04:31.439 +05:00 [DBG] Connection id "0HN2GL4MFGCRD" stopped.
2024-03-30 16:04:31.440 +05:00 [DBG] Connection id "0HN2GL4MFGCRD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:04:31.440 +05:00 [DBG] Connection id "0HN2GL4MFGCRC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:04:31.466 +05:00 [DBG] Connection id "0HN2GL4MFGCRE" accepted.
2024-03-30 16:04:31.467 +05:00 [DBG] Connection id "0HN2GL4MFGCRE" started.
2024-03-30 16:04:31.510 +05:00 [DBG] Connection 0HN2GL4MFGCRE established using the following protocol: "Tls12"
2024-03-30 16:04:31.589 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 16:04:31.631 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 16:04:31.740 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 16:04:31.740 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:04:31.797 +05:00 [DBG] Connection id "0HN2GL4MFGCRF" received FIN.
2024-03-30 16:04:31.797 +05:00 [DBG] Connection id "0HN2GL4MFGCRF" accepted.
2024-03-30 16:04:31.798 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" accepted.
2024-03-30 16:04:31.798 +05:00 [DBG] Connection id "0HN2GL4MFGCRF" started.
2024-03-30 16:04:31.798 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:04:31.798 +05:00 [DBG] Connection id "0HN2GL4MFGCRF" stopped.
2024-03-30 16:04:31.798 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" started.
2024-03-30 16:04:31.800 +05:00 [DBG] Connection id "0HN2GL4MFGCRF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:04:31.805 +05:00 [DBG] Connection 0HN2GL4MFGCRG established using the following protocol: "Tls12"
2024-03-30 16:04:31.825 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------124785018065508974465493 8192152
2024-03-30 16:04:31.832 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:31.833 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:04:31.840 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:04:31.841 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:04:31.843 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:04:31.941 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 16:04:32.001 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:04:32.002 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:04:32.015 +05:00 [DBG] Authorization was successful.
2024-03-30 16:04:32.017 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:04:32.061 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 16:04:32.064 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 479.5114ms
2024-03-30 16:04:32.072 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:04:32.073 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:04:32.073 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:04:32.074 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:04:32.074 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:04:32.074 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:04:32.076 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:04:32.183 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 16:04:32.223 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 16:04:32.240 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.5772ms
2024-03-30 16:04:32.250 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 16:04:32.257 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 6.3048ms
2024-03-30 16:04:32.261 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:04:32.272 +05:00 [DBG] Connection id "0HN2GL4MFGCRG", Request id "0HN2GL4MFGCRG:00000001": started reading request body.
2024-03-30 16:04:32.291 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:32.291 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:32.300 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:32.303 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:32.319 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:32.320 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:32.327 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:32.327 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:32.335 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:32.335 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:32.343 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:32.343 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:32.352 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:32.356 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:32.361 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:32.363 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:32.369 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:32.371 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:32.377 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:32.381 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:32.387 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:32.402 +05:00 [DBG] Connection id "0HN2GL4MFGCRG", Request id "0HN2GL4MFGCRG:00000001": done reading request body.
2024-03-30 16:04:32.410 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:04:32.415 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:04:32.416 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:04:32.417 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:04:32.417 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:04:32.428 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:04:32.967 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 16:04:32.968 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 16:04:33.299 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:04:33.303 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:04:33.308 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:04:33.310 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:04:33.323 +05:00 [DBG] SaveChanges completed for 'BMContext' with 0 entities written to the database.
2024-03-30 16:04:33.326 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:04:33.327 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:04:33.327 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:04:33.327 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:04:33.333 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:04:33.334 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:04:33.352 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 1274.4161ms
2024-03-30 16:04:33.353 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:04:33.355 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" completed keep alive response.
2024-03-30 16:04:33.359 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:04:33.363 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------124785018065508974465493 8192152 - 200 - application/json;+charset=utf-8 1536.6876ms
2024-03-30 16:04:33.409 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:04:33.740 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 16:04:33.740 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 16:04:33.740 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:04:33.842 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.0567ms
2024-03-30 16:04:49.808 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------688735458899915478812650 8192152
2024-03-30 16:04:49.809 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:04:49.809 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:04:49.809 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:04:49.809 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:04:49.814 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:04:49.814 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:04:49.816 +05:00 [DBG] Authorization was successful.
2024-03-30 16:04:49.816 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:04:49.817 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:04:49.817 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:04:49.817 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:04:49.817 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:04:49.817 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:04:49.817 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:04:49.817 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:04:49.819 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:04:49.819 +05:00 [DBG] Connection id "0HN2GL4MFGCRG", Request id "0HN2GL4MFGCRG:00000002": started reading request body.
2024-03-30 16:04:49.822 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:49.840 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:49.841 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:49.849 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:49.850 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:49.857 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:49.857 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:49.864 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:49.867 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:49.880 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:49.880 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:49.889 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:49.890 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:49.897 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:49.897 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:49.902 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:49.906 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:49.911 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:49.913 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:49.921 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:49.922 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:04:49.930 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:04:49.942 +05:00 [DBG] Connection id "0HN2GL4MFGCRG", Request id "0HN2GL4MFGCRG:00000002": done reading request body.
2024-03-30 16:04:49.943 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:04:49.943 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:04:49.943 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:04:49.943 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:04:49.944 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:04:49.944 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:04:50.015 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:04:50.015 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:04:50.016 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:04:50.017 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:04:50.032 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:04:50.114 +05:00 [DBG] Creating DbConnection.
2024-03-30 16:04:50.122 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-30 16:04:50.126 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:04:50.410 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:04:50.414 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:04:50.423 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:04:50.438 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:04:50.439 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-03-30 16:04:50.444 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-03-30 16:04:50.457 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:04:50.480 +05:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:04:50.484 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:04:50.491 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 5ms reading results.
2024-03-30 16:04:50.497 +05:00 [DBG] Committing transaction.
2024-03-30 16:04:50.523 +05:00 [DBG] Committed transaction.
2024-03-30 16:04:50.526 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:04:50.532 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-30 16:04:50.534 +05:00 [DBG] Disposing transaction.
2024-03-30 16:04:50.543 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:04:50.547 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:04:50.549 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:04:50.550 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:04:50.550 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:04:50.550 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:04:50.550 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:04:50.551 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:04:50.551 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 734.0293ms
2024-03-30 16:04:50.551 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:04:50.552 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" completed keep alive response.
2024-03-30 16:04:50.555 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:04:50.557 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:04:50.558 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-30 16:04:50.559 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------688735458899915478812650 8192152 - 200 - application/json;+charset=utf-8 750.6266ms
2024-03-30 16:05:16.584 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------002557892632533748826824 17609730
2024-03-30 16:05:16.584 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:05:16.584 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:05:16.584 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:05:16.584 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:05:16.589 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:05:16.589 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:05:16.590 +05:00 [DBG] Authorization was successful.
2024-03-30 16:05:16.590 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:05:16.590 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:05:16.590 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:05:16.591 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:05:16.591 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:05:16.591 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:05:16.591 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:05:16.591 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:05:16.593 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:05:16.593 +05:00 [DBG] Connection id "0HN2GL4MFGCRG", Request id "0HN2GL4MFGCRG:00000003": started reading request body.
2024-03-30 16:05:16.624 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.658 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.664 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.682 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.683 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.694 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.694 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.714 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.715 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.723 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.726 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.752 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.756 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.765 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.766 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.772 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.773 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.783 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.786 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.799 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.799 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.803 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.806 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.815 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.819 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.882 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.883 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.897 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.898 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.902 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.905 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.908 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.913 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.917 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.918 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.924 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.925 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.932 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.934 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.941 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.942 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.950 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.951 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.957 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.957 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" paused.
2024-03-30 16:05:16.961 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" resumed.
2024-03-30 16:05:16.968 +05:00 [DBG] Connection id "0HN2GL4MFGCRG", Request id "0HN2GL4MFGCRG:00000003": done reading request body.
2024-03-30 16:05:16.969 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:05:16.969 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:05:16.969 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:05:16.969 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:05:16.969 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:05:16.969 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:05:16.997 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:05:16.997 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:05:16.998 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:05:16.998 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:05:16.998 +05:00 [DBG] SaveChanges completed for 'BMContext' with 0 entities written to the database.
2024-03-30 16:05:16.999 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:05:16.999 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:05:16.999 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:05:16.999 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:05:16.999 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:05:16.999 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:05:16.999 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 408.2011ms
2024-03-30 16:05:16.999 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:05:16.999 +05:00 [DBG] Connection id "0HN2GL4MFGCRG" completed keep alive response.
2024-03-30 16:05:17.006 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:05:17.007 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------002557892632533748826824 17609730 - 200 - application/json;+charset=utf-8 422.9412ms
2024-03-30 16:06:29.128 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 16:06:29.252 +05:00 [DBG] Hosting starting
2024-03-30 16:06:29.325 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 16:06:29.333 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 16:06:29.341 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 16:06:29.342 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 16:06:29.342 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 16:06:29.342 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 16:06:29.347 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 16:06:29.352 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 16:06:29.352 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 16:06:29.352 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 16:06:29.353 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 16:06:29.361 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 16:06:29.364 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:06:29.369 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 16:06:29.371 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:06:29.376 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 16:06:29.377 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 16:06:29.379 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 16:06:29.380 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 16:06:29.658 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 16:06:29.662 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 16:06:29.662 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 16:06:29.662 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 16:06:29.662 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 16:06:29.666 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 16:06:29.669 +05:00 [INF] Hosting environment: Development
2024-03-30 16:06:29.671 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 16:06:29.671 +05:00 [DBG] Hosting started
2024-03-30 16:06:30.081 +05:00 [DBG] Connection id "0HN2GL5PRDBQN" accepted.
2024-03-30 16:06:30.082 +05:00 [DBG] Connection id "0HN2GL5PRDBQN" received FIN.
2024-03-30 16:06:30.083 +05:00 [DBG] Connection id "0HN2GL5PRDBQN" started.
2024-03-30 16:06:30.098 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:06:30.167 +05:00 [DBG] Connection id "0HN2GL5PRDBQN" stopped.
2024-03-30 16:06:30.172 +05:00 [DBG] Connection id "0HN2GL5PRDBQN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:06:30.502 +05:00 [DBG] Connection id "0HN2GL5PRDBQO" accepted.
2024-03-30 16:06:30.507 +05:00 [DBG] Connection id "0HN2GL5PRDBQO" started.
2024-03-30 16:06:30.590 +05:00 [DBG] Connection 0HN2GL5PRDBQO established using the following protocol: "Tls12"
2024-03-30 16:06:30.933 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 16:06:31.017 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 16:06:31.085 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 16:06:31.086 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:06:31.293 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 16:06:31.575 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 16:06:31.585 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 655.2418ms
2024-03-30 16:06:31.636 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 16:06:31.644 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 16:06:31.701 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 57.1612ms
2024-03-30 16:06:31.943 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 307.1300ms
2024-03-30 16:06:32.113 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 16:06:32.117 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 16:06:32.117 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:06:32.343 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 231.9703ms
2024-03-30 16:06:33.186 +05:00 [DBG] Connection id "0HN2GL5PRDBQP" received FIN.
2024-03-30 16:06:33.199 +05:00 [DBG] Connection id "0HN2GL5PRDBQP" accepted.
2024-03-30 16:06:33.202 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" accepted.
2024-03-30 16:06:33.203 +05:00 [DBG] Connection id "0HN2GL5PRDBQP" started.
2024-03-30 16:06:33.207 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:06:33.208 +05:00 [DBG] Connection id "0HN2GL5PRDBQP" stopped.
2024-03-30 16:06:33.208 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" started.
2024-03-30 16:06:33.208 +05:00 [DBG] Connection id "0HN2GL5PRDBQP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:06:33.214 +05:00 [DBG] Connection 0HN2GL5PRDBQQ established using the following protocol: "Tls12"
2024-03-30 16:06:33.234 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:33.251 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------807998063086310420841059 17609730
2024-03-30 16:06:33.260 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:06:33.266 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:06:33.267 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:06:33.269 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:06:33.506 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:06:33.508 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:06:33.518 +05:00 [DBG] Authorization was successful.
2024-03-30 16:06:33.521 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:06:33.573 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:06:33.575 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:06:33.576 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:06:33.576 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:06:33.576 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:06:33.576 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:06:33.581 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:06:33.835 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 16:06:33.875 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:06:33.893 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ", Request id "0HN2GL5PRDBQQ:00000001": started reading request body.
2024-03-30 16:06:33.934 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:33.935 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:33.986 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.043 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.082 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.083 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.103 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.118 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.158 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.160 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.181 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.183 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.224 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.401 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.419 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.499 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.527 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.530 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.561 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.572 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.585 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.600 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.614 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.615 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.634 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.648 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.674 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.680 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.692 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.693 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.707 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.708 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.726 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.727 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.742 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.748 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.768 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.770 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.785 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.786 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.803 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.814 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:06:34.827 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:06:34.844 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ", Request id "0HN2GL5PRDBQQ:00000001": done reading request body.
2024-03-30 16:06:34.855 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:06:34.860 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:06:34.861 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:06:34.863 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:06:34.863 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:06:34.877 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:06:36.217 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 16:06:36.217 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 16:06:36.643 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:06:36.647 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:06:36.652 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:06:36.657 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:06:36.673 +05:00 [DBG] SaveChanges completed for 'BMContext' with 0 entities written to the database.
2024-03-30 16:06:36.678 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:06:36.682 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:06:36.682 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:06:36.682 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:06:36.684 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:06:36.684 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:06:36.727 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 3146.4013ms
2024-03-30 16:06:36.730 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:06:36.732 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" completed keep alive response.
2024-03-30 16:06:36.746 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:06:36.756 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:06:36.756 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:06:36.758 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------807998063086310420841059 17609730 - 200 - application/json;+charset=utf-8 3506.8903ms
2024-03-30 16:06:36.769 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:07:11.342 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------121243757432723610023567 17609730
2024-03-30 16:07:11.344 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:07:11.344 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:07:11.376 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.376 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:07:11.376 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:07:11.380 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:07:11.380 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:07:11.391 +05:00 [DBG] Authorization was successful.
2024-03-30 16:07:11.391 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:07:11.392 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:07:11.392 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:07:11.392 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:07:11.392 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:07:11.392 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:07:11.392 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:07:11.392 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:07:11.394 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:07:11.394 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ", Request id "0HN2GL5PRDBQQ:00000002": started reading request body.
2024-03-30 16:07:11.455 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.464 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.493 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.499 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.519 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.519 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.536 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.549 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.574 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.575 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.588 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.589 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.651 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.658 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.677 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.691 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.719 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.726 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.752 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.753 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.783 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.792 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.810 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.814 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.835 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.836 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.852 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.867 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.883 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.892 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:11.932 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:11.935 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:12.027 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:12.032 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:12.044 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:12.049 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:12.061 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:12.065 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:12.085 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:12.086 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:12.099 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:12.099 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:12.115 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:12.116 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:12.128 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:12.130 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:12.142 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:12.143 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:07:12.156 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:07:12.178 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ", Request id "0HN2GL5PRDBQQ:00000002": done reading request body.
2024-03-30 16:07:12.180 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:07:12.181 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:07:12.181 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:07:12.181 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:07:12.181 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:07:12.181 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:07:12.342 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:07:12.342 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:07:12.343 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:07:12.343 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:07:12.343 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:07:12.343 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:07:12.357 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:07:12.466 +05:00 [DBG] Executing 3 update commands as a batch.
2024-03-30 16:07:12.510 +05:00 [DBG] Creating DbConnection.
2024-03-30 16:07:12.516 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-30 16:07:12.522 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:07:13.360 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:07:13.365 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:07:13.374 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:07:13.399 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:07:13.401 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-30 16:07:13.409 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-03-30 16:07:13.422 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (Size = 250), @p9='?' (Size = 250), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (Size = 250), @p13='?' (Size = 250), @p14='?' (Size = 250), @p15='?' (Size = 250), @p16='?' (Size = 250), @p17='?' (DbType = Int32), @p18='?' (DbType = SByte), @p19='?' (Size = 250), @p20='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),(@p7, @p8, @p9, @p10, @p11, @p12, @p13),(@p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-03-30 16:07:13.463 +05:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (Size = 250), @p9='?' (Size = 250), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (Size = 250), @p13='?' (Size = 250), @p14='?' (Size = 250), @p15='?' (Size = 250), @p16='?' (Size = 250), @p17='?' (DbType = Int32), @p18='?' (DbType = SByte), @p19='?' (Size = 250), @p20='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),(@p7, @p8, @p9, @p10, @p11, @p12, @p13),(@p14, @p15, @p16, @p17, @p18, @p19, @p20);
2024-03-30 16:07:13.468 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:07:13.476 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 7ms reading results.
2024-03-30 16:07:13.483 +05:00 [DBG] Committing transaction.
2024-03-30 16:07:13.674 +05:00 [DBG] Committed transaction.
2024-03-30 16:07:13.677 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:07:13.685 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (7ms).
2024-03-30 16:07:13.689 +05:00 [DBG] Disposing transaction.
2024-03-30 16:07:13.699 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:07:13.699 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:07:13.699 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:07:13.701 +05:00 [DBG] SaveChanges completed for 'BMContext' with 3 entities written to the database.
2024-03-30 16:07:13.703 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:07:13.703 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:07:13.704 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:07:13.704 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:07:13.705 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:07:13.705 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:07:13.705 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 2313.1255ms
2024-03-30 16:07:13.705 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:07:13.705 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" completed keep alive response.
2024-03-30 16:07:13.714 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:07:13.718 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:07:13.722 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (2ms).
2024-03-30 16:07:13.722 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------121243757432723610023567 17609730 - 200 - application/json;+charset=utf-8 2379.9259ms
2024-03-30 16:08:34.418 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------159881579398210127830629 17609730
2024-03-30 16:08:34.418 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:08:34.418 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:08:34.418 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:08:34.418 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:08:34.425 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:08:34.425 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:08:34.426 +05:00 [DBG] Authorization was successful.
2024-03-30 16:08:34.426 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.426 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:08:34.427 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:08:34.427 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:08:34.427 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:08:34.427 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:08:34.427 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:08:34.427 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:08:34.427 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:08:34.431 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:08:34.431 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ", Request id "0HN2GL5PRDBQQ:00000003": started reading request body.
2024-03-30 16:08:34.494 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.510 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.549 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.550 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.559 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.560 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.573 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.638 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.649 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.650 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.661 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.690 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.700 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.701 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.718 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.738 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.749 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.756 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.842 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.843 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.857 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.859 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.872 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.875 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.890 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.894 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.908 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.909 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.920 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.923 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.933 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.934 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.955 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.957 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.967 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.974 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.985 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.986 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:34.998 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:34.999 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:35.018 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:35.019 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:35.033 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:35.035 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:08:35.046 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:08:35.074 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ", Request id "0HN2GL5PRDBQQ:00000003": done reading request body.
2024-03-30 16:08:35.074 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:08:35.074 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:08:35.074 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:08:35.074 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:08:35.074 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:08:35.074 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:08:35.124 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:08:35.126 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:08:35.127 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:08:35.132 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:08:35.132 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:08:35.132 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:08:35.135 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-30 16:08:35.135 +05:00 [DBG] Creating DbConnection.
2024-03-30 16:08:35.136 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 16:08:35.136 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:08:35.150 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:08:35.166 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:08:35.166 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:08:35.176 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:08:35.176 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:08:35.177 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:08:35.177 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:08:35.177 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (Size = 250), @p9='?' (Size = 250), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (Size = 250), @p13='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),(@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-03-30 16:08:35.192 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (Size = 250), @p9='?' (Size = 250), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (Size = 250), @p13='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),(@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-03-30 16:08:35.192 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:08:35.192 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 16:08:35.193 +05:00 [DBG] Committing transaction.
2024-03-30 16:08:35.216 +05:00 [DBG] Committed transaction.
2024-03-30 16:08:35.216 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:08:35.216 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:08:35.216 +05:00 [DBG] Disposing transaction.
2024-03-30 16:08:35.216 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:08:35.217 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:08:35.217 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-30 16:08:35.217 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:08:35.217 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:08:35.217 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:08:35.217 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:08:35.217 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:08:35.217 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:08:35.217 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 790.0061ms
2024-03-30 16:08:35.217 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:08:35.217 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" completed keep alive response.
2024-03-30 16:08:35.388 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:08:35.388 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:08:35.388 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:08:35.388 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------159881579398210127830629 17609730 - 200 - application/json;+charset=utf-8 970.4471ms
2024-03-30 16:09:12.584 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------998399705552928144767360 17609730
2024-03-30 16:09:12.584 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:09:12.584 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:09:12.584 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:09:12.584 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:09:12.584 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:09:12.585 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:09:12.585 +05:00 [DBG] Authorization was successful.
2024-03-30 16:09:12.585 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:09:12.585 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:09:12.585 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:09:12.585 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:09:12.585 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:09:12.585 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:09:12.586 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:09:12.586 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:09:12.586 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:09:12.586 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ", Request id "0HN2GL5PRDBQQ:00000004": started reading request body.
2024-03-30 16:09:12.589 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:12.666 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:12.755 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:12.793 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:12.794 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:12.822 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:12.823 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:13.177 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:13.181 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:13.859 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:13.868 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:13.931 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:13.948 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:13.967 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:13.968 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:14.008 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:14.009 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:14.090 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:14.294 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:14.333 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:14.336 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:14.347 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:14.348 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:14.364 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:14.371 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:14.381 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:14.382 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:14.394 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:14.396 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:14.409 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:14.410 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:14.423 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:14.424 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:09:14.435 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:09:14.458 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ", Request id "0HN2GL5PRDBQQ:00000004": done reading request body.
2024-03-30 16:09:14.458 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:09:14.458 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:09:14.458 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:09:14.458 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:09:14.458 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:09:14.458 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:09:14.499 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:09:14.499 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:09:14.518 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:09:14.519 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:09:14.519 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:09:14.519 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:09:14.527 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:09:14.530 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-30 16:09:14.530 +05:00 [DBG] Creating DbConnection.
2024-03-30 16:09:14.530 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 16:09:14.530 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:09:14.533 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:09:14.533 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:09:14.534 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:09:14.534 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:09:14.534 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:09:14.534 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:09:14.534 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (Size = 250), @p9='?' (Size = 250), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (Size = 250), @p13='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),(@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-03-30 16:09:14.539 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (Size = 250), @p9='?' (Size = 250), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (Size = 250), @p13='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),(@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-03-30 16:09:14.539 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:09:14.540 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 16:09:14.540 +05:00 [DBG] Committing transaction.
2024-03-30 16:09:14.647 +05:00 [DBG] Committed transaction.
2024-03-30 16:09:14.647 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:09:14.647 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:09:14.647 +05:00 [DBG] Disposing transaction.
2024-03-30 16:09:14.647 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:09:14.647 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:09:14.647 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-30 16:09:14.647 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:09:14.648 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:09:14.648 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:09:14.648 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:09:14.648 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:09:14.648 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:09:14.648 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 2062.3459ms
2024-03-30 16:09:14.648 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:09:14.648 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" completed keep alive response.
2024-03-30 16:09:14.651 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:09:14.651 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:09:14.651 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:09:14.651 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------998399705552928144767360 17609730 - 200 - application/json;+charset=utf-8 2067.8175ms
2024-03-30 16:09:23.124 +05:00 [DBG] Connection id "0HN2GL5PRDBQO" received FIN.
2024-03-30 16:09:23.126 +05:00 [DBG] Connection id "0HN2GL5PRDBQO" is closed. The last processed stream ID was 21.
2024-03-30 16:09:23.133 +05:00 [DBG] Connection id "0HN2GL5PRDBQO" sending FIN because: "The client closed the connection."
2024-03-30 16:09:23.135 +05:00 [DBG] The connection queue processing loop for 0HN2GL5PRDBQO completed.
2024-03-30 16:09:23.139 +05:00 [DBG] Connection id "0HN2GL5PRDBQO" stopped.
2024-03-30 16:11:46.797 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------762705364431776799164396 8662428
2024-03-30 16:11:46.797 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:11:46.798 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:11:46.798 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:11:46.798 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:11:46.798 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:11:46.798 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:11:46.798 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:11:46.799 +05:00 [DBG] Authorization was successful.
2024-03-30 16:11:46.799 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:11:46.800 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:11:46.800 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:11:46.800 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:11:46.800 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:11:46.801 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:11:46.801 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:11:46.801 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:11:46.801 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:11:46.801 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ", Request id "0HN2GL5PRDBQQ:00000005": started reading request body.
2024-03-30 16:11:47.060 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:11:47.061 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:11:47.099 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:11:47.105 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:11:47.118 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:11:47.119 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:11:47.131 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:11:47.131 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:11:47.142 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:11:47.143 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:11:47.173 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:11:47.176 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:11:47.199 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:11:47.208 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:11:47.218 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:11:47.219 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:11:47.233 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:11:47.250 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:11:47.264 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:11:47.265 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" paused.
2024-03-30 16:11:47.277 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" resumed.
2024-03-30 16:11:47.293 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ", Request id "0HN2GL5PRDBQQ:00000005": done reading request body.
2024-03-30 16:11:47.293 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:11:47.293 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:11:47.293 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:11:47.293 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:11:47.293 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:11:47.293 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:11:47.299 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:11:47.299 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:11:47.299 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:11:47.299 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:11:47.299 +05:00 [DBG] SaveChanges completed for 'BMContext' with 0 entities written to the database.
2024-03-30 16:11:47.300 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:11:47.300 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:11:47.300 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:11:47.300 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:11:47.300 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:11:47.300 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:11:47.301 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 499.9314ms
2024-03-30 16:11:47.301 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:11:47.349 +05:00 [DBG] Connection id "0HN2GL5PRDBQQ" completed keep alive response.
2024-03-30 16:11:47.415 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:11:47.415 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------762705364431776799164396 8662428 - 200 - application/json;+charset=utf-8 618.8972ms
2024-03-30 16:12:23.210 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 16:12:23.268 +05:00 [DBG] Hosting starting
2024-03-30 16:12:23.283 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 16:12:23.290 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 16:12:23.296 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 16:12:23.297 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 16:12:23.297 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 16:12:23.297 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 16:12:23.301 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 16:12:23.304 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 16:12:23.304 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 16:12:23.304 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 16:12:23.305 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 16:12:23.311 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 16:12:23.314 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:12:23.317 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 16:12:23.318 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:12:23.322 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 16:12:23.323 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 16:12:23.324 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 16:12:23.325 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 16:12:23.443 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 16:12:23.444 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 16:12:23.444 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 16:12:23.444 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 16:12:23.444 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 16:12:23.446 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 16:12:23.446 +05:00 [INF] Hosting environment: Development
2024-03-30 16:12:23.446 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 16:12:23.446 +05:00 [DBG] Hosting started
2024-03-30 16:12:23.501 +05:00 [DBG] Connection id "0HN2GL935SHR3" received FIN.
2024-03-30 16:12:23.505 +05:00 [DBG] Connection id "0HN2GL935SHR3" accepted.
2024-03-30 16:12:23.506 +05:00 [DBG] Connection id "0HN2GL935SHR3" started.
2024-03-30 16:12:23.518 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:12:23.535 +05:00 [DBG] Connection id "0HN2GL935SHR3" stopped.
2024-03-30 16:12:23.537 +05:00 [DBG] Connection id "0HN2GL935SHR3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:12:23.658 +05:00 [DBG] Connection id "0HN2GL935SHR4" accepted.
2024-03-30 16:12:23.659 +05:00 [DBG] Connection id "0HN2GL935SHR4" started.
2024-03-30 16:12:23.719 +05:00 [DBG] Connection 0HN2GL935SHR4 established using the following protocol: "Tls12"
2024-03-30 16:12:23.811 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 16:12:23.843 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 16:12:23.914 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 16:12:23.915 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:12:24.055 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 16:12:24.171 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 16:12:24.171 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 16:12:24.174 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 367.1098ms
2024-03-30 16:12:24.175 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 16:12:24.181 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.6901ms
2024-03-30 16:12:24.235 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.4776ms
2024-03-30 16:12:24.373 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 16:12:24.375 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 16:12:24.375 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:12:24.577 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.6156ms
2024-03-30 16:12:27.240 +05:00 [DBG] Connection id "0HN2GL935SHR5" received FIN.
2024-03-30 16:12:27.240 +05:00 [DBG] Connection id "0HN2GL935SHR5" accepted.
2024-03-30 16:12:27.240 +05:00 [DBG] Connection id "0HN2GL935SHR6" accepted.
2024-03-30 16:12:27.240 +05:00 [DBG] Connection id "0HN2GL935SHR5" started.
2024-03-30 16:12:27.242 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:12:27.243 +05:00 [DBG] Connection id "0HN2GL935SHR5" stopped.
2024-03-30 16:12:27.243 +05:00 [DBG] Connection id "0HN2GL935SHR6" started.
2024-03-30 16:12:27.243 +05:00 [DBG] Connection id "0HN2GL935SHR5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:12:27.248 +05:00 [DBG] Connection 0HN2GL935SHR6 established using the following protocol: "Tls12"
2024-03-30 16:12:27.278 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.292 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------627989958530479689556290 8662428
2024-03-30 16:12:27.298 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:12:27.303 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:12:27.305 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:12:27.308 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:12:27.423 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:12:27.424 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:12:27.433 +05:00 [DBG] Authorization was successful.
2024-03-30 16:12:27.434 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:12:27.471 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:12:27.473 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:12:27.473 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:12:27.473 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:12:27.473 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:12:27.473 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:12:27.475 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:12:27.610 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 16:12:27.641 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:12:27.649 +05:00 [DBG] Connection id "0HN2GL935SHR6", Request id "0HN2GL935SHR6:00000001": started reading request body.
2024-03-30 16:12:27.670 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.672 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.677 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.677 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.686 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.691 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.703 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.705 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.711 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.711 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.718 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.719 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.725 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.727 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.734 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.735 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.742 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.742 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.751 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.751 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.758 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.760 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.767 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.768 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:27.775 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:27.783 +05:00 [DBG] Connection id "0HN2GL935SHR6", Request id "0HN2GL935SHR6:00000001": done reading request body.
2024-03-30 16:12:27.791 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:12:27.795 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:12:27.798 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:12:27.798 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:12:27.798 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:12:27.811 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:12:28.400 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 16:12:28.400 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 16:12:28.793 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:12:28.798 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:12:28.801 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:12:28.807 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:12:28.832 +05:00 [DBG] SaveChanges completed for 'BMContext' with 0 entities written to the database.
2024-03-30 16:12:28.835 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:12:28.839 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:12:28.840 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:12:28.840 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:12:28.841 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:12:28.841 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:12:28.860 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 1382.4146ms
2024-03-30 16:12:28.861 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:12:28.864 +05:00 [DBG] Connection id "0HN2GL935SHR6" completed keep alive response.
2024-03-30 16:12:28.939 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:12:28.942 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------627989958530479689556290 8662428 - 200 - application/json;+charset=utf-8 1649.2020ms
2024-03-30 16:12:28.973 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:12:55.308 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------076161664953950367134414 8662428
2024-03-30 16:12:55.310 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:55.311 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:12:55.311 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:12:55.311 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:12:55.311 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:12:55.318 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:12:55.318 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:12:55.323 +05:00 [DBG] Authorization was successful.
2024-03-30 16:12:55.323 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:12:55.324 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:12:55.324 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:12:55.324 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:12:55.325 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:12:55.325 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:12:55.325 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:12:55.325 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:12:55.327 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:12:55.327 +05:00 [DBG] Connection id "0HN2GL935SHR6", Request id "0HN2GL935SHR6:00000002": started reading request body.
2024-03-30 16:12:55.338 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:55.339 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:55.345 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:55.346 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:55.352 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:55.355 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:55.363 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:55.364 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:55.372 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:55.372 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:55.380 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:55.382 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:55.390 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:55.390 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:55.401 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:55.402 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:55.409 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:55.410 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:55.419 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:55.422 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:12:55.430 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:12:55.440 +05:00 [DBG] Connection id "0HN2GL935SHR6", Request id "0HN2GL935SHR6:00000002": done reading request body.
2024-03-30 16:12:55.441 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:12:55.442 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:12:55.442 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:12:55.442 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:12:55.442 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:12:55.442 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:12:55.515 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:12:55.515 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:12:55.516 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:12:55.517 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:12:55.528 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:12:55.613 +05:00 [DBG] Creating DbConnection.
2024-03-30 16:12:55.620 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-30 16:12:55.627 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:12:55.984 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:12:55.989 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:12:56.003 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:12:56.024 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:12:56.027 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-03-30 16:12:56.040 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-03-30 16:12:56.053 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:12:56.074 +05:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:12:56.080 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:12:56.086 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 7ms reading results.
2024-03-30 16:12:56.092 +05:00 [DBG] Committing transaction.
2024-03-30 16:12:56.123 +05:00 [DBG] Committed transaction.
2024-03-30 16:12:56.125 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:12:56.132 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-30 16:12:56.134 +05:00 [DBG] Disposing transaction.
2024-03-30 16:12:56.144 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:12:56.147 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:12:56.150 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:12:56.150 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:12:56.151 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:12:56.151 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:12:56.151 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:12:56.151 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:12:56.152 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 827.364ms
2024-03-30 16:12:56.153 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:12:56.153 +05:00 [DBG] Connection id "0HN2GL935SHR6" completed keep alive response.
2024-03-30 16:12:56.157 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:12:56.167 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:12:56.176 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (2ms).
2024-03-30 16:12:56.176 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------076161664953950367134414 8662428 - 200 - application/json;+charset=utf-8 868.0623ms
2024-03-30 16:13:22.047 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.049 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------861429359878955066390562 18476343
2024-03-30 16:13:22.050 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:13:22.050 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:13:22.050 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:13:22.052 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:13:22.057 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:13:22.057 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:13:22.058 +05:00 [DBG] Authorization was successful.
2024-03-30 16:13:22.058 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:13:22.058 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:13:22.058 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:13:22.058 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:13:22.058 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:13:22.058 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:13:22.059 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:13:22.059 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:13:22.060 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:13:22.060 +05:00 [DBG] Connection id "0HN2GL935SHR6", Request id "0HN2GL935SHR6:00000003": started reading request body.
2024-03-30 16:13:22.085 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.085 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.149 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.150 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.155 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.159 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.181 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.182 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.190 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.191 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.197 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.198 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.202 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.206 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.221 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.222 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.226 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.226 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.231 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.231 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.235 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.239 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.311 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.311 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.325 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.325 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.330 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.336 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.350 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.351 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.360 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.361 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.369 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.372 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.377 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.377 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.392 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.393 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.399 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.400 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.407 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.407 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.411 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.411 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.417 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.417 +05:00 [DBG] Connection id "0HN2GL935SHR6" paused.
2024-03-30 16:13:22.423 +05:00 [DBG] Connection id "0HN2GL935SHR6" resumed.
2024-03-30 16:13:22.429 +05:00 [DBG] Connection id "0HN2GL935SHR6", Request id "0HN2GL935SHR6:00000003": done reading request body.
2024-03-30 16:13:22.430 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:13:22.430 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:13:22.430 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:13:22.430 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:13:22.430 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:13:22.430 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:13:22.452 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:13:22.452 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:13:22.455 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:13:22.455 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:13:22.455 +05:00 [DBG] SaveChanges completed for 'BMContext' with 0 entities written to the database.
2024-03-30 16:13:22.455 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:13:22.455 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:13:22.455 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:13:22.455 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:13:22.455 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:13:22.455 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:13:22.456 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 397.0782ms
2024-03-30 16:13:22.456 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:13:22.456 +05:00 [DBG] Connection id "0HN2GL935SHR6" completed keep alive response.
2024-03-30 16:13:22.458 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:13:22.458 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------861429359878955066390562 18476343 - 200 - application/json;+charset=utf-8 409.5874ms
2024-03-30 16:14:42.959 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 16:14:43.026 +05:00 [DBG] Hosting starting
2024-03-30 16:14:43.044 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 16:14:43.051 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 16:14:43.058 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 16:14:43.058 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 16:14:43.059 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 16:14:43.059 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 16:14:43.063 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 16:14:43.066 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 16:14:43.066 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 16:14:43.066 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 16:14:43.066 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 16:14:43.073 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 16:14:43.075 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:14:43.078 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 16:14:43.079 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:14:43.083 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 16:14:43.084 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 16:14:43.085 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 16:14:43.086 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 16:14:43.212 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 16:14:43.213 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 16:14:43.213 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 16:14:43.213 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 16:14:43.213 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 16:14:43.215 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 16:14:43.216 +05:00 [INF] Hosting environment: Development
2024-03-30 16:14:43.216 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 16:14:43.216 +05:00 [DBG] Hosting started
2024-03-30 16:14:43.293 +05:00 [DBG] Connection id "0HN2GLACR1G85" received FIN.
2024-03-30 16:14:43.297 +05:00 [DBG] Connection id "0HN2GLACR1G85" accepted.
2024-03-30 16:14:43.297 +05:00 [DBG] Connection id "0HN2GLACR1G85" started.
2024-03-30 16:14:43.302 +05:00 [DBG] Connection id "0HN2GLACR1G86" accepted.
2024-03-30 16:14:43.302 +05:00 [DBG] Connection id "0HN2GLACR1G86" started.
2024-03-30 16:14:43.311 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:14:43.331 +05:00 [DBG] Connection id "0HN2GLACR1G85" stopped.
2024-03-30 16:14:43.336 +05:00 [DBG] Connection id "0HN2GLACR1G85" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:14:43.358 +05:00 [DBG] Connection 0HN2GLACR1G86 established using the following protocol: "Tls12"
2024-03-30 16:14:43.408 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 16:14:43.426 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 16:14:43.469 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 16:14:43.476 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:14:43.651 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 16:14:43.766 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 16:14:43.769 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 363.9986ms
2024-03-30 16:14:43.840 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 16:14:43.841 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 16:14:43.845 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.4496ms
2024-03-30 16:14:43.868 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.3689ms
2024-03-30 16:14:44.291 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 16:14:44.293 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 16:14:44.293 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:14:44.438 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.2744ms
2024-03-30 16:14:58.191 +05:00 [DBG] Connection id "0HN2GLACR1G87" accepted.
2024-03-30 16:14:58.191 +05:00 [DBG] Connection id "0HN2GLACR1G87" started.
2024-03-30 16:14:58.192 +05:00 [DBG] Connection id "0HN2GLACR1G88" accepted.
2024-03-30 16:14:58.192 +05:00 [DBG] Connection id "0HN2GLACR1G87" received FIN.
2024-03-30 16:14:58.192 +05:00 [DBG] Connection id "0HN2GLACR1G88" started.
2024-03-30 16:14:58.194 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:14:58.195 +05:00 [DBG] Connection id "0HN2GLACR1G87" stopped.
2024-03-30 16:14:58.196 +05:00 [DBG] Connection id "0HN2GLACR1G87" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:14:58.198 +05:00 [DBG] Connection 0HN2GLACR1G88 established using the following protocol: "Tls12"
2024-03-30 16:14:58.208 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.219 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------794384401604397681620958 18476343
2024-03-30 16:14:58.225 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:14:58.230 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:14:58.231 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:14:58.233 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:14:58.350 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:14:58.352 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:14:58.360 +05:00 [DBG] Authorization was successful.
2024-03-30 16:14:58.361 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:14:58.405 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:14:58.407 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:14:58.408 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:14:58.408 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:14:58.408 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:14:58.408 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:14:58.410 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:14:58.546 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 16:14:58.578 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:14:58.585 +05:00 [DBG] Connection id "0HN2GLACR1G88", Request id "0HN2GLACR1G88:00000001": started reading request body.
2024-03-30 16:14:58.614 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.616 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.641 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.641 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.653 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.656 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.665 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.668 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.683 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.684 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.698 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.699 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.711 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.713 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.728 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.733 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.774 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.775 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.786 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.787 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.794 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.797 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.805 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.807 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.856 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.857 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.882 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.884 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.898 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.902 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.910 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.910 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.916 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.917 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.926 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.927 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.934 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.935 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.942 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.943 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.950 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.950 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.957 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.958 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.964 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.965 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.969 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.972 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:14:58.977 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:14:58.989 +05:00 [DBG] Connection id "0HN2GLACR1G88", Request id "0HN2GLACR1G88:00000001": done reading request body.
2024-03-30 16:14:58.995 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:14:59.000 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:14:59.001 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:14:59.001 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:14:59.001 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:14:59.015 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:14:59.542 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 16:14:59.542 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 16:14:59.910 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:14:59.915 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:14:59.919 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:14:59.923 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:14:59.935 +05:00 [DBG] SaveChanges completed for 'BMContext' with 0 entities written to the database.
2024-03-30 16:14:59.940 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:14:59.942 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:14:59.942 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:14:59.942 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:14:59.943 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:14:59.944 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:14:59.963 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 1549.5929ms
2024-03-30 16:14:59.964 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:14:59.965 +05:00 [DBG] Connection id "0HN2GLACR1G88" completed keep alive response.
2024-03-30 16:14:59.971 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:14:59.974 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------794384401604397681620958 18476343 - 200 - application/json;+charset=utf-8 1755.0969ms
2024-03-30 16:15:00.008 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:15:00.015 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:15:12.699 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------672712850310244185351674 18476343
2024-03-30 16:15:12.701 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:15:12.701 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:15:12.701 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:15:12.702 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:15:12.705 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:15:12.705 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:15:12.709 +05:00 [DBG] Authorization was successful.
2024-03-30 16:15:12.710 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.710 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:15:12.711 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:15:12.711 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:15:12.711 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:15:12.711 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:15:12.711 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:15:12.711 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:15:12.711 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:15:12.715 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:15:12.716 +05:00 [DBG] Connection id "0HN2GLACR1G88", Request id "0HN2GLACR1G88:00000002": started reading request body.
2024-03-30 16:15:12.753 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.757 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.769 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.769 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.777 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.777 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.783 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.783 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.790 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.793 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.808 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.808 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.814 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.814 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.818 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.818 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.828 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.833 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.847 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.847 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.856 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.856 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.861 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.894 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.911 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.911 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.924 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.925 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.934 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.938 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.944 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.944 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.951 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.951 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.956 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.957 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.960 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.963 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.969 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.969 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.975 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.975 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.981 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.982 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.986 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.986 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:12.994 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:12.999 +05:00 [DBG] Connection id "0HN2GLACR1G88", Request id "0HN2GLACR1G88:00000002": done reading request body.
2024-03-30 16:15:13.000 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:15:13.001 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:15:13.001 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:15:13.001 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:15:13.001 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:15:13.001 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:15:13.087 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:15:13.087 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:15:13.090 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:15:13.090 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:15:13.091 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:15:13.106 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:15:13.185 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-30 16:15:13.203 +05:00 [DBG] Creating DbConnection.
2024-03-30 16:15:13.210 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-30 16:15:13.216 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:15:13.560 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:15:13.565 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:15:13.575 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:15:13.590 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:15:13.591 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-03-30 16:15:13.601 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-03-30 16:15:13.616 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (Size = 250), @p9='?' (Size = 250), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (Size = 250), @p13='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),(@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-03-30 16:15:13.663 +05:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (Size = 250), @p9='?' (Size = 250), @p10='?' (DbType = Int32), @p11='?' (DbType = SByte), @p12='?' (Size = 250), @p13='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),(@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-03-30 16:15:13.675 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:15:13.686 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 13ms reading results.
2024-03-30 16:15:13.702 +05:00 [DBG] Committing transaction.
2024-03-30 16:15:13.727 +05:00 [DBG] Committed transaction.
2024-03-30 16:15:13.734 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:15:13.756 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (18ms).
2024-03-30 16:15:13.759 +05:00 [DBG] Disposing transaction.
2024-03-30 16:15:13.772 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:15:13.773 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:15:13.774 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-30 16:15:13.783 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:15:13.783 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:15:13.783 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:15:13.783 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:15:13.783 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:15:13.783 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:15:13.784 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 1072.7385ms
2024-03-30 16:15:13.784 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:15:13.784 +05:00 [DBG] Connection id "0HN2GLACR1G88" completed keep alive response.
2024-03-30 16:15:13.789 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:15:13.815 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:15:13.817 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (25ms).
2024-03-30 16:15:13.817 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------672712850310244185351674 18476343 - 200 - application/json;+charset=utf-8 1117.9790ms
2024-03-30 16:15:49.142 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.143 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------242467456707945828035682 18476343
2024-03-30 16:15:49.143 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:15:49.143 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:15:49.143 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:15:49.143 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:15:49.150 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:15:49.150 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:15:49.156 +05:00 [DBG] Authorization was successful.
2024-03-30 16:15:49.159 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:15:49.160 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:15:49.160 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:15:49.160 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:15:49.160 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:15:49.160 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:15:49.160 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:15:49.160 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:15:49.163 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:15:49.163 +05:00 [DBG] Connection id "0HN2GLACR1G88", Request id "0HN2GLACR1G88:00000003": started reading request body.
2024-03-30 16:15:49.232 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.232 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.236 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.237 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.242 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.245 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.257 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.257 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.261 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.261 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.268 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.272 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.278 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.278 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.289 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.289 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.292 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.293 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.298 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.301 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.309 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.309 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.316 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.316 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.320 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.320 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.325 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.325 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.333 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.339 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.349 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.350 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.353 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.355 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.359 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.363 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.366 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.367 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.370 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.372 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.376 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.376 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.381 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.382 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.386 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.386 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.392 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.392 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.397 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.397 +05:00 [DBG] Connection id "0HN2GLACR1G88" paused.
2024-03-30 16:15:49.401 +05:00 [DBG] Connection id "0HN2GLACR1G88" resumed.
2024-03-30 16:15:49.409 +05:00 [DBG] Connection id "0HN2GLACR1G88", Request id "0HN2GLACR1G88:00000003": done reading request body.
2024-03-30 16:15:49.409 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:15:49.409 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:15:49.409 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:15:49.409 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:15:49.409 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:15:49.409 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:15:49.432 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:15:49.432 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:15:49.433 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:15:49.433 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:15:49.433 +05:00 [DBG] SaveChanges completed for 'BMContext' with 0 entities written to the database.
2024-03-30 16:15:49.433 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:15:49.433 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:15:49.433 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:15:49.433 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:15:49.433 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:15:49.433 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:15:49.434 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 273.7415ms
2024-03-30 16:15:49.434 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:15:49.434 +05:00 [DBG] Connection id "0HN2GLACR1G88" completed keep alive response.
2024-03-30 16:15:49.434 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:15:49.438 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:15:49.438 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------242467456707945828035682 18476343 - 200 - application/json;+charset=utf-8 295.0708ms
2024-03-30 16:23:38.574 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 16:23:38.642 +05:00 [DBG] Hosting starting
2024-03-30 16:23:38.657 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 16:23:38.664 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 16:23:38.679 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 16:23:38.685 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 16:23:38.696 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 16:23:38.702 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 16:23:38.715 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 16:23:38.718 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 16:23:38.718 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 16:23:38.718 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 16:23:38.718 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 16:23:38.724 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 16:23:38.727 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:23:38.729 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 16:23:38.731 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:23:38.735 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 16:23:38.735 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 16:23:38.736 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 16:23:38.737 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 16:23:38.875 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 16:23:38.875 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 16:23:38.875 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 16:23:38.876 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 16:23:38.876 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 16:23:38.877 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 16:23:38.878 +05:00 [INF] Hosting environment: Development
2024-03-30 16:23:38.878 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 16:23:38.878 +05:00 [DBG] Hosting started
2024-03-30 16:23:39.359 +05:00 [DBG] Connection id "0HN2GLFCJC1AV" accepted.
2024-03-30 16:23:39.360 +05:00 [DBG] Connection id "0HN2GLFCJC1AV" started.
2024-03-30 16:23:39.368 +05:00 [DBG] Connection id "0HN2GLFCJC1B0" accepted.
2024-03-30 16:23:39.368 +05:00 [DBG] Connection id "0HN2GLFCJC1B0" started.
2024-03-30 16:23:39.372 +05:00 [DBG] Connection id "0HN2GLFCJC1AV" received FIN.
2024-03-30 16:23:39.373 +05:00 [DBG] Connection id "0HN2GLFCJC1B0" received FIN.
2024-03-30 16:23:39.377 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:23:39.377 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:23:39.394 +05:00 [DBG] Connection id "0HN2GLFCJC1AV" stopped.
2024-03-30 16:23:39.394 +05:00 [DBG] Connection id "0HN2GLFCJC1B0" stopped.
2024-03-30 16:23:39.397 +05:00 [DBG] Connection id "0HN2GLFCJC1AV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:23:39.398 +05:00 [DBG] Connection id "0HN2GLFCJC1B0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:23:39.409 +05:00 [DBG] Connection id "0HN2GLFCJC1B1" accepted.
2024-03-30 16:23:39.409 +05:00 [DBG] Connection id "0HN2GLFCJC1B1" started.
2024-03-30 16:23:39.443 +05:00 [DBG] Connection 0HN2GLFCJC1B1 established using the following protocol: "Tls12"
2024-03-30 16:23:39.493 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 16:23:39.511 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 16:23:39.545 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 16:23:39.546 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:23:39.686 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 16:23:39.793 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 16:23:39.796 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 306.3159ms
2024-03-30 16:23:39.839 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 16:23:39.844 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.6255ms
2024-03-30 16:23:39.844 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 16:23:39.885 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.3176ms
2024-03-30 16:23:40.242 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 16:23:40.243 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 16:23:40.243 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:23:40.364 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.7414ms
2024-03-30 16:23:41.014 +05:00 [DBG] Connection id "0HN2GLFCJC1B2" accepted.
2024-03-30 16:23:41.014 +05:00 [DBG] Connection id "0HN2GLFCJC1B2" received FIN.
2024-03-30 16:23:41.014 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" accepted.
2024-03-30 16:23:41.014 +05:00 [DBG] Connection id "0HN2GLFCJC1B2" started.
2024-03-30 16:23:41.015 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:23:41.015 +05:00 [DBG] Connection id "0HN2GLFCJC1B2" stopped.
2024-03-30 16:23:41.015 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" started.
2024-03-30 16:23:41.016 +05:00 [DBG] Connection id "0HN2GLFCJC1B2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:23:41.032 +05:00 [DBG] Connection 0HN2GLFCJC1B3 established using the following protocol: "Tls12"
2024-03-30 16:23:41.058 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.073 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------281576656155008749666924 18476343
2024-03-30 16:23:41.076 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:23:41.081 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:23:41.082 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:23:41.084 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:23:41.212 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:23:41.215 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:23:41.222 +05:00 [DBG] Authorization was successful.
2024-03-30 16:23:41.223 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:23:41.258 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:23:41.259 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:23:41.260 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:23:41.260 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:23:41.261 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:23:41.261 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:23:41.265 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:23:41.390 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 16:23:41.421 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:23:41.428 +05:00 [DBG] Connection id "0HN2GLFCJC1B3", Request id "0HN2GLFCJC1B3:00000001": started reading request body.
2024-03-30 16:23:41.449 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.449 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.459 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.460 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.470 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.473 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.491 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.491 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.502 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.503 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.510 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.510 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.517 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.522 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.534 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.536 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.545 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.547 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.552 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.553 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.560 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.565 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.617 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.618 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.641 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.641 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.650 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.651 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.659 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.665 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.677 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.678 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.685 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.686 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.694 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.695 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.702 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.707 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.717 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.718 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.726 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.727 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.734 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.735 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.744 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.747 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.757 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.758 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.765 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.766 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.774 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.775 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:23:41.783 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:23:41.795 +05:00 [DBG] Connection id "0HN2GLFCJC1B3", Request id "0HN2GLFCJC1B3:00000001": done reading request body.
2024-03-30 16:23:41.803 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:23:41.808 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:23:41.809 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:23:41.810 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:23:41.810 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:23:41.822 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:23:42.423 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 16:23:42.423 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 16:23:42.781 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:23:42.890 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:23:42.894 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:23:42.900 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:23:42.915 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:23:43.002 +05:00 [DBG] Creating DbConnection.
2024-03-30 16:23:43.012 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-30 16:23:43.018 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:23:43.311 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:23:43.315 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:23:43.326 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:23:43.336 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:23:43.344 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-30 16:23:43.351 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-03-30 16:23:43.361 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:23:43.383 +05:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:23:43.389 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:23:43.395 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 6ms reading results.
2024-03-30 16:23:43.400 +05:00 [DBG] Committing transaction.
2024-03-30 16:23:43.418 +05:00 [DBG] Committed transaction.
2024-03-30 16:23:43.422 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:23:43.427 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (5ms).
2024-03-30 16:23:43.428 +05:00 [DBG] Disposing transaction.
2024-03-30 16:23:43.440 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:23:43.441 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:23:43.466 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:23:43.467 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:23:43.467 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:23:43.469 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:23:43.471 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:23:43.476 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:23:43.476 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:23:43.477 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:23:43.478 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:23:43.478 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:23:43.478 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:23:43.478 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:23:43.482 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:23:43.482 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:23:43.483 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 16:23:43.483 +05:00 [DBG] Committing transaction.
2024-03-30 16:23:43.499 +05:00 [DBG] Committed transaction.
2024-03-30 16:23:43.499 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:23:43.499 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:23:43.499 +05:00 [DBG] Disposing transaction.
2024-03-30 16:23:43.500 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:23:43.500 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:23:43.504 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:23:43.507 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:23:43.508 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:23:43.508 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:23:43.509 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:23:43.509 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:23:43.530 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 2262.3653ms
2024-03-30 16:23:43.531 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:23:43.532 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" completed keep alive response.
2024-03-30 16:23:43.539 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:23:43.544 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:23:43.550 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-30 16:23:43.551 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------281576656155008749666924 18476343 - 200 - application/json;+charset=utf-8 2477.6374ms
2024-03-30 16:24:11.001 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.002 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------480083822258329445417107 28890886
2024-03-30 16:24:11.006 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:24:11.006 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:24:11.006 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:24:11.006 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:24:11.008 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:24:11.008 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:24:11.016 +05:00 [DBG] Authorization was successful.
2024-03-30 16:24:11.016 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:24:11.019 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:24:11.019 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:24:11.019 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:24:11.019 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:24:11.019 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:24:11.019 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:24:11.019 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:24:11.023 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:24:11.024 +05:00 [DBG] Connection id "0HN2GLFCJC1B3", Request id "0HN2GLFCJC1B3:00000002": started reading request body.
2024-03-30 16:24:11.043 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.043 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.052 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.056 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.066 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.067 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.070 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.072 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.076 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.077 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.082 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.085 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.090 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.090 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.098 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.098 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.111 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.111 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.125 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.128 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.144 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.144 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.193 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.193 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.207 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.211 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.223 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.223 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.226 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.227 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.233 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.236 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.243 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.244 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.252 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.252 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.257 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.258 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.261 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.267 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.277 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.277 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.283 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.284 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.293 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.294 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.301 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.303 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.317 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.317 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.323 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.323 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.334 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.339 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.349 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.349 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.358 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.358 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.364 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.364 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.368 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.371 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.378 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.378 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.395 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.397 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.401 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.403 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.410 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.410 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.419 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.419 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.425 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.426 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" paused.
2024-03-30 16:24:11.432 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" resumed.
2024-03-30 16:24:11.439 +05:00 [DBG] Connection id "0HN2GLFCJC1B3", Request id "0HN2GLFCJC1B3:00000002": done reading request body.
2024-03-30 16:24:11.440 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:24:11.441 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:24:11.441 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:24:11.441 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:24:11.441 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:24:11.442 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:24:11.520 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:24:11.522 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:24:11.522 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:24:11.523 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:24:11.523 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:24:11.524 +05:00 [DBG] Creating DbConnection.
2024-03-30 16:24:11.524 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 16:24:11.524 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.525 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.525 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:24:11.526 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:24:11.526 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:24:11.526 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:24:11.526 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:24:11.526 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:24:11.527 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:24:11.527 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.527 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 16:24:11.527 +05:00 [DBG] Committing transaction.
2024-03-30 16:24:11.553 +05:00 [DBG] Committed transaction.
2024-03-30 16:24:11.553 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.553 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:24:11.553 +05:00 [DBG] Disposing transaction.
2024-03-30 16:24:11.553 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:24:11.553 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:24:11.568 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:24:11.569 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:24:11.569 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:24:11.569 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:24:11.569 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.570 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.570 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:24:11.572 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:24:11.573 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:24:11.573 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:24:11.573 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:24:11.573 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:24:11.574 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:24:11.574 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.574 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 16:24:11.574 +05:00 [DBG] Committing transaction.
2024-03-30 16:24:11.632 +05:00 [DBG] Committed transaction.
2024-03-30 16:24:11.633 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.633 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:24:11.633 +05:00 [DBG] Disposing transaction.
2024-03-30 16:24:11.634 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:24:11.634 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:24:11.652 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:24:11.652 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:24:11.652 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:24:11.652 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:24:11.652 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.653 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.653 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:24:11.653 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:24:11.656 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:24:11.656 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:24:11.656 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:24:11.656 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:24:11.659 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:24:11.659 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.659 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 16:24:11.659 +05:00 [DBG] Committing transaction.
2024-03-30 16:24:11.691 +05:00 [DBG] Committed transaction.
2024-03-30 16:24:11.691 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.691 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:24:11.691 +05:00 [DBG] Disposing transaction.
2024-03-30 16:24:11.691 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:24:11.691 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:24:11.709 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:24:11.710 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:24:11.710 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:24:11.710 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:24:11.710 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.711 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.711 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:24:11.717 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:24:11.717 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:24:11.717 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:24:11.717 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:24:11.718 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:24:11.723 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:24:11.723 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.723 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 16:24:11.723 +05:00 [DBG] Committing transaction.
2024-03-30 16:24:11.766 +05:00 [DBG] Committed transaction.
2024-03-30 16:24:11.766 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.766 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:24:11.766 +05:00 [DBG] Disposing transaction.
2024-03-30 16:24:11.766 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:24:11.766 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:24:11.794 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:24:11.795 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:24:11.795 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:24:11.795 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:24:11.795 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.801 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.801 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:24:11.803 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:24:11.803 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:24:11.803 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:24:11.803 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:24:11.803 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:24:11.816 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:24:11.816 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.816 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 16:24:11.816 +05:00 [DBG] Committing transaction.
2024-03-30 16:24:11.850 +05:00 [DBG] Committed transaction.
2024-03-30 16:24:11.850 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.850 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:24:11.850 +05:00 [DBG] Disposing transaction.
2024-03-30 16:24:11.851 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:24:11.851 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:24:11.851 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:24:11.851 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:24:11.851 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:24:11.851 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:24:11.852 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:24:11.852 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:24:11.852 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 833.1095ms
2024-03-30 16:24:11.852 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:24:11.852 +05:00 [DBG] Connection id "0HN2GLFCJC1B3" completed keep alive response.
2024-03-30 16:24:11.859 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:24:11.861 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:24:11.862 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:24:11.862 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------480083822258329445417107 28890886 - 200 - application/json;+charset=utf-8 860.1568ms
2024-03-30 16:25:38.916 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 16:25:38.972 +05:00 [DBG] Hosting starting
2024-03-30 16:25:38.986 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 16:25:38.993 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 16:25:39.000 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 16:25:39.001 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 16:25:39.001 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 16:25:39.001 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 16:25:39.005 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 16:25:39.009 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 16:25:39.009 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 16:25:39.009 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 16:25:39.009 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 16:25:39.017 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 16:25:39.019 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:25:39.022 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 16:25:39.023 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:25:39.027 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 16:25:39.028 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 16:25:39.029 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 16:25:39.030 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 16:25:39.145 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 16:25:39.146 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 16:25:39.146 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 16:25:39.146 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 16:25:39.146 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 16:25:39.148 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 16:25:39.148 +05:00 [INF] Hosting environment: Development
2024-03-30 16:25:39.149 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 16:25:39.149 +05:00 [DBG] Hosting started
2024-03-30 16:25:39.205 +05:00 [DBG] Connection id "0HN2GLGGA9U5G" accepted.
2024-03-30 16:25:39.205 +05:00 [DBG] Connection id "0HN2GLGGA9U5G" started.
2024-03-30 16:25:39.216 +05:00 [DBG] Connection id "0HN2GLGGA9U5G" received FIN.
2024-03-30 16:25:39.221 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:25:39.235 +05:00 [DBG] Connection id "0HN2GLGGA9U5G" stopped.
2024-03-30 16:25:39.238 +05:00 [DBG] Connection id "0HN2GLGGA9U5G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:25:39.247 +05:00 [DBG] Connection id "0HN2GLGGA9U5H" accepted.
2024-03-30 16:25:39.247 +05:00 [DBG] Connection id "0HN2GLGGA9U5H" started.
2024-03-30 16:25:39.279 +05:00 [DBG] Connection 0HN2GLGGA9U5H established using the following protocol: "Tls12"
2024-03-30 16:25:39.346 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 16:25:39.364 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 16:25:39.398 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 16:25:39.398 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:25:39.533 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 16:25:39.635 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 16:25:39.638 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 293.8656ms
2024-03-30 16:25:39.736 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 16:25:39.736 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 16:25:39.740 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.4304ms
2024-03-30 16:25:39.761 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.9034ms
2024-03-30 16:25:40.089 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 16:25:40.090 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 16:25:40.090 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:25:40.209 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 120.3135ms
2024-03-30 16:25:43.645 +05:00 [DBG] Connection id "0HN2GLGGA9U5I" accepted.
2024-03-30 16:25:43.645 +05:00 [DBG] Connection id "0HN2GLGGA9U5I" started.
2024-03-30 16:25:43.649 +05:00 [DBG] Connection id "0HN2GLGGA9U5I" received FIN.
2024-03-30 16:25:43.649 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" accepted.
2024-03-30 16:25:43.649 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" started.
2024-03-30 16:25:43.651 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:25:43.651 +05:00 [DBG] Connection id "0HN2GLGGA9U5I" stopped.
2024-03-30 16:25:43.651 +05:00 [DBG] Connection id "0HN2GLGGA9U5I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:25:43.655 +05:00 [DBG] Connection 0HN2GLGGA9U5J established using the following protocol: "Tls12"
2024-03-30 16:25:43.675 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------770356717837871224155479 28890886
2024-03-30 16:25:43.682 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:25:43.685 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:43.686 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:25:43.687 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:25:43.692 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:25:43.793 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:25:43.795 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:25:43.802 +05:00 [DBG] Authorization was successful.
2024-03-30 16:25:43.803 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:25:43.843 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:25:43.845 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:25:43.845 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:25:43.847 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:25:43.847 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:25:43.848 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:25:43.851 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:25:43.984 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 16:25:44.015 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:25:44.028 +05:00 [DBG] Connection id "0HN2GLGGA9U5J", Request id "0HN2GLGGA9U5J:00000001": started reading request body.
2024-03-30 16:25:44.072 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.073 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.078 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.078 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.091 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.094 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.115 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.116 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.124 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.124 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.134 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.135 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.143 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.148 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.223 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.224 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.241 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.242 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.251 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.251 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.258 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.261 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.275 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.276 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.283 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.284 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.292 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.292 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.299 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.301 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.311 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.315 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.327 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.328 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.335 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.336 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.343 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.347 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.369 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.370 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.381 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.382 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.393 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.394 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.406 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.419 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.433 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.434 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.443 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.444 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.452 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.453 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.478 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.483 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.503 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.503 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.514 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.514 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.519 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.522 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.534 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.535 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.544 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.544 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.551 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.551 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.559 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.562 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.573 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.574 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.581 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.581 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.589 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.589 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.599 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.600 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.609 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.610 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.617 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.617 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.626 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.627 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" paused.
2024-03-30 16:25:44.634 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" resumed.
2024-03-30 16:25:44.642 +05:00 [DBG] Connection id "0HN2GLGGA9U5J", Request id "0HN2GLGGA9U5J:00000001": done reading request body.
2024-03-30 16:25:44.649 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:25:44.653 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:25:44.656 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:25:44.656 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:25:44.656 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:25:44.666 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:25:45.305 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 16:25:45.306 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 16:25:45.653 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:25:45.783 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:25:45.789 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:25:45.793 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:25:45.812 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:25:45.934 +05:00 [DBG] Creating DbConnection.
2024-03-30 16:25:45.942 +05:00 [DBG] Created DbConnection. (5ms).
2024-03-30 16:25:45.948 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.236 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.240 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:25:46.250 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:25:46.260 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:25:46.267 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-30 16:25:46.273 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-03-30 16:25:46.283 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:25:46.303 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:25:46.309 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.316 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 7ms reading results.
2024-03-30 16:25:46.320 +05:00 [DBG] Committing transaction.
2024-03-30 16:25:46.348 +05:00 [DBG] Committed transaction.
2024-03-30 16:25:46.351 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.358 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-30 16:25:46.360 +05:00 [DBG] Disposing transaction.
2024-03-30 16:25:46.372 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:25:46.374 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:25:46.419 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:25:46.419 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:25:46.420 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:25:46.423 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:25:46.424 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.431 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.431 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:25:46.432 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:25:46.432 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:25:46.433 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:25:46.433 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:25:46.433 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:25:46.434 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:25:46.435 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.435 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 16:25:46.435 +05:00 [DBG] Committing transaction.
2024-03-30 16:25:46.472 +05:00 [DBG] Committed transaction.
2024-03-30 16:25:46.472 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.473 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:25:46.473 +05:00 [DBG] Disposing transaction.
2024-03-30 16:25:46.473 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:25:46.473 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:25:46.486 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:25:46.486 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:25:46.486 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:25:46.486 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:25:46.486 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.489 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.489 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:25:46.490 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:25:46.490 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:25:46.490 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:25:46.491 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:25:46.491 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:25:46.492 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:25:46.492 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.492 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 16:25:46.492 +05:00 [DBG] Committing transaction.
2024-03-30 16:25:46.523 +05:00 [DBG] Committed transaction.
2024-03-30 16:25:46.523 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.524 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:25:46.524 +05:00 [DBG] Disposing transaction.
2024-03-30 16:25:46.524 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:25:46.524 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:25:46.543 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:25:46.543 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:25:46.543 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:25:46.544 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:25:46.544 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.544 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.544 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:25:46.545 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:25:46.545 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:25:46.545 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:25:46.547 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-03-30 16:25:46.547 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:25:46.548 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:25:46.548 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.549 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 16:25:46.549 +05:00 [DBG] Committing transaction.
2024-03-30 16:25:46.597 +05:00 [DBG] Committed transaction.
2024-03-30 16:25:46.597 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.597 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:25:46.597 +05:00 [DBG] Disposing transaction.
2024-03-30 16:25:46.598 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:25:46.598 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:25:46.628 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:25:46.628 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:25:46.628 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:25:46.628 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:25:46.629 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.634 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.634 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:25:46.639 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:25:46.639 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:25:46.639 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:25:46.640 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:25:46.640 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:25:46.641 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:25:46.642 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.642 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-30 16:25:46.642 +05:00 [DBG] Committing transaction.
2024-03-30 16:25:46.675 +05:00 [DBG] Committed transaction.
2024-03-30 16:25:46.675 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.675 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:25:46.675 +05:00 [DBG] Disposing transaction.
2024-03-30 16:25:46.675 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:25:46.675 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:25:46.683 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:25:46.685 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:25:46.685 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:25:46.685 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:25:46.686 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:25:46.687 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:25:46.765 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 2909.0803ms
2024-03-30 16:25:46.765 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:25:46.766 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" completed keep alive response.
2024-03-30 16:25:46.790 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:25:46.793 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:25:46.795 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-30 16:25:46.797 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------770356717837871224155479 28890886 - 200 - application/json;+charset=utf-8 3120.0506ms
2024-03-30 16:26:21.545 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------946071041330670268951929 178
2024-03-30 16:26:21.547 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:26:21.547 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:26:21.548 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:26:21.550 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:26:21.552 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:26:21.552 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:26:21.555 +05:00 [DBG] Authorization was successful.
2024-03-30 16:26:21.556 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:26:21.556 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:26:21.556 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:26:21.556 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:26:21.556 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:26:21.556 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:26:21.556 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:26:21.557 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:26:21.558 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:26:21.558 +05:00 [DBG] Connection id "0HN2GLGGA9U5J", Request id "0HN2GLGGA9U5J:00000002": started reading request body.
2024-03-30 16:26:21.558 +05:00 [DBG] Connection id "0HN2GLGGA9U5J", Request id "0HN2GLGGA9U5J:00000002": done reading request body.
2024-03-30 16:26:21.561 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:26:21.561 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:26:21.562 +05:00 [DBG] No files found in the request to bind the model to.
2024-03-30 16:26:21.562 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:26:21.562 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:26:21.562 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:26:21.564 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:26:21.565 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:26:21.565 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:26:21.565 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:26:21.565 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:26:21.566 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:26:21.566 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:26:21.566 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 9.6322ms
2024-03-30 16:26:21.566 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:26:21.566 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" completed keep alive response.
2024-03-30 16:26:21.566 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------946071041330670268951929 178 - 200 - application/json;+charset=utf-8 26.8169ms
2024-03-30 16:28:30.886 +05:00 [DBG] Connection id "0HN2GLGGA9U5H" received FIN.
2024-03-30 16:28:30.888 +05:00 [DBG] Connection id "0HN2GLGGA9U5H" is closed. The last processed stream ID was 21.
2024-03-30 16:28:30.889 +05:00 [DBG] Connection id "0HN2GLGGA9U5H" sending FIN because: "The client closed the connection."
2024-03-30 16:28:30.890 +05:00 [DBG] The connection queue processing loop for 0HN2GLGGA9U5H completed.
2024-03-30 16:28:30.891 +05:00 [DBG] Connection id "0HN2GLGGA9U5H" stopped.
2024-03-30 16:28:33.370 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" disconnecting.
2024-03-30 16:28:33.370 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" stopped.
2024-03-30 16:28:33.370 +05:00 [DBG] Connection id "0HN2GLGGA9U5J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:29:28.625 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 16:29:28.684 +05:00 [DBG] Hosting starting
2024-03-30 16:29:28.698 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 16:29:28.705 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 16:29:28.711 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 16:29:28.711 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 16:29:28.711 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 16:29:28.712 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 16:29:28.716 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 16:29:28.719 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 16:29:28.720 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 16:29:28.720 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 16:29:28.720 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 16:29:28.728 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 16:29:28.730 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:29:28.733 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 16:29:28.734 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:29:28.739 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 16:29:28.739 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 16:29:28.740 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 16:29:28.741 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 16:29:28.862 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 16:29:28.863 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 16:29:28.863 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 16:29:28.863 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 16:29:28.863 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 16:29:28.865 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 16:29:28.865 +05:00 [INF] Hosting environment: Development
2024-03-30 16:29:28.865 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 16:29:28.865 +05:00 [DBG] Hosting started
2024-03-30 16:29:29.245 +05:00 [DBG] Connection id "0HN2GLIKS4NU4" accepted.
2024-03-30 16:29:29.245 +05:00 [DBG] Connection id "0HN2GLIKS4NU5" accepted.
2024-03-30 16:29:29.246 +05:00 [DBG] Connection id "0HN2GLIKS4NU5" started.
2024-03-30 16:29:29.246 +05:00 [DBG] Connection id "0HN2GLIKS4NU4" started.
2024-03-30 16:29:29.257 +05:00 [DBG] Connection id "0HN2GLIKS4NU4" received FIN.
2024-03-30 16:29:29.261 +05:00 [DBG] Connection id "0HN2GLIKS4NU5" received FIN.
2024-03-30 16:29:29.261 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:29:29.263 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:29:29.276 +05:00 [DBG] Connection id "0HN2GLIKS4NU4" stopped.
2024-03-30 16:29:29.276 +05:00 [DBG] Connection id "0HN2GLIKS4NU5" stopped.
2024-03-30 16:29:29.277 +05:00 [DBG] Connection id "0HN2GLIKS4NU6" accepted.
2024-03-30 16:29:29.278 +05:00 [DBG] Connection id "0HN2GLIKS4NU6" started.
2024-03-30 16:29:29.278 +05:00 [DBG] Connection id "0HN2GLIKS4NU5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:29:29.278 +05:00 [DBG] Connection id "0HN2GLIKS4NU4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:29:29.312 +05:00 [DBG] Connection 0HN2GLIKS4NU6 established using the following protocol: "Tls12"
2024-03-30 16:29:29.356 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 16:29:29.373 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 16:29:29.406 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 16:29:29.407 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:29:29.544 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 16:29:29.614 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 16:29:29.616 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 263.1534ms
2024-03-30 16:29:29.657 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 16:29:29.660 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 16:29:29.667 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 8.5848ms
2024-03-30 16:29:29.688 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.4999ms
2024-03-30 16:29:29.908 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 16:29:29.909 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 16:29:29.909 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:29:30.063 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.6023ms
2024-03-30 16:29:34.336 +05:00 [DBG] Connection id "0HN2GLIKS4NU7" accepted.
2024-03-30 16:29:34.337 +05:00 [DBG] Connection id "0HN2GLIKS4NU7" started.
2024-03-30 16:29:34.337 +05:00 [DBG] Connection id "0HN2GLIKS4NU8" accepted.
2024-03-30 16:29:34.338 +05:00 [DBG] Connection id "0HN2GLIKS4NU7" received FIN.
2024-03-30 16:29:34.339 +05:00 [DBG] Connection id "0HN2GLIKS4NU8" started.
2024-03-30 16:29:34.340 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:29:34.341 +05:00 [DBG] Connection id "0HN2GLIKS4NU7" stopped.
2024-03-30 16:29:34.341 +05:00 [DBG] Connection id "0HN2GLIKS4NU7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:29:34.348 +05:00 [DBG] Connection 0HN2GLIKS4NU8 established using the following protocol: "Tls12"
2024-03-30 16:29:34.361 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------243229542593430922629002 178
2024-03-30 16:29:34.366 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:29:34.370 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:29:34.370 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:29:34.374 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:29:34.484 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:29:34.486 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:29:34.493 +05:00 [DBG] Authorization was successful.
2024-03-30 16:29:34.494 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:29:34.530 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:29:34.532 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:29:34.533 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:29:34.533 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:29:34.533 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:29:34.533 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:29:34.535 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:29:34.675 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 16:29:34.708 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:29:34.716 +05:00 [DBG] Connection id "0HN2GLIKS4NU8", Request id "0HN2GLIKS4NU8:00000001": started reading request body.
2024-03-30 16:29:34.716 +05:00 [DBG] Connection id "0HN2GLIKS4NU8", Request id "0HN2GLIKS4NU8:00000001": done reading request body.
2024-03-30 16:29:34.726 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:29:34.731 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:29:34.732 +05:00 [DBG] No files found in the request to bind the model to.
2024-03-30 16:29:34.732 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:29:34.732 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:29:34.733 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:29:34.741 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:29:34.749 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:29:34.751 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:29:34.751 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:29:34.751 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:29:34.752 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:29:34.753 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:29:34.769 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 230.9663ms
2024-03-30 16:29:34.769 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:29:34.769 +05:00 [DBG] Connection id "0HN2GLIKS4NU8" completed keep alive response.
2024-03-30 16:29:34.772 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------243229542593430922629002 178 - 200 - application/json;+charset=utf-8 411.6115ms
2024-03-30 16:30:40.739 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-30 16:30:40.798 +05:00 [DBG] Hosting starting
2024-03-30 16:30:40.815 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-30 16:30:40.823 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-30 16:30:40.828 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-30 16:30:40.830 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-30 16:30:40.830 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-30 16:30:40.831 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-30 16:30:40.835 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-30 16:30:40.839 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-30 16:30:40.839 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-30 16:30:40.839 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-30 16:30:40.839 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-30 16:30:40.847 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-30 16:30:40.849 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:30:40.853 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-30 16:30:40.854 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-30 16:30:40.858 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-30 16:30:40.859 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-30 16:30:40.860 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-30 16:30:40.861 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-30 16:30:40.978 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-30 16:30:40.978 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-30 16:30:40.978 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-30 16:30:40.978 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-30 16:30:40.978 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-30 16:30:40.981 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-30 16:30:40.981 +05:00 [INF] Hosting environment: Development
2024-03-30 16:30:40.981 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-30 16:30:40.981 +05:00 [DBG] Hosting started
2024-03-30 16:30:41.049 +05:00 [DBG] Connection id "0HN2GLJA8THCH" accepted.
2024-03-30 16:30:41.050 +05:00 [DBG] Connection id "0HN2GLJA8THCH" started.
2024-03-30 16:30:41.094 +05:00 [DBG] Connection id "0HN2GLJA8THCH" received FIN.
2024-03-30 16:30:41.100 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:30:41.117 +05:00 [DBG] Connection id "0HN2GLJA8THCH" stopped.
2024-03-30 16:30:41.119 +05:00 [DBG] Connection id "0HN2GLJA8THCH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:30:41.147 +05:00 [DBG] Connection id "0HN2GLJA8THCI" accepted.
2024-03-30 16:30:41.148 +05:00 [DBG] Connection id "0HN2GLJA8THCI" started.
2024-03-30 16:30:41.191 +05:00 [DBG] Connection 0HN2GLJA8THCI established using the following protocol: "Tls12"
2024-03-30 16:30:41.282 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-30 16:30:41.303 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-30 16:30:41.349 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-30 16:30:41.350 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:30:41.507 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-30 16:30:41.595 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-30 16:30:41.599 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 322.5690ms
2024-03-30 16:30:41.719 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-30 16:30:41.719 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-30 16:30:41.726 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 6.2201ms
2024-03-30 16:30:41.760 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.6107ms
2024-03-30 16:30:42.111 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-30 16:30:42.112 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-30 16:30:42.113 +05:00 [DBG] Request did not match any endpoints
2024-03-30 16:30:42.257 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 146.1634ms
2024-03-30 16:31:37.542 +05:00 [DBG] Connection id "0HN2GLJA8THCJ" accepted.
2024-03-30 16:31:37.542 +05:00 [DBG] Connection id "0HN2GLJA8THCJ" started.
2024-03-30 16:31:37.543 +05:00 [DBG] Connection id "0HN2GLJA8THCK" accepted.
2024-03-30 16:31:37.543 +05:00 [DBG] Connection id "0HN2GLJA8THCK" started.
2024-03-30 16:31:37.543 +05:00 [DBG] Connection id "0HN2GLJA8THCJ" received FIN.
2024-03-30 16:31:37.543 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-30 16:31:37.544 +05:00 [DBG] Connection id "0HN2GLJA8THCJ" stopped.
2024-03-30 16:31:37.544 +05:00 [DBG] Connection id "0HN2GLJA8THCJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-30 16:31:37.549 +05:00 [DBG] Connection 0HN2GLJA8THCK established using the following protocol: "Tls12"
2024-03-30 16:31:37.558 +05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7094/auth/post multipart/form-data;+boundary=--------------------------166437745637289726189439 203
2024-03-30 16:31:37.562 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-30 16:31:37.562 +05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-03-30 16:31:37.566 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:31:37.594 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 16:31:37.598 +05:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-03-30 16:31:37.598 +05:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-03-30 16:31:37.600 +05:00 [DBG] Connection id "0HN2GLJA8THCK" completed keep alive response.
2024-03-30 16:31:37.600 +05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7094/auth/post multipart/form-data;+boundary=--------------------------166437745637289726189439 203 - 405 0 - 41.8116ms
2024-03-30 16:31:37.601 +05:00 [DBG] Connection id "0HN2GLJA8THCK", Request id "0HN2GLJA8THCK:00000001": started reading request body.
2024-03-30 16:31:37.601 +05:00 [DBG] Connection id "0HN2GLJA8THCK", Request id "0HN2GLJA8THCK:00000001": done reading request body.
2024-03-30 16:31:42.791 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/post multipart/form-data;+boundary=--------------------------164549276159488227001508 203
2024-03-30 16:31:42.792 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-30 16:31:42.798 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-30 16:31:42.798 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 16:31:42.798 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:31:42.800 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 16:31:42.803 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 16:31:42.841 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:31:42.843 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:31:42.843 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 16:31:42.843 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:31:42.844 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:31:42.844 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:31:42.845 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:31:43.031 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-30 16:31:43.061 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:31:43.070 +05:00 [DBG] Connection id "0HN2GLJA8THCK", Request id "0HN2GLJA8THCK:00000002": started reading request body.
2024-03-30 16:31:43.070 +05:00 [DBG] Connection id "0HN2GLJA8THCK", Request id "0HN2GLJA8THCK:00000002": done reading request body.
2024-03-30 16:31:43.078 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 16:31:43.081 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name '' in request data ...
2024-03-30 16:31:43.082 +05:00 [DBG] Could not find a value in the request with name '' for binding parameter 'code' of type 'System.String'.
2024-03-30 16:31:43.082 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 16:31:43.082 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 16:31:43.082 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 16:31:43.120 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 16:31:43.124 +05:00 [DBG] The request has model state errors, returning an error response.
2024-03-30 16:31:43.125 +05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-30 16:31:43.127 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:31:43.128 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:31:43.129 +05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-03-30 16:31:43.131 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-30 16:31:43.132 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-30 16:31:43.159 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 312.1965ms
2024-03-30 16:31:43.160 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 16:31:43.160 +05:00 [DBG] Connection id "0HN2GLJA8THCK" completed keep alive response.
2024-03-30 16:31:43.161 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/post multipart/form-data;+boundary=--------------------------164549276159488227001508 203 - 400 - application/problem+json;+charset=utf-8 370.4600ms
2024-03-30 16:32:04.231 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/post?code=dxeAR%2FkXkQJRZUkTTCIoxQyJsB5JFCNapLmDD99Llo8%3D - 0
2024-03-30 16:32:04.231 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-30 16:32:04.231 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-30 16:32:04.233 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 16:32:04.234 +05:00 [INF] No CORS policy found for the specified request.
2024-03-30 16:32:04.234 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:32:04.237 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-30 16:32:04.241 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 16:32:04.241 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:32:04.241 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:32:04.241 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-30 16:32:04.241 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:32:04.241 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:32:04.241 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:32:04.241 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:32:04.250 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:32:04.258 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-30 16:32:04.259 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-30 16:32:04.260 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 16:32:04.260 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-30 16:32:04.260 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-30 16:32:04.261 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-30 16:32:04.891 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-30 16:32:04.892 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-30 16:32:05.211 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:32:05.256 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(x => x.Token1 == __refreshToken_0)'
2024-03-30 16:32:05.489 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdDevice (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdUser (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_Device, t.id_User, t.Token
            FROM Token AS t
            WHERE t.Token == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 16:32:05.527 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:32:05.531 +05:00 [DBG] Creating DbConnection.
2024-03-30 16:32:05.541 +05:00 [DBG] Created DbConnection. (7ms).
2024-03-30 16:32:05.548 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-03-30 16:32:05.555 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-03-30 16:32:05.560 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:05.812 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:05.823 +05:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-30 16:32:05.846 +05:00 [INF] Executed DbCommand (18ms) [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-30 16:32:05.882 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:32:05.902 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:05.909 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 55ms reading results.
2024-03-30 16:32:05.911 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:05.916 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (4ms).
2024-03-30 16:32:05.947 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-30 16:32:05.959 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE u.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-30 16:32:05.960 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:32:05.960 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:32:05.960 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:32:05.960 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:05.969 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:05.970 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE `u`.`ID` = @__p_0
LIMIT 1
2024-03-30 16:32:05.984 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE `u`.`ID` = @__p_0
LIMIT 1
2024-03-30 16:32:06.001 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:32:06.024 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:06.025 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 40ms reading results.
2024-03-30 16:32:06.025 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:06.025 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:32:06.067 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:32:06.067 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:32:06.067 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:32:06.067 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:32:06.067 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-30 16:32:06.067 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-30 16:32:06.068 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 1826.6983ms
2024-03-30 16:32:06.069 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-30 16:32:06.070 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:32:06.075 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:06.077 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (2ms).
2024-03-30 16:32:06.078 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/post?code=dxeAR%2FkXkQJRZUkTTCIoxQyJsB5JFCNapLmDD99Llo8%3D - 0 - 200 - text/plain;+charset=utf-8 1846.5122ms
2024-03-30 16:32:15.951 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------365843098102541313045414 178
2024-03-30 16:32:15.951 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:32:15.951 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:32:15.952 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:32:15.952 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:32:16.016 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:32:16.017 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:32:16.022 +05:00 [DBG] Authorization was successful.
2024-03-30 16:32:16.023 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:32:16.028 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:32:16.028 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:32:16.028 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:32:16.028 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:32:16.028 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:32:16.028 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:32:16.030 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:32:16.032 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:32:16.033 +05:00 [DBG] Connection id "0HN2GLJA8THCK", Request id "0HN2GLJA8THCK:00000003": started reading request body.
2024-03-30 16:32:16.033 +05:00 [DBG] Connection id "0HN2GLJA8THCK", Request id "0HN2GLJA8THCK:00000003": done reading request body.
2024-03-30 16:32:16.035 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:32:16.037 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:32:16.040 +05:00 [DBG] No files found in the request to bind the model to.
2024-03-30 16:32:16.040 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:32:16.040 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:32:16.040 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:32:16.042 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:32:16.048 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:32:16.048 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:32:16.048 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:32:16.048 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:32:16.048 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:32:16.048 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:32:16.050 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 21.7794ms
2024-03-30 16:32:16.051 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:32:16.051 +05:00 [DBG] Connection id "0HN2GLJA8THCK" completed keep alive response.
2024-03-30 16:32:16.051 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------365843098102541313045414 178 - 200 - application/json;+charset=utf-8 99.5677ms
2024-03-30 16:32:20.883 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------381916721753231899587934 178
2024-03-30 16:32:20.884 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:32:20.884 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:32:20.884 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:32:20.884 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:32:20.884 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:32:20.885 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:32:20.886 +05:00 [DBG] Authorization was successful.
2024-03-30 16:32:20.887 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:32:20.887 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:32:20.887 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:32:20.887 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:32:20.887 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:32:20.887 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:32:20.888 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:32:20.889 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:32:20.889 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:32:20.890 +05:00 [DBG] Connection id "0HN2GLJA8THCK", Request id "0HN2GLJA8THCK:00000004": started reading request body.
2024-03-30 16:32:20.890 +05:00 [DBG] Connection id "0HN2GLJA8THCK", Request id "0HN2GLJA8THCK:00000004": done reading request body.
2024-03-30 16:32:20.890 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:32:20.891 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:32:20.891 +05:00 [DBG] No files found in the request to bind the model to.
2024-03-30 16:32:20.891 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:32:20.891 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:32:20.892 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:32:20.892 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:32:20.892 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:32:20.892 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:32:20.892 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:32:20.893 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:32:20.893 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:32:20.893 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:32:20.893 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 4.725ms
2024-03-30 16:32:20.893 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:32:20.893 +05:00 [DBG] Connection id "0HN2GLJA8THCK" completed keep alive response.
2024-03-30 16:32:20.893 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------381916721753231899587934 178 - 200 - application/json;+charset=utf-8 9.9821ms
2024-03-30 16:32:26.034 +05:00 [DBG] Connection id "0HN2GLJA8THCK" paused.
2024-03-30 16:32:26.035 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------750481670706364021836978 8662428
2024-03-30 16:32:26.036 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-30 16:32:26.036 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-30 16:32:26.036 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:32:26.036 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-30 16:32:26.036 +05:00 [DBG] Successfully validated the token.
2024-03-30 16:32:26.036 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-30 16:32:26.037 +05:00 [DBG] Authorization was successful.
2024-03-30 16:32:26.037 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:32:26.037 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-30 16:32:26.037 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-30 16:32:26.039 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-30 16:32:26.039 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-30 16:32:26.040 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-30 16:32:26.040 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-30 16:32:26.040 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:32:26.041 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-30 16:32:26.041 +05:00 [DBG] Connection id "0HN2GLJA8THCK", Request id "0HN2GLJA8THCK:00000005": started reading request body.
2024-03-30 16:32:26.060 +05:00 [DBG] Connection id "0HN2GLJA8THCK" resumed.
2024-03-30 16:32:26.061 +05:00 [DBG] Connection id "0HN2GLJA8THCK" paused.
2024-03-30 16:32:26.069 +05:00 [DBG] Connection id "0HN2GLJA8THCK" resumed.
2024-03-30 16:32:26.069 +05:00 [DBG] Connection id "0HN2GLJA8THCK" paused.
2024-03-30 16:32:26.078 +05:00 [DBG] Connection id "0HN2GLJA8THCK" resumed.
2024-03-30 16:32:26.083 +05:00 [DBG] Connection id "0HN2GLJA8THCK" paused.
2024-03-30 16:32:26.107 +05:00 [DBG] Connection id "0HN2GLJA8THCK" resumed.
2024-03-30 16:32:26.107 +05:00 [DBG] Connection id "0HN2GLJA8THCK" paused.
2024-03-30 16:32:26.112 +05:00 [DBG] Connection id "0HN2GLJA8THCK" resumed.
2024-03-30 16:32:26.114 +05:00 [DBG] Connection id "0HN2GLJA8THCK" paused.
2024-03-30 16:32:26.119 +05:00 [DBG] Connection id "0HN2GLJA8THCK" resumed.
2024-03-30 16:32:26.122 +05:00 [DBG] Connection id "0HN2GLJA8THCK" paused.
2024-03-30 16:32:26.127 +05:00 [DBG] Connection id "0HN2GLJA8THCK" resumed.
2024-03-30 16:32:26.127 +05:00 [DBG] Connection id "0HN2GLJA8THCK" paused.
2024-03-30 16:32:26.134 +05:00 [DBG] Connection id "0HN2GLJA8THCK" resumed.
2024-03-30 16:32:26.134 +05:00 [DBG] Connection id "0HN2GLJA8THCK" paused.
2024-03-30 16:32:26.140 +05:00 [DBG] Connection id "0HN2GLJA8THCK" resumed.
2024-03-30 16:32:26.141 +05:00 [DBG] Connection id "0HN2GLJA8THCK" paused.
2024-03-30 16:32:26.147 +05:00 [DBG] Connection id "0HN2GLJA8THCK" resumed.
2024-03-30 16:32:26.148 +05:00 [DBG] Connection id "0HN2GLJA8THCK" paused.
2024-03-30 16:32:26.153 +05:00 [DBG] Connection id "0HN2GLJA8THCK" resumed.
2024-03-30 16:32:26.154 +05:00 [DBG] Connection id "0HN2GLJA8THCK" paused.
2024-03-30 16:32:26.161 +05:00 [DBG] Connection id "0HN2GLJA8THCK" resumed.
2024-03-30 16:32:26.173 +05:00 [DBG] Connection id "0HN2GLJA8THCK", Request id "0HN2GLJA8THCK:00000005": done reading request body.
2024-03-30 16:32:26.176 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:32:26.177 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-30 16:32:26.177 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:32:26.177 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:32:26.177 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-30 16:32:26.181 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-30 16:32:26.322 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-30 16:32:26.365 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:32:26.368 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-30 16:32:26.373 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-30 16:32:26.386 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-30 16:32:26.465 +05:00 [DBG] Creating DbConnection.
2024-03-30 16:32:26.466 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-30 16:32:26.466 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:26.469 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:26.473 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-30 16:32:26.481 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-30 16:32:26.485 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-30 16:32:26.485 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-30 16:32:26.486 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-03-30 16:32:26.486 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:32:26.491 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-30 16:32:26.493 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:26.493 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 2ms reading results.
2024-03-30 16:32:26.498 +05:00 [DBG] Committing transaction.
2024-03-30 16:32:26.525 +05:00 [DBG] Committed transaction.
2024-03-30 16:32:26.532 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:26.532 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:32:26.536 +05:00 [DBG] Disposing transaction.
2024-03-30 16:32:26.548 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-30 16:32:26.550 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-30 16:32:26.551 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-30 16:32:26.551 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-30 16:32:26.551 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-30 16:32:26.551 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-30 16:32:26.551 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-30 16:32:26.551 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-30 16:32:26.552 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 512.0282ms
2024-03-30 16:32:26.552 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-30 16:32:26.552 +05:00 [DBG] Connection id "0HN2GLJA8THCK" completed keep alive response.
2024-03-30 16:32:26.555 +05:00 [DBG] 'BMContext' disposed.
2024-03-30 16:32:26.565 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-30 16:32:26.565 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-30 16:32:26.565 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------750481670706364021836978 8662428 - 200 - application/json;+charset=utf-8 529.7598ms
2024-03-30 16:34:05.909 +05:00 [DBG] Connection id "0HN2GLJA8THCK" received FIN.
2024-03-30 16:34:05.909 +05:00 [DBG] Connection id "0HN2GLJA8THCK" disconnecting.
2024-03-30 16:34:05.911 +05:00 [DBG] Connection id "0HN2GLJA8THCK" sending FIN because: "The client closed the connection."
2024-03-30 16:34:05.914 +05:00 [DBG] Connection id "0HN2GLJA8THCK" stopped.
2024-03-31 21:30:51.635 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 21:30:51.695 +05:00 [DBG] Hosting starting
2024-03-31 21:30:51.709 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 21:30:51.717 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 21:30:51.724 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 21:30:51.725 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 21:30:51.725 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 21:30:51.725 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 21:30:51.732 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 21:30:51.734 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 21:30:51.734 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 21:30:51.734 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 21:30:51.735 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 21:30:51.747 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 21:30:51.749 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 21:30:51.751 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 21:30:51.753 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 21:30:51.758 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 21:30:51.758 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 21:30:51.759 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 21:30:51.760 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 21:30:51.885 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 21:30:51.885 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 21:30:51.886 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 21:30:51.886 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 21:30:51.886 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 21:30:51.888 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 21:30:51.888 +05:00 [INF] Hosting environment: Development
2024-03-31 21:30:51.889 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 21:30:51.889 +05:00 [DBG] Hosting started
2024-03-31 21:30:56.257 +05:00 [DBG] Connection id "0HN2HJVODUAV0" accepted.
2024-03-31 21:30:56.258 +05:00 [DBG] Connection id "0HN2HJVODUAV0" started.
2024-03-31 21:30:56.307 +05:00 [DBG] Connection id "0HN2HJVODUAV0" received FIN.
2024-03-31 21:30:56.313 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 21:30:56.330 +05:00 [DBG] Connection id "0HN2HJVODUAV0" stopped.
2024-03-31 21:30:56.334 +05:00 [DBG] Connection id "0HN2HJVODUAV0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:31:14.590 +05:00 [DBG] Connection id "0HN2HJVODUAV1" accepted.
2024-03-31 21:31:14.590 +05:00 [DBG] Connection id "0HN2HJVODUAV1" started.
2024-03-31 21:31:15.247 +05:00 [DBG] Connection 0HN2HJVODUAV1 established using the following protocol: "Tls12"
2024-03-31 21:31:19.918 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 21:31:19.939 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 21:31:19.976 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 21:31:19.978 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:31:20.144 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 21:31:23.509 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 21:31:23.515 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 3599.7616ms
2024-03-31 21:31:23.535 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 21:31:23.543 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 7.3665ms
2024-03-31 21:31:26.489 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/favicon-16x16.png - -
2024-03-31 21:31:26.490 +05:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2024-03-31 21:31:26.490 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:31:26.974 +05:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-03-31 21:31:26.975 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/favicon-16x16.png - - - 200 665 image/png 485.3556ms
2024-03-31 21:31:27.598 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 21:31:29.743 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 2144.3923ms
2024-03-31 21:32:02.268 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 21:32:02.268 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 21:32:02.268 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:32:02.458 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 189.8275ms
2024-03-31 21:32:42.798 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/post - 0
2024-03-31 21:32:42.803 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-31 21:32:42.808 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-31 21:32:42.809 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 21:32:42.810 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 21:32:42.811 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:32:42.849 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 21:32:42.855 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 21:32:42.909 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 21:32:42.915 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:32:42.915 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 21:32:42.915 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:32:42.915 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:32:42.916 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:32:42.917 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:32:43.126 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-31 21:32:43.173 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:32:43.244 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-31 21:32:43.247 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name '' in request data ...
2024-03-31 21:32:43.248 +05:00 [DBG] Could not find a value in the request with name '' for binding parameter 'code' of type 'System.String'.
2024-03-31 21:32:43.248 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 21:32:43.248 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 21:32:43.248 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-31 21:32:43.421 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-31 21:32:43.423 +05:00 [DBG] The request has model state errors, returning an error response.
2024-03-31 21:32:43.449 +05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-31 21:32:43.451 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 21:32:43.452 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 21:32:43.453 +05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-03-31 21:32:43.456 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-31 21:32:43.456 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-31 21:32:43.574 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 652.4665ms
2024-03-31 21:32:43.574 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 21:32:43.576 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/post - 0 - 400 - application/problem+json;+charset=utf-8 777.0991ms
2024-03-31 21:33:08.480 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/file multipart/form-data;+boundary=---------------------------339182843837777522761745871741 9813985
2024-03-31 21:33:08.481 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-31 21:33:08.481 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-31 21:33:08.482 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:33:08.482 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 21:33:08.482 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:33:08.483 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 21:33:08.490 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-31 21:33:08.558 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-31 21:33:08.558 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/file multipart/form-data;+boundary=---------------------------339182843837777522761745871741 9813985 - 401 0 - 78.1611ms
2024-03-31 21:33:08.602 +05:00 [DBG] Connection id "0HN2HJVODUAV1", Request id "0HN2HJVODUAV1:0000001B": started reading request body.
2024-03-31 21:33:08.602 +05:00 [DBG] Connection id "0HN2HJVODUAV1", Request id "0HN2HJVODUAV1:0000001B": done reading request body.
2024-03-31 21:33:08.602 +05:00 [INF] Connection id "0HN2HJVODUAV1", Request id "0HN2HJVODUAV1:0000001B": the application completed without reading the entire request body.
2024-03-31 21:34:04.909 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-31 21:34:04.909 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-31 21:34:04.909 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-31 21:34:04.909 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-31 21:34:04.909 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 21:34:04.909 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:34:04.932 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 21:34:04.932 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-31 21:34:04.949 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-31 21:34:04.950 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:34:04.950 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 21:34:04.950 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:34:04.950 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:34:04.950 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:34:04.950 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-31 21:34:04.998 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-31 21:34:04.998 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-31 21:34:05.000 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-31 21:34:05.014 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-31 21:34:05.027 +05:00 [DBG] Connection id "0HN2HJVODUAV1", Request id "0HN2HJVODUAV1:0000001D": started reading request body.
2024-03-31 21:34:05.027 +05:00 [DBG] Connection id "0HN2HJVODUAV1", Request id "0HN2HJVODUAV1:0000001D": done reading request body.
2024-03-31 21:34:05.032 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-31 21:34:05.033 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-31 21:34:05.033 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-31 21:34:05.033 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-31 21:34:05.035 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-31 21:34:06.626 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-31 21:34:06.626 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-31 21:34:07.366 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 21:34:07.577 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.Login == __userCred_Login_0 || __userCred_Email_1 == u.Email && __userCred_Password_2 == u.Password)'
2024-03-31 21:34:08.086 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE ((u.Login == @__userCred_Login_0) || (@__userCred_Email_1 == u.Email)) && (@__userCred_Password_2 == u.Password)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 21:34:08.181 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 21:34:08.183 +05:00 [DBG] Creating DbConnection.
2024-03-31 21:34:08.233 +05:00 [DBG] Created DbConnection. (43ms).
2024-03-31 21:34:08.321 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (179ms).
2024-03-31 21:34:08.348 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (211ms).
2024-03-31 21:34:08.359 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:34:11.701 +05:00 [ERR] An error occurred using the connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:34:11.766 +05:00 [ERR] An exception occurred while iterating over the results of a query for context type 'BerryMusicV1.Repos.BMContext'.
MySql.Data.MySqlClient.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
 ---> System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Net.Sockets.TcpClient.CompleteConnectAsync(Task task)
   at MySql.Data.Common.StreamCreator.GetTcpStreamAsync(MySqlConnectionStringBuilder settings, CancellationToken cancellationToken, Boolean execAsync)
   at MySql.Data.Common.StreamCreator.GetStreamAsync(MySqlConnectionStringBuilder settings, CancellationToken cancellationToken, Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.NativeDriver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.CreateNewPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.GetPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.TryToGetDriverAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.GetConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlConnection.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
MySql.Data.MySqlClient.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
 ---> System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Net.Sockets.TcpClient.CompleteConnectAsync(Task task)
   at MySql.Data.Common.StreamCreator.GetTcpStreamAsync(MySqlConnectionStringBuilder settings, CancellationToken cancellationToken, Boolean execAsync)
   at MySql.Data.Common.StreamCreator.GetStreamAsync(MySqlConnectionStringBuilder settings, CancellationToken cancellationToken, Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.NativeDriver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.CreateNewPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.GetPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.TryToGetDriverAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.GetConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlConnection.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-03-31 21:34:11.792 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 6841.8001ms
2024-03-31 21:34:11.804 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-31 21:34:11.942 +05:00 [ERR] An unhandled exception has occurred while executing the request.
MySql.Data.MySqlClient.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
 ---> System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Net.Sockets.TcpClient.CompleteConnectAsync(Task task)
   at MySql.Data.Common.StreamCreator.GetTcpStreamAsync(MySqlConnectionStringBuilder settings, CancellationToken cancellationToken, Boolean execAsync)
   at MySql.Data.Common.StreamCreator.GetStreamAsync(MySqlConnectionStringBuilder settings, CancellationToken cancellationToken, Boolean execAsync)
   at MySql.Data.MySqlClient.NativeDriver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.NativeDriver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.Driver.CreateAsync(MySqlConnectionStringBuilder settings, Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.CreateNewPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.GetPooledConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.TryToGetDriverAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlPool.GetConnectionAsync(Boolean execAsync, CancellationToken cancellationToken)
   at MySql.Data.MySqlClient.MySqlConnection.OpenAsync(Boolean execAsync, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BerryMusicV1.Containers.UnauthorizeService.AuthorizeSendCode(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\UnauthorizeService.cs:line 88
   at BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend(UserCred userCred) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\UnauthorizeController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-31 21:34:12.008 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 21:34:12.047 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:34:12.054 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (3ms).
2024-03-31 21:34:12.055 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 500 - text/plain;+charset=utf-8 7146.2491ms
2024-03-31 21:35:30.424 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth application/json 89
2024-03-31 21:35:30.425 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth'
2024-03-31 21:35:30.425 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)' with route pattern 'unauth/auth' is valid for the request path '/unauth/auth'
2024-03-31 21:35:30.425 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-31 21:35:30.425 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 21:35:30.425 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:35:30.425 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 21:35:30.425 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-31 21:35:30.426 +05:00 [INF] Route matched with {action = "AuthorizationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-31 21:35:30.426 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:35:30.426 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 21:35:30.426 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:35:30.426 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:35:30.426 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:35:30.426 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-31 21:35:30.427 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-31 21:35:30.427 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-31 21:35:30.428 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-31 21:35:30.430 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-31 21:35:30.431 +05:00 [DBG] Connection id "0HN2HJVODUAV1", Request id "0HN2HJVODUAV1:0000001F": started reading request body.
2024-03-31 21:35:30.431 +05:00 [DBG] Connection id "0HN2HJVODUAV1", Request id "0HN2HJVODUAV1:0000001F": done reading request body.
2024-03-31 21:35:30.432 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-31 21:35:30.432 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-31 21:35:30.432 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-31 21:35:30.432 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-31 21:35:30.433 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-31 21:35:30.458 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 21:35:30.465 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 21:35:30.465 +05:00 [DBG] Creating DbConnection.
2024-03-31 21:35:30.466 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 21:35:30.466 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:35:30.466 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-03-31 21:35:30.466 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:31.791 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:31.802 +05:00 [DBG] Executing DbCommand [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-31 21:35:31.966 +05:00 [INF] Executed DbCommand (147ms) [Parameters=[@__userCred_Login_0='?' (Size = 250), @__userCred_Email_1='?' (Size = 250), @__userCred_Password_2='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE ((`u`.`Login` = @__userCred_Login_0) OR (@__userCred_Email_1 = `u`.`Email`)) AND (@__userCred_Password_2 = `u`.`Password`)
LIMIT 1
2024-03-31 21:35:32.102 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:35:32.135 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:32.138 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 169ms reading results.
2024-03-31 21:35:32.141 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:32.145 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (3ms).
2024-03-31 21:35:32.213 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdDevice") == __p_0)'
2024-03-31 21:35:32.226 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdDevice (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdUser (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_Device, t.id_User, t.Token
            FROM Token AS t
            WHERE t.id_Device == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 21:35:32.227 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 21:35:32.227 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:35:32.227 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:35:32.227 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:32.232 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:32.233 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_Device` = @__p_0
LIMIT 1
2024-03-31 21:35:32.258 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_Device` = @__p_0
LIMIT 1
2024-03-31 21:35:32.259 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:32.260 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 21:35:32.260 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:32.260 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:35:32.267 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал попытку авторизации в 31.03.2024 21:35:32
2024-03-31 21:35:33.376 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 21:35:33.376 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 21:35:33.376 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 21:35:33.376 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 21:35:33.377 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-03-31 21:35:33.377 +05:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-03-31 21:35:33.377 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1) in 2950.5643ms
2024-03-31 21:35:33.377 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeSend (BerryMusicV1)'
2024-03-31 21:35:33.377 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 21:35:33.377 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:33.377 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:35:33.377 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth application/json 89 - 204 - - 2953.8036ms
2024-03-31 21:35:50.805 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/auth/code?code=182156 - 0
2024-03-31 21:35:50.805 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/auth/code'
2024-03-31 21:35:50.805 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)' with route pattern 'unauth/auth/code' is valid for the request path '/unauth/auth/code'
2024-03-31 21:35:50.805 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-31 21:35:50.806 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 21:35:50.806 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:35:50.806 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 21:35:50.806 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-31 21:35:50.813 +05:00 [INF] Route matched with {action = "AuthorizationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthorizationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-31 21:35:50.814 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:35:50.814 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 21:35:50.814 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:35:50.814 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:35:50.814 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:35:50.814 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-31 21:35:50.816 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-31 21:35:50.883 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-31 21:35:50.884 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-31 21:35:50.885 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 21:35:50.885 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 21:35:50.885 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-31 21:35:50.885 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-31 21:35:51.253 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 21:35:51.314 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:35:51.318 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-31 21:35:51.347 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-31 21:35:51.357 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-31 21:35:51.500 +05:00 [DBG] Creating DbConnection.
2024-03-31 21:35:51.500 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 21:35:51.500 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:51.501 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:51.508 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-31 21:35:51.551 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-31 21:35:51.557 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 21:35:51.557 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:35:51.557 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:35:51.558 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_Device`, `id_User`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-31 21:35:51.616 +05:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_Device`, `id_User`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-31 21:35:51.619 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:51.619 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 2ms reading results.
2024-03-31 21:35:51.626 +05:00 [DBG] Committing transaction.
2024-03-31 21:35:51.841 +05:00 [DBG] Committed transaction.
2024-03-31 21:35:51.843 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:51.843 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:35:51.848 +05:00 [DBG] Disposing transaction.
2024-03-31 21:35:51.859 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:35:51.864 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-31 21:35:51.865 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 21:35:51.865 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 21:35:51.865 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 21:35:51.865 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 21:35:51.865 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 21:35:51.865 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-31 21:35:51.867 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1) in 1052.8082ms
2024-03-31 21:35:51.867 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.AuthorizationCodeAccept (BerryMusicV1)'
2024-03-31 21:35:51.867 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 21:35:51.867 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:35:51.867 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:35:51.867 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/auth/code?code=182156 - 0 - 200 - application/json;+charset=utf-8 1061.7619ms
2024-03-31 21:36:13.090 +05:00 [DBG] Connection id "0HN2HJVODUAV2" received FIN.
2024-03-31 21:36:13.091 +05:00 [DBG] Connection id "0HN2HJVODUAV2" accepted.
2024-03-31 21:36:13.091 +05:00 [DBG] Connection id "0HN2HJVODUAV2" started.
2024-03-31 21:36:13.091 +05:00 [DBG] Connection id "0HN2HJVODUAV3" accepted.
2024-03-31 21:36:13.091 +05:00 [DBG] Connection id "0HN2HJVODUAV3" started.
2024-03-31 21:36:13.091 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 21:36:13.092 +05:00 [DBG] Connection id "0HN2HJVODUAV2" stopped.
2024-03-31 21:36:13.092 +05:00 [DBG] Connection id "0HN2HJVODUAV2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:36:13.098 +05:00 [DBG] Connection 0HN2HJVODUAV3 established using the following protocol: "Tls12"
2024-03-31 21:36:13.183 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------830283466421100281294249 8662428
2024-03-31 21:36:13.183 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-31 21:36:13.183 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-31 21:36:13.183 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:36:13.183 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:36:13.199 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:36:13.542 +05:00 [DBG] Successfully validated the token.
2024-03-31 21:36:13.569 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 21:36:13.583 +05:00 [DBG] Authorization was successful.
2024-03-31 21:36:13.584 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:36:13.605 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 21:36:13.605 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:36:13.605 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-31 21:36:13.605 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:36:13.605 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:36:13.605 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:36:13.606 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:36:13.607 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:36:13.644 +05:00 [DBG] Connection id "0HN2HJVODUAV3", Request id "0HN2HJVODUAV3:00000001": started reading request body.
2024-03-31 21:36:13.709 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:36:13.711 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:36:13.719 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:36:13.720 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:36:13.727 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:36:13.728 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:36:13.736 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:36:13.739 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:36:13.750 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:36:13.751 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:36:13.766 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:36:13.767 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:36:13.777 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:36:13.852 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:36:13.859 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:36:13.859 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:36:13.892 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:36:13.892 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:36:13.900 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:36:13.901 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:36:13.908 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:36:13.919 +05:00 [DBG] Connection id "0HN2HJVODUAV3", Request id "0HN2HJVODUAV3:00000001": done reading request body.
2024-03-31 21:36:13.925 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-31 21:36:13.958 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-31 21:36:13.959 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-31 21:36:13.959 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-31 21:36:13.959 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-31 21:36:14.010 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-31 21:36:14.151 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 21:36:14.171 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:36:14.172 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-31 21:36:14.172 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-31 21:36:14.178 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-31 21:36:14.192 +05:00 [DBG] Creating DbConnection.
2024-03-31 21:36:14.192 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 21:36:14.192 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:36:14.193 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:36:14.193 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-31 21:36:14.194 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-31 21:36:14.194 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 21:36:14.195 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:36:14.198 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-03-31 21:36:14.198 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-31 21:36:14.314 +05:00 [INF] Executed DbCommand (116ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-31 21:36:14.314 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 21:36:14.314 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 21:36:14.315 +05:00 [DBG] Committing transaction.
2024-03-31 21:36:15.081 +05:00 [DBG] Committed transaction.
2024-03-31 21:36:15.081 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:36:15.081 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:36:15.082 +05:00 [DBG] Disposing transaction.
2024-03-31 21:36:15.083 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:36:15.083 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-31 21:36:15.084 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 21:36:15.084 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 21:36:15.084 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 21:36:15.084 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 21:36:15.084 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 21:36:15.085 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 21:36:15.088 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 1482.8968ms
2024-03-31 21:36:15.088 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:36:15.089 +05:00 [DBG] Connection id "0HN2HJVODUAV3" completed keep alive response.
2024-03-31 21:36:15.090 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 21:36:15.090 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:36:15.090 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:36:15.091 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------830283466421100281294249 8662428 - 200 - application/json;+charset=utf-8 1907.6113ms
2024-03-31 21:37:19.869 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:19.874 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------852389707332671067128174 8662428
2024-03-31 21:37:19.874 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-31 21:37:19.874 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-31 21:37:19.875 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:37:19.875 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:37:19.876 +05:00 [DBG] Successfully validated the token.
2024-03-31 21:37:19.877 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 21:37:19.877 +05:00 [DBG] Authorization was successful.
2024-03-31 21:37:19.882 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:37:19.882 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 21:37:19.882 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:37:19.882 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-31 21:37:19.882 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:37:19.882 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:37:19.883 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:37:19.883 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:37:19.884 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:37:19.884 +05:00 [DBG] Connection id "0HN2HJVODUAV3", Request id "0HN2HJVODUAV3:00000002": started reading request body.
2024-03-31 21:37:19.899 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:19.901 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:19.916 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:19.917 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:19.931 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:19.931 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:19.935 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:19.936 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:19.943 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:19.949 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:19.956 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:19.957 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:19.960 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:19.961 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:19.968 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:19.968 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:19.976 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:19.978 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:19.989 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:19.990 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:19.994 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:19.994 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:20.001 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:20.001 +05:00 [DBG] Connection id "0HN2HJVODUAV3" paused.
2024-03-31 21:37:20.010 +05:00 [DBG] Connection id "0HN2HJVODUAV3" resumed.
2024-03-31 21:37:20.016 +05:00 [DBG] Connection id "0HN2HJVODUAV3", Request id "0HN2HJVODUAV3:00000002": done reading request body.
2024-03-31 21:37:20.017 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-31 21:37:20.017 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-31 21:37:20.018 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-31 21:37:20.018 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-31 21:37:20.018 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-31 21:37:20.018 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-31 21:37:20.048 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 21:37:20.048 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:37:20.049 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-31 21:37:20.049 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-31 21:37:20.049 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-31 21:37:20.050 +05:00 [DBG] Creating DbConnection.
2024-03-31 21:37:20.050 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 21:37:20.050 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:37:20.051 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:37:20.051 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-31 21:37:20.052 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-31 21:37:20.052 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 21:37:20.055 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:37:20.055 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-03-31 21:37:20.055 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-31 21:37:20.057 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-31 21:37:20.057 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 21:37:20.057 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 21:37:20.057 +05:00 [DBG] Committing transaction.
2024-03-31 21:37:20.357 +05:00 [DBG] Committed transaction.
2024-03-31 21:37:20.357 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:37:20.357 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:37:20.357 +05:00 [DBG] Disposing transaction.
2024-03-31 21:37:20.357 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:37:20.357 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-31 21:37:20.357 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 21:37:20.357 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 21:37:20.357 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 21:37:20.357 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 21:37:20.357 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 21:37:20.358 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 21:37:20.358 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 475.2426ms
2024-03-31 21:37:20.358 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:37:20.358 +05:00 [DBG] Connection id "0HN2HJVODUAV3" completed keep alive response.
2024-03-31 21:37:20.360 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 21:37:20.360 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:37:20.360 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:37:20.361 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------852389707332671067128174 8662428 - 200 - application/json;+charset=utf-8 486.1036ms
2024-03-31 21:38:42.506 +05:00 [DBG] Connection id "0HN2HJVODUAV1" received FIN.
2024-03-31 21:38:42.523 +05:00 [DBG] Connection id "0HN2HJVODUAV1" is closed. The last processed stream ID was 33.
2024-03-31 21:38:42.529 +05:00 [DBG] Connection id "0HN2HJVODUAV1" sending FIN because: "The client closed the connection."
2024-03-31 21:38:42.531 +05:00 [DBG] The connection queue processing loop for 0HN2HJVODUAV1 completed.
2024-03-31 21:38:42.532 +05:00 [DBG] Connection id "0HN2HJVODUAV1" stopped.
2024-03-31 21:39:31.575 +05:00 [DBG] Connection id "0HN2HJVODUAV3" disconnecting.
2024-03-31 21:39:31.580 +05:00 [DBG] Connection id "0HN2HJVODUAV3" stopped.
2024-03-31 21:39:31.580 +05:00 [DBG] Connection id "0HN2HJVODUAV3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:40:36.310 +05:00 [DBG] Connection id "0HN2HJVODUAV4" accepted.
2024-03-31 21:40:36.310 +05:00 [DBG] Connection id "0HN2HJVODUAV4" started.
2024-03-31 21:40:36.341 +05:00 [DBG] Connection 0HN2HJVODUAV4 established using the following protocol: "Tls12"
2024-03-31 21:40:36.344 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/file multipart/form-data;+boundary=---------------------------413613149712836487054159134474 9813985
2024-03-31 21:40:36.348 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-31 21:40:36.348 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-31 21:40:36.348 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:40:36.349 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 21:40:36.349 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:40:36.349 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 21:40:36.349 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-31 21:40:36.349 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-31 21:40:36.350 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/file multipart/form-data;+boundary=---------------------------413613149712836487054159134474 9813985 - 401 0 - 5.9859ms
2024-03-31 21:40:36.350 +05:00 [DBG] Connection id "0HN2HJVODUAV4", Request id "0HN2HJVODUAV4:0000000F": started reading request body.
2024-03-31 21:40:36.350 +05:00 [DBG] Connection id "0HN2HJVODUAV4", Request id "0HN2HJVODUAV4:0000000F": done reading request body.
2024-03-31 21:40:36.351 +05:00 [INF] Connection id "0HN2HJVODUAV4", Request id "0HN2HJVODUAV4:0000000F": the application completed without reading the entire request body.
2024-03-31 21:40:41.076 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/file multipart/form-data;+boundary=---------------------------2408365419632536338925306435 9813981
2024-03-31 21:40:41.076 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-31 21:40:41.076 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-31 21:40:41.076 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:40:41.076 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 21:40:41.077 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:40:41.077 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 21:40:41.077 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-31 21:40:41.077 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-31 21:40:41.077 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/file multipart/form-data;+boundary=---------------------------2408365419632536338925306435 9813981 - 401 0 - 0.8196ms
2024-03-31 21:40:41.077 +05:00 [DBG] Connection id "0HN2HJVODUAV4", Request id "0HN2HJVODUAV4:00000011": started reading request body.
2024-03-31 21:40:41.077 +05:00 [DBG] Connection id "0HN2HJVODUAV4", Request id "0HN2HJVODUAV4:00000011": done reading request body.
2024-03-31 21:40:41.077 +05:00 [INF] Connection id "0HN2HJVODUAV4", Request id "0HN2HJVODUAV4:00000011": the application completed without reading the entire request body.
2024-03-31 21:41:02.727 +05:00 [DBG] Connection id "0HN2HJVODUAV5" received FIN.
2024-03-31 21:41:02.727 +05:00 [DBG] Connection id "0HN2HJVODUAV5" accepted.
2024-03-31 21:41:02.741 +05:00 [DBG] Connection id "0HN2HJVODUAV6" accepted.
2024-03-31 21:41:02.741 +05:00 [DBG] Connection id "0HN2HJVODUAV5" started.
2024-03-31 21:41:02.742 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 21:41:02.742 +05:00 [DBG] Connection id "0HN2HJVODUAV5" stopped.
2024-03-31 21:41:02.742 +05:00 [DBG] Connection id "0HN2HJVODUAV6" started.
2024-03-31 21:41:02.770 +05:00 [DBG] Connection id "0HN2HJVODUAV5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:41:02.772 +05:00 [DBG] Connection 0HN2HJVODUAV6 established using the following protocol: "Tls12"
2024-03-31 21:41:02.773 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------254082531285248606081352 44177133
2024-03-31 21:41:02.773 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-31 21:41:02.773 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-31 21:41:02.773 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:41:02.773 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:41:02.774 +05:00 [DBG] Successfully validated the token.
2024-03-31 21:41:02.774 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 21:41:02.774 +05:00 [DBG] Authorization was successful.
2024-03-31 21:41:02.774 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:41:02.774 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 21:41:02.774 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:41:02.774 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-31 21:41:02.775 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:41:02.775 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:41:02.775 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:41:02.775 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:41:02.775 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:41:02.851 +05:00 [DBG] Connection id "0HN2HJVODUAV6" paused.
2024-03-31 21:41:03.032 +05:00 [DBG] The request has model state errors, returning an error response.
2024-03-31 21:41:03.032 +05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-31 21:41:03.032 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 21:41:03.032 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 21:41:03.032 +05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-03-31 21:41:03.032 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-31 21:41:03.032 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-31 21:41:03.033 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 257.6588ms
2024-03-31 21:41:03.033 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:41:03.033 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------254082531285248606081352 44177133 - 400 - application/problem+json;+charset=utf-8 259.7801ms
2024-03-31 21:41:03.060 +05:00 [DBG] Connection id "0HN2HJVODUAV6" bad request data: "Request body too large. The max request body size is 30000000 bytes."
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Request body too large. The max request body size is 30000000 bytes.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1ContentLengthMessageBody.OnReadStarting()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.MessageBody.TryStartAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.MessageBody.ConsumeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
2024-03-31 21:41:03.252 +05:00 [DBG] Connection id "0HN2HJVODUAV6" disconnecting.
2024-03-31 21:41:03.252 +05:00 [DBG] Connection id "0HN2HJVODUAV6" stopped.
2024-03-31 21:41:03.252 +05:00 [DBG] Connection id "0HN2HJVODUAV6" resumed.
2024-03-31 21:41:03.252 +05:00 [DBG] Connection id "0HN2HJVODUAV6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:41:12.519 +05:00 [DBG] Connection id "0HN2HJVODUAV7" received FIN.
2024-03-31 21:41:12.519 +05:00 [DBG] Connection id "0HN2HJVODUAV7" accepted.
2024-03-31 21:41:12.524 +05:00 [DBG] Connection id "0HN2HJVODUAV8" accepted.
2024-03-31 21:41:12.524 +05:00 [DBG] Connection id "0HN2HJVODUAV7" started.
2024-03-31 21:41:12.524 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 21:41:12.525 +05:00 [DBG] Connection id "0HN2HJVODUAV7" stopped.
2024-03-31 21:41:12.525 +05:00 [DBG] Connection id "0HN2HJVODUAV8" started.
2024-03-31 21:41:12.526 +05:00 [DBG] Connection id "0HN2HJVODUAV7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:41:12.553 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:12.567 +05:00 [DBG] Connection 0HN2HJVODUAV8 established using the following protocol: "Tls12"
2024-03-31 21:41:12.567 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------862133606104932786135070 24477089
2024-03-31 21:41:12.567 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/file'
2024-03-31 21:41:12.567 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)' with route pattern 'auth/file' is valid for the request path '/auth/file'
2024-03-31 21:41:12.567 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:41:12.567 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:41:12.568 +05:00 [DBG] Successfully validated the token.
2024-03-31 21:41:12.568 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 21:41:12.568 +05:00 [DBG] Authorization was successful.
2024-03-31 21:41:12.568 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:41:12.568 +05:00 [INF] Route matched with {action = "AddFile", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFile(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 21:41:12.568 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:41:12.568 +05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-03-31 21:41:12.568 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:41:12.568 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:41:12.569 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:41:12.569 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:41:12.569 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:41:12.569 +05:00 [DBG] Connection id "0HN2HJVODUAV8", Request id "0HN2HJVODUAV8:00000001": started reading request body.
2024-03-31 21:41:12.611 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:12.611 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:12.638 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:12.639 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:12.766 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:12.772 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:12.810 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:12.811 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:12.839 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:12.841 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:12.883 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:12.885 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:12.925 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:12.926 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:12.941 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:12.941 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:12.949 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:12.952 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.016 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.016 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.027 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.027 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.036 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.036 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.043 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.044 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.052 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.056 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.061 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.061 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.069 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.069 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.076 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.076 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.086 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.142 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.177 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.178 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.186 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.186 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.202 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.209 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.227 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.227 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.240 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.241 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.244 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.245 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.253 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.259 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.269 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.269 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.277 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.277 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.290 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.291 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.300 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.303 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.310 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.311 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.326 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.326 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.340 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.341 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.349 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.349 +05:00 [DBG] Connection id "0HN2HJVODUAV8" paused.
2024-03-31 21:41:13.353 +05:00 [DBG] Connection id "0HN2HJVODUAV8" resumed.
2024-03-31 21:41:13.367 +05:00 [DBG] Connection id "0HN2HJVODUAV8", Request id "0HN2HJVODUAV8:00000001": done reading request body.
2024-03-31 21:41:13.367 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-31 21:41:13.367 +05:00 [DBG] Attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' using the name 'musicFiles' in request data ...
2024-03-31 21:41:13.367 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-31 21:41:13.368 +05:00 [DBG] Done attempting to bind parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-31 21:41:13.368 +05:00 [DBG] Attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]' ...
2024-03-31 21:41:13.368 +05:00 [DBG] Done attempting to validate the bound parameter 'musicFiles' of type 'System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]'.
2024-03-31 21:41:13.402 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 21:41:13.402 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:41:13.402 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-31 21:41:13.402 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-31 21:41:13.402 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-31 21:41:13.403 +05:00 [DBG] Creating DbConnection.
2024-03-31 21:41:13.403 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 21:41:13.403 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.407 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.407 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-31 21:41:13.409 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-31 21:41:13.409 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 21:41:13.409 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:41:13.409 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:41:13.410 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-31 21:41:13.410 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-31 21:41:13.411 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.411 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 21:41:13.411 +05:00 [DBG] Committing transaction.
2024-03-31 21:41:13.416 +05:00 [DBG] Committed transaction.
2024-03-31 21:41:13.417 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.417 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:41:13.417 +05:00 [DBG] Disposing transaction.
2024-03-31 21:41:13.417 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:41:13.417 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-31 21:41:13.450 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:41:13.450 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-31 21:41:13.450 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-31 21:41:13.452 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-31 21:41:13.452 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.457 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.457 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-31 21:41:13.459 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-31 21:41:13.460 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 21:41:13.460 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:41:13.460 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:41:13.460 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-31 21:41:13.461 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-31 21:41:13.461 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.461 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 21:41:13.461 +05:00 [DBG] Committing transaction.
2024-03-31 21:41:13.499 +05:00 [DBG] Committed transaction.
2024-03-31 21:41:13.499 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.500 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:41:13.500 +05:00 [DBG] Disposing transaction.
2024-03-31 21:41:13.500 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:41:13.500 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-31 21:41:13.518 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:41:13.519 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-31 21:41:13.519 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-31 21:41:13.520 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-31 21:41:13.523 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.525 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.527 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-31 21:41:13.528 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-31 21:41:13.528 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 21:41:13.528 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:41:13.528 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:41:13.528 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-31 21:41:13.532 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 250), @p3='?' (DbType = Int32), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `MusicFile` (`ID`, `Album`, `Artist`, `CountLike`, `isUpload`, `Title`, `Year`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-03-31 21:41:13.532 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.532 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 21:41:13.532 +05:00 [DBG] Committing transaction.
2024-03-31 21:41:13.574 +05:00 [DBG] Committed transaction.
2024-03-31 21:41:13.575 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.575 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:41:13.575 +05:00 [DBG] Disposing transaction.
2024-03-31 21:41:13.575 +05:00 [DBG] An entity of type 'MusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:41:13.575 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-31 21:41:13.575 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 21:41:13.576 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 21:41:13.576 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 21:41:13.576 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 21:41:13.576 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 21:41:13.576 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 21:41:13.576 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1) in 1007.364ms
2024-03-31 21:41:13.576 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddFile (BerryMusicV1)'
2024-03-31 21:41:13.576 +05:00 [DBG] Connection id "0HN2HJVODUAV8" completed keep alive response.
2024-03-31 21:41:13.632 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 21:41:13.632 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:41:13.632 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:41:13.632 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/file multipart/form-data;+boundary=--------------------------862133606104932786135070 24477089 - 200 - application/json;+charset=utf-8 1065.1079ms
2024-03-31 21:43:24.944 +05:00 [DBG] Connection id "0HN2HJVODUAV8" disconnecting.
2024-03-31 21:43:24.945 +05:00 [DBG] Connection id "0HN2HJVODUAV8" stopped.
2024-03-31 21:43:24.945 +05:00 [DBG] Connection id "0HN2HJVODUAV8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:43:31.593 +05:00 [DBG] Connection id "0HN2HJVODUAV4" received FIN.
2024-03-31 21:43:31.594 +05:00 [DBG] Connection id "0HN2HJVODUAV4" is closed. The last processed stream ID was 17.
2024-03-31 21:43:31.594 +05:00 [DBG] Connection id "0HN2HJVODUAV4" sending FIN because: "The client closed the connection."
2024-03-31 21:43:31.594 +05:00 [DBG] The connection queue processing loop for 0HN2HJVODUAV4 completed.
2024-03-31 21:43:31.594 +05:00 [DBG] Connection id "0HN2HJVODUAV4" stopped.
2024-03-31 21:52:46.045 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 21:52:46.373 +05:00 [DBG] Hosting starting
2024-03-31 21:52:46.402 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 21:52:46.414 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 21:52:46.544 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 21:52:46.669 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 21:52:46.945 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 21:52:47.068 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 21:52:47.194 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 21:52:47.302 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 21:52:47.302 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 21:52:47.302 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 21:52:47.302 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 21:52:47.315 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 21:52:47.318 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 21:52:47.324 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 21:52:47.326 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 21:52:47.344 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 21:52:47.345 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 21:52:47.350 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 21:52:47.351 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 21:52:48.052 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 21:52:48.052 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 21:52:48.053 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 21:52:48.053 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 21:52:48.053 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 21:52:48.057 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 21:52:48.058 +05:00 [INF] Hosting environment: Development
2024-03-31 21:52:48.058 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 21:52:48.058 +05:00 [DBG] Hosting started
2024-03-31 21:52:48.374 +05:00 [DBG] Connection id "0HN2HKBVF8HJS" accepted.
2024-03-31 21:52:48.375 +05:00 [DBG] Connection id "0HN2HKBVF8HJT" accepted.
2024-03-31 21:52:48.376 +05:00 [DBG] Connection id "0HN2HKBVF8HJS" started.
2024-03-31 21:52:48.404 +05:00 [DBG] Connection id "0HN2HKBVF8HJS" received FIN.
2024-03-31 21:52:48.406 +05:00 [DBG] Connection id "0HN2HKBVF8HJT" received FIN.
2024-03-31 21:52:48.406 +05:00 [DBG] Connection id "0HN2HKBVF8HJT" started.
2024-03-31 21:52:48.410 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 21:52:48.458 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 21:52:48.477 +05:00 [DBG] Connection id "0HN2HKBVF8HJT" stopped.
2024-03-31 21:52:48.477 +05:00 [DBG] Connection id "0HN2HKBVF8HJS" stopped.
2024-03-31 21:52:48.482 +05:00 [DBG] Connection id "0HN2HKBVF8HJS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:52:48.482 +05:00 [DBG] Connection id "0HN2HKBVF8HJT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:52:50.251 +05:00 [DBG] Connection id "0HN2HKBVF8HJU" accepted.
2024-03-31 21:52:50.251 +05:00 [DBG] Connection id "0HN2HKBVF8HJU" started.
2024-03-31 21:52:50.327 +05:00 [DBG] Connection 0HN2HKBVF8HJU established using the following protocol: "Tls12"
2024-03-31 21:52:50.457 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 21:52:50.500 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 21:52:50.558 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 21:52:50.558 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:52:50.817 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 21:52:51.144 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 21:52:51.148 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 700.3599ms
2024-03-31 21:52:51.851 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 21:52:51.867 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 16.1439ms
2024-03-31 21:52:52.342 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 21:52:52.669 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 327.1571ms
2024-03-31 21:53:13.286 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 21:53:13.291 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 21:53:13.291 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:53:13.541 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 255.5166ms
2024-03-31 21:53:27.010 +05:00 [DBG] Connection id "0HN2HKBVF8HJV" received FIN.
2024-03-31 21:53:27.010 +05:00 [DBG] Connection id "0HN2HKBVF8HJV" accepted.
2024-03-31 21:53:27.010 +05:00 [DBG] Connection id "0HN2HKBVF8HJV" started.
2024-03-31 21:53:27.010 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 21:53:27.011 +05:00 [DBG] Connection id "0HN2HKBVF8HJV" stopped.
2024-03-31 21:53:27.011 +05:00 [DBG] Connection id "0HN2HKBVF8HJV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:53:27.052 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 21:53:27.053 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 21:53:27.053 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:53:27.059 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 21:53:27.073 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 21:53:27.073 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 21.3160ms
2024-03-31 21:53:27.174 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 21:53:27.175 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 21:53:27.175 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 0.6441ms
2024-03-31 21:53:27.240 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.9778ms
2024-03-31 21:53:27.482 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 21:53:27.482 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 21:53:27.482 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:53:27.532 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 12.0500ms
2024-03-31 21:53:34.113 +05:00 [INF] Application is shutting down...
2024-03-31 21:53:34.116 +05:00 [DBG] Hosting stopping
2024-03-31 21:53:34.138 +05:00 [DBG] Connection id "0HN2HKBVF8HJU" is closing.
2024-03-31 21:53:34.143 +05:00 [DBG] Connection id "0HN2HKBVF8HJU" is closed. The last processed stream ID was 29.
2024-03-31 21:53:34.161 +05:00 [DBG] Connection id "0HN2HKBVF8HJU" received FIN.
2024-03-31 21:53:34.163 +05:00 [DBG] Connection id "0HN2HKBVF8HJU" sending FIN because: "The client closed the connection."
2024-03-31 21:53:34.219 +05:00 [DBG] The connection queue processing loop for 0HN2HKBVF8HJU completed.
2024-03-31 21:53:34.232 +05:00 [DBG] Connection id "0HN2HKBVF8HJU" stopped.
2024-03-31 21:53:34.234 +05:00 [DBG] Hosting stopped
2024-03-31 21:53:38.066 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 21:53:38.152 +05:00 [DBG] Hosting starting
2024-03-31 21:53:38.177 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 21:53:38.186 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 21:53:38.200 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 21:53:38.201 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 21:53:38.201 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 21:53:38.201 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 21:53:38.207 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 21:53:38.210 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 21:53:38.212 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 21:53:38.213 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 21:53:38.213 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 21:53:38.221 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 21:53:38.228 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 21:53:38.235 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 21:53:38.236 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 21:53:38.242 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 21:53:38.243 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 21:53:38.244 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 21:53:38.244 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 21:53:38.451 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 21:53:38.451 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 21:53:38.451 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 21:53:38.451 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 21:53:38.451 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 21:53:38.453 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 21:53:38.458 +05:00 [INF] Hosting environment: Development
2024-03-31 21:53:38.458 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 21:53:38.459 +05:00 [DBG] Hosting started
2024-03-31 21:53:38.745 +05:00 [DBG] Connection id "0HN2HKCEFKG3L" accepted.
2024-03-31 21:53:38.748 +05:00 [DBG] Connection id "0HN2HKCEFKG3L" started.
2024-03-31 21:53:38.778 +05:00 [DBG] Connection id "0HN2HKCEFKG3L" received FIN.
2024-03-31 21:53:38.784 +05:00 [DBG] Connection id "0HN2HKCEFKG3M" accepted.
2024-03-31 21:53:38.786 +05:00 [DBG] Connection id "0HN2HKCEFKG3M" started.
2024-03-31 21:53:38.814 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 21:53:38.844 +05:00 [DBG] Connection id "0HN2HKCEFKG3L" stopped.
2024-03-31 21:53:38.844 +05:00 [DBG] Connection id "0HN2HKCEFKG3L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:53:38.848 +05:00 [DBG] Connection 0HN2HKCEFKG3M established using the following protocol: "Tls12"
2024-03-31 21:53:38.925 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 21:53:38.952 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 21:53:39.009 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 21:53:39.010 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:53:39.206 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 21:53:39.341 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 21:53:39.373 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 453.5326ms
2024-03-31 21:53:39.445 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 21:53:39.450 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 21:53:39.459 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 7.6474ms
2024-03-31 21:53:39.519 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 73.6134ms
2024-03-31 21:53:39.711 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 21:53:39.715 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 21:53:39.715 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:53:40.258 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 547.4061ms
2024-03-31 21:54:09.043 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth?deviceId=1d75d6db-da68-4ed7-83a9-5f1e8fde2087 - 0
2024-03-31 21:54:09.053 +05:00 [DBG] 1 candidate(s) found for the request path '/auth'
2024-03-31 21:54:09.066 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth'
2024-03-31 21:54:09.067 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:54:09.069 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 21:54:09.075 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:54:09.274 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 21:54:09.286 +05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-31 21:54:09.303 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-03-31 21:54:09.307 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth?deviceId=1d75d6db-da68-4ed7-83a9-5f1e8fde2087 - 0 - 401 0 - 260.2056ms
2024-03-31 21:54:24.526 +05:00 [DBG] Connection id "0HN2HKCEFKG3N" received FIN.
2024-03-31 21:54:24.526 +05:00 [DBG] Connection id "0HN2HKCEFKG3N" accepted.
2024-03-31 21:54:24.527 +05:00 [DBG] Connection id "0HN2HKCEFKG3O" accepted.
2024-03-31 21:54:24.527 +05:00 [DBG] Connection id "0HN2HKCEFKG3N" started.
2024-03-31 21:54:24.527 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 21:54:24.528 +05:00 [DBG] Connection id "0HN2HKCEFKG3N" stopped.
2024-03-31 21:54:24.528 +05:00 [DBG] Connection id "0HN2HKCEFKG3O" started.
2024-03-31 21:54:24.534 +05:00 [DBG] Connection id "0HN2HKCEFKG3N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:54:24.539 +05:00 [DBG] Connection 0HN2HKCEFKG3O established using the following protocol: "Tls12"
2024-03-31 21:54:24.558 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/ multipart/form-data;+boundary=--------------------------292157611811458955701879 199
2024-03-31 21:54:24.558 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/'
2024-03-31 21:54:24.558 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth/'
2024-03-31 21:54:24.558 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:54:24.558 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:54:24.733 +05:00 [DBG] Successfully validated the token.
2024-03-31 21:54:24.734 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 21:54:24.736 +05:00 [DBG] Authorization was successful.
2024-03-31 21:54:24.741 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:54:24.809 +05:00 [INF] Route matched with {action = "LogOut", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogOut(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 21:54:24.811 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:54:24.811 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 21:54:24.812 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:54:24.814 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:54:24.814 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:54:24.816 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:54:25.811 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-31 21:54:25.878 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:54:25.910 +05:00 [DBG] Connection id "0HN2HKCEFKG3O", Request id "0HN2HKCEFKG3O:00000001": started reading request body.
2024-03-31 21:54:25.911 +05:00 [DBG] Connection id "0HN2HKCEFKG3O", Request id "0HN2HKCEFKG3O:00000001": done reading request body.
2024-03-31 21:54:25.945 +05:00 [DBG] Attempting to bind parameter 'deviceId' of type 'System.String' ...
2024-03-31 21:54:25.952 +05:00 [DBG] Attempting to bind parameter 'deviceId' of type 'System.String' using the name '' in request data ...
2024-03-31 21:54:25.953 +05:00 [DBG] Could not find a value in the request with name '' for binding parameter 'deviceId' of type 'System.String'.
2024-03-31 21:54:25.953 +05:00 [DBG] Done attempting to bind parameter 'deviceId' of type 'System.String'.
2024-03-31 21:54:25.953 +05:00 [DBG] Done attempting to bind parameter 'deviceId' of type 'System.String'.
2024-03-31 21:54:25.953 +05:00 [DBG] Attempting to validate the bound parameter 'deviceId' of type 'System.String' ...
2024-03-31 21:54:25.982 +05:00 [DBG] Done attempting to validate the bound parameter 'deviceId' of type 'System.String'.
2024-03-31 21:54:25.984 +05:00 [DBG] The request has model state errors, returning an error response.
2024-03-31 21:54:25.986 +05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-31 21:54:25.997 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 21:54:25.999 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 21:54:26.001 +05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-03-31 21:54:26.002 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-31 21:54:26.003 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-31 21:54:26.045 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1) in 1226.1253ms
2024-03-31 21:54:26.048 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:54:26.049 +05:00 [DBG] Connection id "0HN2HKCEFKG3O" completed keep alive response.
2024-03-31 21:54:26.051 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/ multipart/form-data;+boundary=--------------------------292157611811458955701879 199 - 400 - application/problem+json;+charset=utf-8 1493.1761ms
2024-03-31 21:54:39.309 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/ multipart/form-data;+boundary=--------------------------490594938864853920077809 199
2024-03-31 21:54:39.309 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/'
2024-03-31 21:54:39.309 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth/'
2024-03-31 21:54:39.309 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:54:39.310 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:54:39.312 +05:00 [DBG] Successfully validated the token.
2024-03-31 21:54:39.314 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 21:54:39.316 +05:00 [DBG] Authorization was successful.
2024-03-31 21:54:39.318 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:54:39.318 +05:00 [INF] Route matched with {action = "LogOut", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogOut(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 21:54:39.319 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:54:39.319 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 21:54:39.319 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:54:39.319 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:54:39.319 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:54:39.319 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:54:39.336 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:54:39.336 +05:00 [DBG] Connection id "0HN2HKCEFKG3O", Request id "0HN2HKCEFKG3O:00000002": started reading request body.
2024-03-31 21:54:39.336 +05:00 [DBG] Connection id "0HN2HKCEFKG3O", Request id "0HN2HKCEFKG3O:00000002": done reading request body.
2024-03-31 21:54:39.341 +05:00 [DBG] Attempting to bind parameter 'deviceId' of type 'System.String' ...
2024-03-31 21:54:39.341 +05:00 [DBG] Attempting to bind parameter 'deviceId' of type 'System.String' using the name '' in request data ...
2024-03-31 21:54:39.341 +05:00 [DBG] Could not find a value in the request with name '' for binding parameter 'deviceId' of type 'System.String'.
2024-03-31 21:54:39.341 +05:00 [DBG] Done attempting to bind parameter 'deviceId' of type 'System.String'.
2024-03-31 21:54:39.341 +05:00 [DBG] Done attempting to bind parameter 'deviceId' of type 'System.String'.
2024-03-31 21:54:39.341 +05:00 [DBG] Attempting to validate the bound parameter 'deviceId' of type 'System.String' ...
2024-03-31 21:54:39.342 +05:00 [DBG] Done attempting to validate the bound parameter 'deviceId' of type 'System.String'.
2024-03-31 21:54:39.342 +05:00 [DBG] The request has model state errors, returning an error response.
2024-03-31 21:54:39.342 +05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-31 21:54:39.342 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 21:54:39.342 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 21:54:39.342 +05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-03-31 21:54:39.342 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-31 21:54:39.342 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-31 21:54:39.343 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1) in 24.1051ms
2024-03-31 21:54:39.343 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:54:39.343 +05:00 [DBG] Connection id "0HN2HKCEFKG3O" completed keep alive response.
2024-03-31 21:54:39.343 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/ multipart/form-data;+boundary=--------------------------490594938864853920077809 199 - 400 - application/problem+json;+charset=utf-8 34.6398ms
2024-03-31 21:54:50.309 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/ multipart/form-data;+boundary=--------------------------235237898991004900839051 199
2024-03-31 21:54:50.309 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/'
2024-03-31 21:54:50.309 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth/'
2024-03-31 21:54:50.309 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:54:50.309 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:54:50.309 +05:00 [DBG] Successfully validated the token.
2024-03-31 21:54:50.309 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 21:54:50.310 +05:00 [DBG] Authorization was successful.
2024-03-31 21:54:50.310 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:54:50.310 +05:00 [INF] Route matched with {action = "LogOut", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogOut(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 21:54:50.310 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:54:50.310 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 21:54:50.310 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:54:50.310 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:54:50.310 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:54:50.310 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:54:50.316 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:54:50.316 +05:00 [DBG] Connection id "0HN2HKCEFKG3O", Request id "0HN2HKCEFKG3O:00000003": started reading request body.
2024-03-31 21:54:50.316 +05:00 [DBG] Connection id "0HN2HKCEFKG3O", Request id "0HN2HKCEFKG3O:00000003": done reading request body.
2024-03-31 21:54:50.316 +05:00 [DBG] Attempting to bind parameter 'deviceId' of type 'System.String' ...
2024-03-31 21:54:50.316 +05:00 [DBG] Attempting to bind parameter 'deviceId' of type 'System.String' using the name '' in request data ...
2024-03-31 21:54:50.316 +05:00 [DBG] Could not find a value in the request with name '' for binding parameter 'deviceId' of type 'System.String'.
2024-03-31 21:54:50.316 +05:00 [DBG] Done attempting to bind parameter 'deviceId' of type 'System.String'.
2024-03-31 21:54:50.316 +05:00 [DBG] Done attempting to bind parameter 'deviceId' of type 'System.String'.
2024-03-31 21:54:50.316 +05:00 [DBG] Attempting to validate the bound parameter 'deviceId' of type 'System.String' ...
2024-03-31 21:54:50.316 +05:00 [DBG] Done attempting to validate the bound parameter 'deviceId' of type 'System.String'.
2024-03-31 21:54:50.316 +05:00 [DBG] The request has model state errors, returning an error response.
2024-03-31 21:54:50.317 +05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-31 21:54:50.317 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 21:54:50.317 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 21:54:50.317 +05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-03-31 21:54:50.317 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-31 21:54:50.317 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-31 21:54:50.317 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1) in 6.5368ms
2024-03-31 21:54:50.317 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:54:50.318 +05:00 [DBG] Connection id "0HN2HKCEFKG3O" completed keep alive response.
2024-03-31 21:54:50.318 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/ multipart/form-data;+boundary=--------------------------235237898991004900839051 199 - 400 - application/problem+json;+charset=utf-8 9.1276ms
2024-03-31 21:55:01.524 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/?deviceId=1d75d6db-da68-4ed7-83a9-5f1e8fde2087 multipart/form-data;+boundary=--------------------------988056192015147532311774 199
2024-03-31 21:55:01.524 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/'
2024-03-31 21:55:01.524 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)' with route pattern 'auth' is valid for the request path '/auth/'
2024-03-31 21:55:01.525 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:55:01.525 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:55:01.525 +05:00 [DBG] Successfully validated the token.
2024-03-31 21:55:01.525 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 21:55:01.525 +05:00 [DBG] Authorization was successful.
2024-03-31 21:55:01.525 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:55:01.525 +05:00 [INF] Route matched with {action = "LogOut", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogOut(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 21:55:01.525 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:55:01.525 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 21:55:01.525 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:55:01.525 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:55:01.525 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:55:01.525 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:55:01.526 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:55:01.526 +05:00 [DBG] Connection id "0HN2HKCEFKG3O", Request id "0HN2HKCEFKG3O:00000004": started reading request body.
2024-03-31 21:55:01.526 +05:00 [DBG] Connection id "0HN2HKCEFKG3O", Request id "0HN2HKCEFKG3O:00000004": done reading request body.
2024-03-31 21:55:01.602 +05:00 [DBG] Attempting to bind parameter 'deviceId' of type 'System.String' ...
2024-03-31 21:55:01.603 +05:00 [DBG] Attempting to bind parameter 'deviceId' of type 'System.String' using the name 'deviceId' in request data ...
2024-03-31 21:55:01.606 +05:00 [DBG] Done attempting to bind parameter 'deviceId' of type 'System.String'.
2024-03-31 21:55:01.606 +05:00 [DBG] Done attempting to bind parameter 'deviceId' of type 'System.String'.
2024-03-31 21:55:01.606 +05:00 [DBG] Attempting to validate the bound parameter 'deviceId' of type 'System.String' ...
2024-03-31 21:55:01.606 +05:00 [DBG] Done attempting to validate the bound parameter 'deviceId' of type 'System.String'.
2024-03-31 21:55:02.436 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-31 21:55:02.439 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-31 21:55:02.920 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 21:55:03.076 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(e => EF.Property<string>(e, "IdDevice") == __p_0)'
2024-03-31 21:55:03.375 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdDevice (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdUser (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_Device, t.id_User, t.Token
            FROM Token AS t
            WHERE t.id_Device == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 21:55:03.449 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 21:55:03.452 +05:00 [DBG] Creating DbConnection.
2024-03-31 21:55:03.469 +05:00 [DBG] Created DbConnection. (9ms).
2024-03-31 21:55:03.482 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (31ms).
2024-03-31 21:55:03.493 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (49ms).
2024-03-31 21:55:03.503 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:04.420 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:04.436 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_Device` = @__p_0
LIMIT 1
2024-03-31 21:55:04.470 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`id_Device` = @__p_0
LIMIT 1
2024-03-31 21:55:04.524 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:55:04.551 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:04.566 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 78ms reading results.
2024-03-31 21:55:04.568 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:04.577 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (7ms).
2024-03-31 21:55:04.602 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:55:04.612 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-31 21:55:04.617 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-31 21:55:04.641 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-31 21:55:04.767 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:04.783 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:04.785 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 21:55:04.786 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:55:04.786 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 21:55:04.786 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM `Token`
WHERE `id_Device` = @p0;
2024-03-31 21:55:04.815 +05:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM `Token`
WHERE `id_Device` = @p0;
2024-03-31 21:55:04.819 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:04.819 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 3ms reading results.
2024-03-31 21:55:04.820 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:04.826 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (5ms).
2024-03-31 21:55:04.835 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 21:55:04.839 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-31 21:55:04.843 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 21:55:04.844 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 21:55:04.844 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 21:55:04.844 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 21:55:04.844 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 21:55:04.844 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 21:55:04.848 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1) in 3322.354ms
2024-03-31 21:55:04.848 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.LogOut (BerryMusicV1)'
2024-03-31 21:55:04.849 +05:00 [DBG] Connection id "0HN2HKCEFKG3O" completed keep alive response.
2024-03-31 21:55:04.850 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 21:55:04.860 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:04.865 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (8ms).
2024-03-31 21:55:04.865 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/?deviceId=1d75d6db-da68-4ed7-83a9-5f1e8fde2087 multipart/form-data;+boundary=--------------------------988056192015147532311774 199 - 200 - application/json;+charset=utf-8 3340.9276ms
2024-03-31 21:55:37.917 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/post?code=1d75d6db-da68-4ed7-83a9-5f1e8fde2087 multipart/form-data;+boundary=--------------------------994674193350720463627998 199
2024-03-31 21:55:37.918 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/post'
2024-03-31 21:55:37.918 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/post' is valid for the request path '/auth/post'
2024-03-31 21:55:37.918 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 21:55:37.918 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 21:55:37.920 +05:00 [DBG] Successfully validated the token.
2024-03-31 21:55:37.920 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 21:55:37.925 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 21:55:37.935 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 21:55:37.935 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 21:55:37.935 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 21:55:37.935 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 21:55:37.935 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 21:55:37.935 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 21:55:37.935 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:55:37.935 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 21:55:37.935 +05:00 [DBG] Connection id "0HN2HKCEFKG3O", Request id "0HN2HKCEFKG3O:00000005": started reading request body.
2024-03-31 21:55:37.936 +05:00 [DBG] Connection id "0HN2HKCEFKG3O", Request id "0HN2HKCEFKG3O:00000005": done reading request body.
2024-03-31 21:55:37.936 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-31 21:55:37.936 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-31 21:55:37.936 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 21:55:37.936 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 21:55:37.936 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-31 21:55:37.940 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-31 21:55:38.051 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 21:55:38.053 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(x => x.Token1 == __refreshToken_0)'
2024-03-31 21:55:38.069 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdDevice (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdUser (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_Device, t.id_User, t.Token
            FROM Token AS t
            WHERE t.Token == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 21:55:38.070 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 21:55:38.070 +05:00 [DBG] Creating DbConnection.
2024-03-31 21:55:38.070 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 21:55:38.072 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-03-31 21:55:38.073 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-03-31 21:55:38.073 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:38.074 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:38.075 +05:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 21:55:38.076 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 21:55:38.076 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:38.076 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 21:55:38.076 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:38.076 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:55:38.150 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 214.616ms
2024-03-31 21:55:38.150 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 21:55:38.308 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.AuthorizeService.GetJWT(String refreshToken) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\AuthorizeService.cs:line 87
   at BerryMusicV1.Controllers.AuthorizeController.GetJwtToken(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\AuthorizeController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-31 21:55:38.311 +05:00 [DBG] Connection id "0HN2HKCEFKG3O" completed keep alive response.
2024-03-31 21:55:38.311 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 21:55:38.311 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 21:55:38.311 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 21:55:38.311 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/post?code=1d75d6db-da68-4ed7-83a9-5f1e8fde2087 multipart/form-data;+boundary=--------------------------994674193350720463627998 199 - 500 - text/plain;+charset=utf-8 393.8049ms
2024-03-31 21:55:54.169 +05:00 [INF] Application is shutting down...
2024-03-31 21:55:54.171 +05:00 [DBG] Hosting stopping
2024-03-31 21:55:54.177 +05:00 [DBG] Connection id "0HN2HKCEFKG3M" is closing.
2024-03-31 21:55:54.177 +05:00 [DBG] Connection id "0HN2HKCEFKG3M" is closed. The last processed stream ID was 23.
2024-03-31 21:55:54.180 +05:00 [DBG] Connection id "0HN2HKCEFKG3M" received FIN.
2024-03-31 21:55:54.181 +05:00 [DBG] Connection id "0HN2HKCEFKG3M" sending FIN because: "The client closed the connection."
2024-03-31 21:55:54.267 +05:00 [DBG] Connection id "0HN2HKCEFKG3O" disconnecting.
2024-03-31 21:55:54.268 +05:00 [DBG] The connection queue processing loop for 0HN2HKCEFKG3M completed.
2024-03-31 21:55:54.269 +05:00 [DBG] Connection id "0HN2HKCEFKG3O" stopped.
2024-03-31 21:55:54.269 +05:00 [DBG] Connection id "0HN2HKCEFKG3M" stopped.
2024-03-31 21:55:54.269 +05:00 [DBG] Connection id "0HN2HKCEFKG3O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:55:54.273 +05:00 [DBG] Hosting stopped
2024-03-31 21:56:37.256 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 21:56:37.643 +05:00 [DBG] Hosting starting
2024-03-31 21:56:38.263 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 21:56:38.273 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 21:56:38.370 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 21:56:38.371 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 21:56:38.372 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 21:56:38.372 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 21:56:38.490 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 21:56:38.635 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 21:56:38.636 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 21:56:38.636 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 21:56:38.636 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 21:56:38.647 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 21:56:38.652 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 21:56:38.661 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 21:56:38.665 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 21:56:38.674 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 21:56:38.675 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 21:56:38.677 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 21:56:38.677 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 21:56:41.151 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 21:56:41.218 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 21:56:41.218 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 21:56:41.218 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 21:56:41.218 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 21:56:41.219 +05:00 [DBG] Connection id "0HN2HKE4RR4HJ" accepted.
2024-03-31 21:56:41.224 +05:00 [DBG] Connection id "0HN2HKE4RR4HK" accepted.
2024-03-31 21:56:41.233 +05:00 [DBG] Connection id "0HN2HKE4RR4HK" started.
2024-03-31 21:56:41.239 +05:00 [DBG] Connection id "0HN2HKE4RR4HJ" started.
2024-03-31 21:56:41.240 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 21:56:41.252 +05:00 [INF] Hosting environment: Development
2024-03-31 21:56:41.257 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 21:56:41.268 +05:00 [DBG] Hosting started
2024-03-31 21:56:41.283 +05:00 [DBG] Connection id "0HN2HKE4RR4HL" accepted.
2024-03-31 21:56:41.284 +05:00 [DBG] Connection id "0HN2HKE4RR4HL" started.
2024-03-31 21:56:41.334 +05:00 [DBG] Connection id "0HN2HKE4RR4HM" accepted.
2024-03-31 21:56:41.335 +05:00 [DBG] Connection id "0HN2HKE4RR4HM" started.
2024-03-31 21:56:41.412 +05:00 [DBG] Connection 0HN2HKE4RR4HL established using the following protocol: "Tls12"
2024-03-31 21:56:41.412 +05:00 [DBG] Connection 0HN2HKE4RR4HJ established using the following protocol: "Tls12"
2024-03-31 21:56:41.583 +05:00 [DBG] Connection id "0HN2HKE4RR4HJ" received FIN.
2024-03-31 21:56:41.585 +05:00 [DBG] Connection id "0HN2HKE4RR4HJ" is closing.
2024-03-31 21:56:41.601 +05:00 [DBG] Connection id "0HN2HKE4RR4HJ" is closed. The last processed stream ID was 0.
2024-03-31 21:56:41.602 +05:00 [DBG] Connection id "0HN2HKE4RR4HJ" sending FIN because: "The client closed the connection."
2024-03-31 21:56:41.602 +05:00 [DBG] The connection queue processing loop for 0HN2HKE4RR4HJ completed.
2024-03-31 21:56:41.608 +05:00 [DBG] Connection id "0HN2HKE4RR4HJ" stopped.
2024-03-31 21:56:41.972 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 21:56:42.078 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 21:56:42.140 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 21:56:42.141 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:56:42.753 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 21:56:43.283 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 21:56:43.286 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 1318.3270ms
2024-03-31 21:56:43.320 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 21:56:43.333 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 21:56:43.349 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 15.9221ms
2024-03-31 21:56:43.486 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 165.6601ms
2024-03-31 21:56:43.642 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 21:56:43.644 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 21:56:43.645 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:56:44.071 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 428.6423ms
2024-03-31 21:56:47.251 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 21:56:47.253 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 21:56:47.253 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:56:47.259 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 21:56:47.345 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 21:56:47.352 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 93.6886ms
2024-03-31 21:56:47.385 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 21:56:47.544 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 21:56:47.550 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.4540ms
2024-03-31 21:56:47.826 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 441.1052ms
2024-03-31 21:56:48.020 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 21:56:48.023 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 21:56:48.024 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:56:48.044 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 23.6863ms
2024-03-31 21:56:48.982 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger - -
2024-03-31 21:56:48.984 +05:00 [DBG] No candidates found for the request path '/swagger'
2024-03-31 21:56:48.984 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:56:48.985 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger - - - 301 0 - 3.1076ms
2024-03-31 21:56:49.009 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 21:56:49.014 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 21:56:49.014 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:56:49.015 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 21:56:49.108 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 21:56:49.108 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 99.0930ms
2024-03-31 21:56:49.177 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 21:56:49.186 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 21:56:49.207 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 21.1765ms
2024-03-31 21:57:20.749 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 21:57:20.850 +05:00 [DBG] Hosting starting
2024-03-31 21:57:20.906 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 21:57:20.935 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 21:57:20.948 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 21:57:20.949 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 21:57:20.949 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 21:57:20.949 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 21:57:20.964 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 21:57:20.969 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 21:57:20.969 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 21:57:20.969 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 21:57:20.969 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 21:57:20.986 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 21:57:21.001 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 21:57:21.007 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 21:57:21.008 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 21:57:21.014 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 21:57:21.015 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 21:57:21.016 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 21:57:21.016 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 21:57:21.239 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 21:57:21.239 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 21:57:21.240 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 21:57:21.240 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 21:57:21.240 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 21:57:21.242 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 21:57:21.242 +05:00 [INF] Hosting environment: Development
2024-03-31 21:57:21.243 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 21:57:21.243 +05:00 [DBG] Hosting started
2024-03-31 21:57:21.377 +05:00 [DBG] Connection id "0HN2HKEGQQDAN" accepted.
2024-03-31 21:57:21.378 +05:00 [DBG] Connection id "0HN2HKEGQQDAN" started.
2024-03-31 21:57:21.445 +05:00 [DBG] Connection 0HN2HKEGQQDAN established using the following protocol: "Tls12"
2024-03-31 21:57:21.527 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 21:57:21.535 +05:00 [DBG] Connection id "0HN2HKEGQQDAO" accepted.
2024-03-31 21:57:21.535 +05:00 [DBG] Connection id "0HN2HKEGQQDAO" started.
2024-03-31 21:57:21.553 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 21:57:21.567 +05:00 [DBG] Connection id "0HN2HKEGQQDAO" received FIN.
2024-03-31 21:57:21.569 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 21:57:21.602 +05:00 [DBG] Connection id "0HN2HKEGQQDAO" stopped.
2024-03-31 21:57:21.606 +05:00 [DBG] Connection id "0HN2HKEGQQDAO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 21:57:21.620 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 21:57:21.621 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:57:21.991 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 21:57:21.994 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 21:57:21.994 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:57:22.073 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 21:57:22.073 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 21:57:22.277 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 21:57:22.277 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 21:57:22.302 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 21:57:22.303 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 288.2722ms
2024-03-31 21:57:22.303 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 755.5377ms
2024-03-31 21:57:22.310 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 21:57:22.318 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 6.7337ms
2024-03-31 21:57:22.478 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 175.5696ms
2024-03-31 21:57:22.682 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 21:57:22.683 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 21:57:22.683 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:57:23.108 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 429.3790ms
2024-03-31 21:57:23.174 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 21:57:23.174 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 21:57:23.178 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.3354ms
2024-03-31 21:57:23.284 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 109.9742ms
2024-03-31 21:57:23.541 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 21:57:23.541 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 21:57:23.541 +05:00 [DBG] Request did not match any endpoints
2024-03-31 21:57:23.550 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.6317ms
2024-03-31 22:00:13.875 +05:00 [DBG] Connection id "0HN2HKEGQQDAN" received FIN.
2024-03-31 22:00:13.885 +05:00 [DBG] Connection id "0HN2HKEGQQDAN" is closed. The last processed stream ID was 29.
2024-03-31 22:00:13.885 +05:00 [DBG] The connection queue processing loop for 0HN2HKEGQQDAN completed.
2024-03-31 22:00:13.885 +05:00 [DBG] Connection id "0HN2HKEGQQDAN" sending FIN because: "The client closed the connection."
2024-03-31 22:00:13.886 +05:00 [DBG] Connection id "0HN2HKEGQQDAN" stopped.
2024-03-31 22:04:37.036 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 22:04:37.302 +05:00 [DBG] Hosting starting
2024-03-31 22:04:37.342 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 22:04:37.359 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 22:04:37.375 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 22:04:37.376 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 22:04:37.376 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 22:04:37.376 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 22:04:37.392 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 22:04:37.401 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 22:04:37.401 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 22:04:37.401 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 22:04:37.401 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 22:04:37.417 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 22:04:37.419 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:04:37.433 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 22:04:37.435 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:04:37.442 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 22:04:37.443 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 22:04:37.444 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 22:04:37.445 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 22:04:37.917 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 22:04:37.917 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 22:04:37.918 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 22:04:37.918 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 22:04:37.918 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 22:04:37.942 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 22:04:37.942 +05:00 [INF] Hosting environment: Development
2024-03-31 22:04:37.943 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 22:04:37.943 +05:00 [DBG] Hosting started
2024-03-31 22:04:38.046 +05:00 [DBG] Connection id "0HN2HKIIV77O9" accepted.
2024-03-31 22:04:38.048 +05:00 [DBG] Connection id "0HN2HKIIV77O9" started.
2024-03-31 22:04:38.048 +05:00 [DBG] Connection id "0HN2HKIIV77OA" accepted.
2024-03-31 22:04:38.048 +05:00 [DBG] Connection id "0HN2HKIIV77OA" started.
2024-03-31 22:04:38.108 +05:00 [DBG] Connection id "0HN2HKIIV77O9" received FIN.
2024-03-31 22:04:38.108 +05:00 [DBG] Connection id "0HN2HKIIV77OA" received FIN.
2024-03-31 22:04:38.126 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:04:38.136 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:04:38.158 +05:00 [DBG] Connection id "0HN2HKIIV77OA" stopped.
2024-03-31 22:04:38.158 +05:00 [DBG] Connection id "0HN2HKIIV77O9" stopped.
2024-03-31 22:04:38.172 +05:00 [DBG] Connection id "0HN2HKIIV77OA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:04:38.173 +05:00 [DBG] Connection id "0HN2HKIIV77O9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:04:40.150 +05:00 [DBG] Connection id "0HN2HKIIV77OB" accepted.
2024-03-31 22:04:40.151 +05:00 [DBG] Connection id "0HN2HKIIV77OB" started.
2024-03-31 22:04:40.334 +05:00 [DBG] Connection 0HN2HKIIV77OB established using the following protocol: "Tls12"
2024-03-31 22:04:40.486 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 22:04:40.541 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 22:04:40.610 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 22:04:40.611 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:04:41.817 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 22:04:42.352 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 22:04:42.357 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 1873.8296ms
2024-03-31 22:04:42.874 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 22:04:42.877 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 22:04:42.891 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 13.7203ms
2024-03-31 22:04:43.277 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 400.3365ms
2024-03-31 22:04:43.461 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 22:04:43.466 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 22:04:43.467 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:04:44.019 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 557.4490ms
2024-03-31 22:06:36.118 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg application/json 109
2024-03-31 22:06:36.132 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg'
2024-03-31 22:06:36.140 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)' with route pattern 'unauth/reg' is valid for the request path '/unauth/reg'
2024-03-31 22:06:36.141 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-31 22:06:36.143 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 22:06:36.144 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:06:36.666 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:06:36.669 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-31 22:06:36.978 +05:00 [INF] Route matched with {action = "RegistrationCodeSend", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeSend(BerryMusicV1.Modals.UserCred) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-31 22:06:36.982 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:06:36.983 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:06:36.983 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:06:36.983 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:06:36.983 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:06:36.985 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-31 22:06:38.233 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-31 22:06:38.274 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-31 22:06:38.451 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-31 22:06:38.453 +05:00 [DBG] Attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' using the name '' in request data ...
2024-03-31 22:06:38.456 +05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-31 22:06:38.510 +05:00 [DBG] Connection id "0HN2HKIIV77OB", Request id "0HN2HKIIV77OB:00000017": started reading request body.
2024-03-31 22:06:38.510 +05:00 [DBG] Connection id "0HN2HKIIV77OB", Request id "0HN2HKIIV77OB:00000017": done reading request body.
2024-03-31 22:06:38.514 +05:00 [DBG] JSON input formatter succeeded, deserializing to type 'BerryMusicV1.Modals.UserCred'
2024-03-31 22:06:38.515 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-31 22:06:38.515 +05:00 [DBG] Done attempting to bind parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-31 22:06:38.515 +05:00 [DBG] Attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred' ...
2024-03-31 22:06:38.542 +05:00 [DBG] Done attempting to validate the bound parameter 'userCred' of type 'BerryMusicV1.Modals.UserCred'.
2024-03-31 22:06:38.627 +05:00 [INF] Пользователь efremovdanil1981@gmail.com начал регистрацию в 31.03.2024 22:06:38
2024-03-31 22:06:39.711 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-03-31 22:06:39.716 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1) in 2729.1019ms
2024-03-31 22:06:39.717 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeSend (BerryMusicV1)'
2024-03-31 22:06:39.719 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg application/json 109 - 200 0 - 3601.1090ms
2024-03-31 22:06:58.515 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/unauth/reg/code?code=120099 - 0
2024-03-31 22:06:58.516 +05:00 [DBG] 1 candidate(s) found for the request path '/unauth/reg/code'
2024-03-31 22:06:58.516 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)' with route pattern 'unauth/reg/code' is valid for the request path '/unauth/reg/code'
2024-03-31 22:06:58.517 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-31 22:06:58.517 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 22:06:58.518 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:06:58.519 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:06:58.519 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-31 22:06:58.970 +05:00 [INF] Route matched with {action = "RegistrationCodeAccept", controller = "Unauthorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrationCodeAccept(System.String) on controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1).
2024-03-31 22:06:58.970 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:06:58.970 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:06:58.970 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:06:58.970 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:06:58.970 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:06:58.970 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-31 22:06:58.999 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.UnauthorizeController (BerryMusicV1)
2024-03-31 22:06:59.025 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-31 22:06:59.026 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-31 22:06:59.027 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:06:59.027 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:06:59.027 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-31 22:06:59.028 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-31 22:07:00.892 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-31 22:07:00.892 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-31 22:07:01.710 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:07:01.885 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:07:01.894 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-31 22:07:01.905 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-31 22:07:01.916 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-31 22:07:02.140 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:07:02.193 +05:00 [DBG] Created DbConnection. (84ms).
2024-03-31 22:07:02.330 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:07:03.335 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:07:03.352 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-31 22:07:03.374 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-31 22:07:03.393 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:07:03.403 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-03-31 22:07:03.506 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (116ms).
2024-03-31 22:07:03.515 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_Device`, `id_User`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-31 22:07:03.540 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Token` (`id_Device`, `id_User`, `Token`)
VALUES (@p0, @p1, @p2);
2024-03-31 22:07:03.548 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:07:03.559 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 8ms reading results.
2024-03-31 22:07:03.567 +05:00 [DBG] Committing transaction.
2024-03-31 22:07:03.627 +05:00 [DBG] Committed transaction.
2024-03-31 22:07:03.635 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:07:03.645 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (8ms).
2024-03-31 22:07:03.649 +05:00 [DBG] Disposing transaction.
2024-03-31 22:07:03.666 +05:00 [DBG] An entity of type 'Token' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:07:03.668 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-31 22:07:03.727 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:07:03.774 +05:00 [DBG] The navigation 'Playlist.IdUserNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:07:03.794 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:07:03.795 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-31 22:07:03.797 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-31 22:07:03.814 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-31 22:07:03.866 +05:00 [DBG] Executing 2 update commands as a batch.
2024-03-31 22:07:03.867 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:07:03.874 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:07:03.874 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-31 22:07:03.876 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-31 22:07:03.877 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:07:03.877 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:07:03.877 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:07:03.878 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-31 22:07:03.885 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32), @p3='?' (DbType = SByte), @p4='?' (DbType = SByte), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (Size = 250), @p8='?' (DbType = Int32), @p9='?' (Size = 250), @p10='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `User` (`ID`, `Email`, `id_Role`, `IsBanned`, `IsPremium`, `Login`, `Password`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO `Playlist` (`ID`, `id_Status`, `id_User`, `Name`)
VALUES (@p7, @p8, @p9, @p10);
2024-03-31 22:07:03.885 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:07:03.885 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 22:07:03.885 +05:00 [DBG] Committing transaction.
2024-03-31 22:07:03.898 +05:00 [DBG] Committed transaction.
2024-03-31 22:07:03.899 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:07:03.899 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:07:03.899 +05:00 [DBG] Disposing transaction.
2024-03-31 22:07:03.900 +05:00 [DBG] An entity of type 'User' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:07:03.901 +05:00 [DBG] An entity of type 'Playlist' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:07:03.901 +05:00 [DBG] SaveChanges completed for 'BMContext' with 2 entities written to the database.
2024-03-31 22:07:03.901 +05:00 [INF] Пользователь efremovdanil1981@gmail.com завершил регистрацию в 31.03.2024 22:07:03
2024-03-31 22:07:03.960 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:07:03.961 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:07:03.962 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:07:03.962 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:07:03.966 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 22:07:03.966 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.TokenResponse'.
2024-03-31 22:07:03.974 +05:00 [INF] Executed action BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1) in 5003.4232ms
2024-03-31 22:07:03.974 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.UnauthorizeController.RegistrationCodeAccept (BerryMusicV1)'
2024-03-31 22:07:03.974 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:07:03.978 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:07:03.981 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (3ms).
2024-03-31 22:07:03.981 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/unauth/reg/code?code=120099 - 0 - 200 - application/json;+charset=utf-8 5466.1621ms
2024-03-31 22:08:01.641 +05:00 [DBG] Connection id "0HN2HKIIV77OC" received FIN.
2024-03-31 22:08:01.642 +05:00 [DBG] Connection id "0HN2HKIIV77OC" accepted.
2024-03-31 22:08:01.642 +05:00 [DBG] Connection id "0HN2HKIIV77OC" started.
2024-03-31 22:08:01.642 +05:00 [DBG] Connection id "0HN2HKIIV77OD" accepted.
2024-03-31 22:08:01.642 +05:00 [DBG] Connection id "0HN2HKIIV77OD" started.
2024-03-31 22:08:01.642 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:08:01.643 +05:00 [DBG] Connection id "0HN2HKIIV77OC" stopped.
2024-03-31 22:08:01.643 +05:00 [DBG] Connection id "0HN2HKIIV77OC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:08:01.657 +05:00 [DBG] Connection 0HN2HKIIV77OD established using the following protocol: "Tls12"
2024-03-31 22:08:01.695 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add multipart/form-data;+boundary=--------------------------364471120191202577966814 343
2024-03-31 22:08:01.695 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:08:01.695 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:08:01.695 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:08:01.695 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:08:01.883 +05:00 [DBG] Successfully validated the token.
2024-03-31 22:08:01.884 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:08:01.894 +05:00 [DBG] Authorization was successful.
2024-03-31 22:08:01.895 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:08:01.902 +05:00 [INF] Route matched with {action = "AddMusicToPlaylist", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMusicToPlaylist(System.String, System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:08:01.902 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:08:01.902 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:08:01.902 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:08:01.902 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:08:01.902 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:08:01.902 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:08:01.903 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:08:01.977 +05:00 [DBG] Connection id "0HN2HKIIV77OD", Request id "0HN2HKIIV77OD:00000001": started reading request body.
2024-03-31 22:08:01.977 +05:00 [DBG] Connection id "0HN2HKIIV77OD", Request id "0HN2HKIIV77OD:00000001": done reading request body.
2024-03-31 22:08:02.006 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' ...
2024-03-31 22:08:02.007 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' using the name '' in request data ...
2024-03-31 22:08:02.007 +05:00 [DBG] Could not find a value in the request with name '' for binding parameter 'musicId' of type 'System.String'.
2024-03-31 22:08:02.007 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:08:02.007 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:08:02.007 +05:00 [DBG] Attempting to validate the bound parameter 'musicId' of type 'System.String' ...
2024-03-31 22:08:02.010 +05:00 [DBG] Done attempting to validate the bound parameter 'musicId' of type 'System.String'.
2024-03-31 22:08:02.010 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:08:02.010 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' using the name '' in request data ...
2024-03-31 22:08:02.010 +05:00 [DBG] Could not find a value in the request with name '' for binding parameter 'playlistId' of type 'System.String'.
2024-03-31 22:08:02.010 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:08:02.010 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:08:02.010 +05:00 [DBG] Attempting to validate the bound parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:08:02.010 +05:00 [DBG] Done attempting to validate the bound parameter 'playlistId' of type 'System.String'.
2024-03-31 22:08:02.011 +05:00 [DBG] The request has model state errors, returning an error response.
2024-03-31 22:08:02.015 +05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-31 22:08:02.015 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:08:02.016 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:08:02.016 +05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-03-31 22:08:02.017 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-31 22:08:02.017 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-31 22:08:02.027 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1) in 125.0548ms
2024-03-31 22:08:02.028 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:08:02.028 +05:00 [DBG] Connection id "0HN2HKIIV77OD" completed keep alive response.
2024-03-31 22:08:02.028 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/add multipart/form-data;+boundary=--------------------------364471120191202577966814 343 - 400 - application/problem+json;+charset=utf-8 333.2240ms
2024-03-31 22:08:35.501 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------662516818536781126785187 343
2024-03-31 22:08:35.507 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:08:35.507 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:08:35.507 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:08:35.507 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:08:35.508 +05:00 [DBG] Successfully validated the token.
2024-03-31 22:08:35.508 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:08:35.510 +05:00 [DBG] Authorization was successful.
2024-03-31 22:08:35.511 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:08:35.511 +05:00 [INF] Route matched with {action = "AddMusicToPlaylist", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMusicToPlaylist(System.String, System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:08:35.511 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:08:35.511 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:08:35.511 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:08:35.511 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:08:35.511 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:08:35.511 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:08:35.512 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:08:35.515 +05:00 [DBG] Connection id "0HN2HKIIV77OD", Request id "0HN2HKIIV77OD:00000002": started reading request body.
2024-03-31 22:08:35.515 +05:00 [DBG] Connection id "0HN2HKIIV77OD", Request id "0HN2HKIIV77OD:00000002": done reading request body.
2024-03-31 22:08:35.553 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' ...
2024-03-31 22:08:35.557 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' using the name 'musicId' in request data ...
2024-03-31 22:08:35.557 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:08:35.557 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:08:35.557 +05:00 [DBG] Attempting to validate the bound parameter 'musicId' of type 'System.String' ...
2024-03-31 22:08:35.558 +05:00 [DBG] Done attempting to validate the bound parameter 'musicId' of type 'System.String'.
2024-03-31 22:08:35.558 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:08:35.558 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' using the name 'playlistId' in request data ...
2024-03-31 22:08:35.558 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:08:35.558 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:08:35.558 +05:00 [DBG] Attempting to validate the bound parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:08:35.558 +05:00 [DBG] Done attempting to validate the bound parameter 'playlistId' of type 'System.String'.
2024-03-31 22:08:35.750 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:08:35.999 +05:00 [DBG] Compiling query expression: 
'DbSet<Playlist>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-31 22:08:36.374 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Playlist>(
    asyncEnumerable: new SingleQueryingEnumerable<Playlist>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Playlist.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Playlist.IdStatus (int) Required FK Index, 1], [Property: Playlist.IdUser (string) Required FK Index MaxLength(250), 2], [Property: Playlist.Name (string) Required MaxLength(250), 3] }
            SELECT TOP(1) p.ID, p.id_Status, p.id_User, p.Name
            FROM Playlist AS p
            WHERE p.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Playlist>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:08:36.433 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:08:36.433 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:08:36.433 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 22:08:36.434 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:08:36.434 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:08:36.434 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:08:36.441 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:08:36.441 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:08:36.443 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:08:36.460 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:08:36.465 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:08:36.465 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 21ms reading results.
2024-03-31 22:08:36.465 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:08:36.466 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:08:36.468 +05:00 [DBG] Compiling query expression: 
'DbSet<MusicFile>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-31 22:08:36.477 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<MusicFile>(
    asyncEnumerable: new SingleQueryingEnumerable<MusicFile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: MusicFile.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: MusicFile.Album (string) Required MaxLength(250), 1], [Property: MusicFile.Artist (string) Required MaxLength(250), 2], [Property: MusicFile.CountLike (int) Required, 3], [Property: MusicFile.IsUpload (bool) Required, 4], [Property: MusicFile.Title (string) Required MaxLength(250), 5], [Property: MusicFile.Year (string) Required MaxLength(250), 6] }
            SELECT TOP(1) m.ID, m.Album, m.Artist, m.CountLike, m.isUpload, m.Title, m.Year
            FROM MusicFile AS m
            WHERE m.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, MusicFile>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:08:36.482 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:08:36.482 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:08:36.482 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:08:36.482 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:08:36.483 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:08:36.484 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`ID`, `m`.`Album`, `m`.`Artist`, `m`.`CountLike`, `m`.`isUpload`, `m`.`Title`, `m`.`Year`
FROM `MusicFile` AS `m`
WHERE `m`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:08:36.486 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`ID`, `m`.`Album`, `m`.`Artist`, `m`.`CountLike`, `m`.`isUpload`, `m`.`Title`, `m`.`Year`
FROM `MusicFile` AS `m`
WHERE `m`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:08:36.519 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:08:36.536 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:08:36.537 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 50ms reading results.
2024-03-31 22:08:36.538 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:08:36.539 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:08:36.552 +05:00 [DBG] 'BMContext' generated a temporary value for the property 'Id.PlaylistMusicFile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:08:36.587 +05:00 [DBG] The navigation 'PlaylistMusicFile.IdMusicFileNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:08:36.600 +05:00 [DBG] The navigation 'PlaylistMusicFile.IdPlaylistNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:08:36.602 +05:00 [DBG] Context 'BMContext' started tracking 'PlaylistMusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:08:36.603 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:08:36.603 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:08:36.603 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:08:36.603 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:08:36.603 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 22:08:36.603 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 22:08:36.608 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1) in 1097.0446ms
2024-03-31 22:08:36.608 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:08:36.608 +05:00 [DBG] Connection id "0HN2HKIIV77OD" completed keep alive response.
2024-03-31 22:08:36.608 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:08:36.609 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:08:36.609 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:08:36.609 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------662516818536781126785187 343 - 200 - application/json;+charset=utf-8 1107.4402ms
2024-03-31 22:09:50.676 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 22:09:50.758 +05:00 [DBG] Hosting starting
2024-03-31 22:09:50.777 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 22:09:50.785 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 22:09:50.792 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 22:09:50.793 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 22:09:50.793 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 22:09:50.794 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 22:09:50.801 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 22:09:50.804 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 22:09:50.804 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 22:09:50.805 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 22:09:50.805 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 22:09:50.817 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 22:09:50.826 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:09:50.832 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 22:09:50.834 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:09:50.840 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 22:09:50.841 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 22:09:50.842 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 22:09:50.843 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 22:09:51.399 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 22:09:51.399 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 22:09:51.399 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 22:09:51.399 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 22:09:51.399 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 22:09:51.402 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 22:09:51.402 +05:00 [INF] Hosting environment: Development
2024-03-31 22:09:51.402 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 22:09:51.402 +05:00 [DBG] Hosting started
2024-03-31 22:09:51.843 +05:00 [DBG] Connection id "0HN2HKLGFQJF4" accepted.
2024-03-31 22:09:51.845 +05:00 [DBG] Connection id "0HN2HKLGFQJF4" received FIN.
2024-03-31 22:09:51.846 +05:00 [DBG] Connection id "0HN2HKLGFQJF4" started.
2024-03-31 22:09:51.867 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:09:51.887 +05:00 [DBG] Connection id "0HN2HKLGFQJF4" stopped.
2024-03-31 22:09:51.900 +05:00 [DBG] Connection id "0HN2HKLGFQJF4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:09:52.118 +05:00 [DBG] Connection id "0HN2HKLGFQJF5" accepted.
2024-03-31 22:09:52.118 +05:00 [DBG] Connection id "0HN2HKLGFQJF5" received FIN.
2024-03-31 22:09:52.119 +05:00 [DBG] Connection id "0HN2HKLGFQJF5" started.
2024-03-31 22:09:52.119 +05:00 [DBG] Connection id "0HN2HKLGFQJF6" accepted.
2024-03-31 22:09:52.119 +05:00 [DBG] Connection id "0HN2HKLGFQJF6" started.
2024-03-31 22:09:52.120 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:09:52.123 +05:00 [DBG] Connection id "0HN2HKLGFQJF5" stopped.
2024-03-31 22:09:52.124 +05:00 [DBG] Connection id "0HN2HKLGFQJF5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:09:52.172 +05:00 [DBG] Connection 0HN2HKLGFQJF6 established using the following protocol: "Tls12"
2024-03-31 22:09:52.244 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------516794315235437035328679 343
2024-03-31 22:09:52.253 +05:00 [DBG] Connection id "0HN2HKLGFQJF7" accepted.
2024-03-31 22:09:52.253 +05:00 [DBG] Connection id "0HN2HKLGFQJF7" started.
2024-03-31 22:09:52.257 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 22:09:52.270 +05:00 [DBG] Connection 0HN2HKLGFQJF7 established using the following protocol: "Tls12"
2024-03-31 22:09:52.324 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:09:52.331 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:09:52.333 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:09:52.365 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:09:52.468 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 22:09:52.485 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 22:09:52.485 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:09:52.544 +05:00 [DBG] Successfully validated the token.
2024-03-31 22:09:52.547 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:09:52.557 +05:00 [DBG] Authorization was successful.
2024-03-31 22:09:52.559 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:09:52.610 +05:00 [INF] Route matched with {action = "AddMusicToPlaylist", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMusicToPlaylist(System.String, System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:09:52.614 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:09:52.614 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:09:52.615 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:09:52.615 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:09:52.615 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:09:52.617 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:09:52.680 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 22:09:52.811 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-31 22:09:52.851 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:09:52.865 +05:00 [DBG] Connection id "0HN2HKLGFQJF6", Request id "0HN2HKLGFQJF6:00000001": started reading request body.
2024-03-31 22:09:52.865 +05:00 [DBG] Connection id "0HN2HKLGFQJF6", Request id "0HN2HKLGFQJF6:00000001": done reading request body.
2024-03-31 22:09:52.869 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 22:09:52.874 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 405.5507ms
2024-03-31 22:09:52.882 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' ...
2024-03-31 22:09:52.885 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' using the name 'musicId' in request data ...
2024-03-31 22:09:52.885 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:09:52.886 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:09:52.886 +05:00 [DBG] Attempting to validate the bound parameter 'musicId' of type 'System.String' ...
2024-03-31 22:09:52.901 +05:00 [DBG] Done attempting to validate the bound parameter 'musicId' of type 'System.String'.
2024-03-31 22:09:52.903 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:09:52.903 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' using the name 'playlistId' in request data ...
2024-03-31 22:09:52.906 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:09:52.906 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:09:52.906 +05:00 [DBG] Attempting to validate the bound parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:09:52.907 +05:00 [DBG] Done attempting to validate the bound parameter 'playlistId' of type 'System.String'.
2024-03-31 22:09:53.677 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-31 22:09:53.678 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-31 22:09:54.218 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:09:54.328 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 22:09:54.334 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 22:09:54.342 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 7.8410ms
2024-03-31 22:09:54.427 +05:00 [DBG] Compiling query expression: 
'DbSet<Playlist>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-31 22:09:54.452 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 123.5516ms
2024-03-31 22:09:54.852 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Playlist>(
    asyncEnumerable: new SingleQueryingEnumerable<Playlist>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Playlist.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Playlist.IdStatus (int) Required FK Index, 1], [Property: Playlist.IdUser (string) Required FK Index MaxLength(250), 2], [Property: Playlist.Name (string) Required MaxLength(250), 3] }
            SELECT TOP(1) p.ID, p.id_Status, p.id_User, p.Name
            FROM Playlist AS p
            WHERE p.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Playlist>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:09:54.920 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:09:54.933 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:09:54.949 +05:00 [DBG] Created DbConnection. (8ms).
2024-03-31 22:09:54.968 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (34ms).
2024-03-31 22:09:54.977 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (59ms).
2024-03-31 22:09:54.986 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:55.408 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:55.426 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:09:55.458 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:09:55.524 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:09:55.567 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:55.583 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 109ms reading results.
2024-03-31 22:09:55.586 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:55.599 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (12ms).
2024-03-31 22:09:55.603 +05:00 [DBG] Compiling query expression: 
'DbSet<MusicFile>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-31 22:09:55.614 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<MusicFile>(
    asyncEnumerable: new SingleQueryingEnumerable<MusicFile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: MusicFile.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: MusicFile.Album (string) Required MaxLength(250), 1], [Property: MusicFile.Artist (string) Required MaxLength(250), 2], [Property: MusicFile.CountLike (int) Required, 3], [Property: MusicFile.IsUpload (bool) Required, 4], [Property: MusicFile.Title (string) Required MaxLength(250), 5], [Property: MusicFile.Year (string) Required MaxLength(250), 6] }
            SELECT TOP(1) m.ID, m.Album, m.Artist, m.CountLike, m.isUpload, m.Title, m.Year
            FROM MusicFile AS m
            WHERE m.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, MusicFile>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:09:55.617 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:09:55.617 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:09:55.617 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:09:55.618 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:55.625 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:55.626 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`ID`, `m`.`Album`, `m`.`Artist`, `m`.`CountLike`, `m`.`isUpload`, `m`.`Title`, `m`.`Year`
FROM `MusicFile` AS `m`
WHERE `m`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:09:55.628 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`ID`, `m`.`Album`, `m`.`Artist`, `m`.`CountLike`, `m`.`isUpload`, `m`.`Title`, `m`.`Year`
FROM `MusicFile` AS `m`
WHERE `m`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:09:55.653 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:09:55.686 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:55.686 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 57ms reading results.
2024-03-31 22:09:55.686 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:55.686 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:09:55.767 +05:00 [DBG] 'BMContext' generated a temporary value for the property 'Id.PlaylistMusicFile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:09:55.817 +05:00 [DBG] The navigation 'PlaylistMusicFile.IdMusicFileNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:09:55.865 +05:00 [DBG] The navigation 'PlaylistMusicFile.IdPlaylistNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:09:55.877 +05:00 [DBG] Context 'BMContext' started tracking 'PlaylistMusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:09:55.885 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-31 22:09:55.892 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-31 22:09:56.062 +05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Playlist.PlaylistMusicFiles'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:09:56.076 +05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'MusicFile.PlaylistMusicFiles'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:09:56.077 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-31 22:09:56.344 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:56.366 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:56.369 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-31 22:09:56.384 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-31 22:09:56.394 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:09:56.394 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:09:56.394 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:09:56.395 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Playlist_MusicFile` (`id_MusicFile`, `id_Playlist`)
VALUES (@p0, @p1);
SELECT `ID`
FROM `Playlist_MusicFile`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();
2024-03-31 22:09:56.409 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Playlist_MusicFile` (`id_MusicFile`, `id_Playlist`)
VALUES (@p0, @p1);
SELECT `ID`
FROM `Playlist_MusicFile`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();
2024-03-31 22:09:56.428 +05:00 [DBG] The foreign key property 'PlaylistMusicFile.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-31 22:09:56.434 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:56.434 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 24ms reading results.
2024-03-31 22:09:56.441 +05:00 [DBG] Committing transaction.
2024-03-31 22:09:56.469 +05:00 [DBG] Committed transaction.
2024-03-31 22:09:56.475 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:56.475 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:09:56.476 +05:00 [DBG] Disposing transaction.
2024-03-31 22:09:56.494 +05:00 [DBG] An entity of type 'PlaylistMusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:09:56.499 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-31 22:09:56.507 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:09:56.509 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:09:56.510 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:09:56.510 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:09:56.511 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 22:09:56.515 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 22:09:56.537 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1) in 3916.6812ms
2024-03-31 22:09:56.542 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:09:56.543 +05:00 [DBG] Connection id "0HN2HKLGFQJF6" completed keep alive response.
2024-03-31 22:09:56.548 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:09:56.553 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:09:56.560 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (6ms).
2024-03-31 22:09:56.561 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------516794315235437035328679 343 - 200 - application/json;+charset=utf-8 4321.1112ms
2024-03-31 22:09:58.457 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 22:09:58.457 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 22:09:58.457 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:09:58.641 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.1515ms
2024-03-31 22:12:07.564 +05:00 [DBG] Connection id "0HN2HKLGFQJF6" disconnecting.
2024-03-31 22:12:07.565 +05:00 [DBG] Connection id "0HN2HKLGFQJF6" stopped.
2024-03-31 22:12:07.566 +05:00 [DBG] Connection id "0HN2HKLGFQJF6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:12:49.586 +05:00 [DBG] Connection id "0HN2HKLGFQJF7" received FIN.
2024-03-31 22:12:49.611 +05:00 [DBG] Connection id "0HN2HKLGFQJF7" is closed. The last processed stream ID was 21.
2024-03-31 22:12:49.617 +05:00 [DBG] Connection id "0HN2HKLGFQJF7" sending FIN because: "The client closed the connection."
2024-03-31 22:12:49.627 +05:00 [DBG] The connection queue processing loop for 0HN2HKLGFQJF7 completed.
2024-03-31 22:12:49.628 +05:00 [DBG] Connection id "0HN2HKLGFQJF7" stopped.
2024-03-31 22:22:51.483 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 22:22:51.548 +05:00 [DBG] Hosting starting
2024-03-31 22:22:51.566 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 22:22:51.574 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 22:22:51.580 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 22:22:51.581 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 22:22:51.581 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 22:22:51.581 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 22:22:51.586 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 22:22:51.593 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 22:22:51.593 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 22:22:51.594 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 22:22:51.594 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 22:22:51.615 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 22:22:51.618 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:22:51.626 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 22:22:51.628 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:22:51.634 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 22:22:51.635 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 22:22:51.636 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 22:22:51.637 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 22:22:51.879 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 22:22:51.881 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 22:22:51.881 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 22:22:51.881 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 22:22:51.881 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 22:22:51.884 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 22:22:51.884 +05:00 [INF] Hosting environment: Development
2024-03-31 22:22:51.885 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 22:22:51.885 +05:00 [DBG] Hosting started
2024-03-31 22:22:52.077 +05:00 [DBG] Connection id "0HN2HKSP0N31Q" accepted.
2024-03-31 22:22:52.078 +05:00 [DBG] Connection id "0HN2HKSP0N31Q" started.
2024-03-31 22:22:52.146 +05:00 [DBG] Connection 0HN2HKSP0N31Q established using the following protocol: "Tls12"
2024-03-31 22:22:52.233 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/token?code=EiqvValySaifpv6tOEDMmFXeD9ap%2FqaAL%2ButZTIV10E%3D - 0
2024-03-31 22:22:52.252 +05:00 [DBG] Connection id "0HN2HKSP0N31R" received FIN.
2024-03-31 22:22:52.252 +05:00 [DBG] Connection id "0HN2HKSP0N31S" received FIN.
2024-03-31 22:22:52.253 +05:00 [DBG] Connection id "0HN2HKSP0N31S" accepted.
2024-03-31 22:22:52.253 +05:00 [DBG] Connection id "0HN2HKSP0N31R" accepted.
2024-03-31 22:22:52.253 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 22:22:52.253 +05:00 [DBG] Connection id "0HN2HKSP0N31S" started.
2024-03-31 22:22:52.258 +05:00 [DBG] Connection id "0HN2HKSP0N31R" started.
2024-03-31 22:22:52.259 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:22:52.259 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:22:52.283 +05:00 [DBG] Connection id "0HN2HKSP0N31R" stopped.
2024-03-31 22:22:52.283 +05:00 [DBG] Connection id "0HN2HKSP0N31S" stopped.
2024-03-31 22:22:52.285 +05:00 [DBG] Connection id "0HN2HKSP0N31S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:22:52.285 +05:00 [DBG] Connection id "0HN2HKSP0N31R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:22:52.309 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 22:22:52.331 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 22:22:52.332 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:22:52.335 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/token'
2024-03-31 22:22:52.341 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/token' is valid for the request path '/auth/token'
2024-03-31 22:22:52.341 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:22:52.343 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 22:22:52.349 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:22:52.402 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:22:52.408 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:22:52.450 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:22:52.451 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:22:52.452 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:22:52.452 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:22:52.452 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:22:52.452 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:22:52.454 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:22:52.537 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 22:22:52.633 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-31 22:22:52.672 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:22:52.694 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 22:22:52.698 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-31 22:22:52.698 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 388.3078ms
2024-03-31 22:22:52.702 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-31 22:22:52.703 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:22:52.703 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:22:52.703 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-31 22:22:52.719 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-31 22:22:52.743 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 22:22:52.749 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 22:22:52.755 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 5.8701ms
2024-03-31 22:22:52.866 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 123.0624ms
2024-03-31 22:22:52.997 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 22:22:52.999 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 22:22:52.999 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:22:53.190 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 192.6943ms
2024-03-31 22:22:53.467 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-31 22:22:53.469 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-31 22:22:53.850 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:22:53.887 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(x => x.Token1 == __refreshToken_0)'
2024-03-31 22:22:54.117 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdDevice (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdUser (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_Device, t.id_User, t.Token
            FROM Token AS t
            WHERE t.Token == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:22:54.164 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:22:54.166 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:22:54.177 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-31 22:22:54.192 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2024-03-31 22:22:54.203 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (41ms).
2024-03-31 22:22:54.209 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:54.540 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:54.551 +05:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:22:54.582 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:22:54.630 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:22:54.655 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:54.670 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 75ms reading results.
2024-03-31 22:22:54.674 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:54.678 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (4ms).
2024-03-31 22:22:54.695 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-31 22:22:54.713 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE u.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:22:54.714 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:22:54.715 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:22:54.715 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:22:54.715 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:54.719 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:54.720 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE `u`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:22:54.723 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE `u`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:22:54.741 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:22:54.769 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:54.769 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 45ms reading results.
2024-03-31 22:22:54.770 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:54.770 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:22:54.809 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:22:54.811 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:22:54.811 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:22:54.811 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:22:54.813 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-31 22:22:54.814 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-31 22:22:54.829 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 2363.2364ms
2024-03-31 22:22:54.832 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:22:54.838 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:22:54.841 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:54.843 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (1ms).
2024-03-31 22:22:54.843 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/token?code=EiqvValySaifpv6tOEDMmFXeD9ap%2FqaAL%2ButZTIV10E%3D - 0 - 200 - text/plain;+charset=utf-8 2618.9398ms
2024-03-31 22:22:56.852 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/token?code=EiqvValySaifpv6tOEDMmFXeD9ap%2FqaAL%2ButZTIV10E%3D - 0
2024-03-31 22:22:56.853 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/token'
2024-03-31 22:22:56.853 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/token' is valid for the request path '/auth/token'
2024-03-31 22:22:56.853 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:22:56.854 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 22:22:56.854 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:22:56.857 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:22:56.860 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:22:56.860 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:22:56.861 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:22:56.861 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:22:56.861 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:22:56.861 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:22:56.861 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:22:56.861 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:22:56.863 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:22:56.864 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-31 22:22:56.865 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-31 22:22:56.865 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:22:56.865 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:22:56.865 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-31 22:22:56.866 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-31 22:22:56.883 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:22:56.886 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:22:56.887 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:22:56.892 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 22:22:56.892 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-03-31 22:22:56.893 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-03-31 22:22:56.893 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:56.894 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:56.894 +05:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:22:56.895 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:22:56.898 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:22:56.899 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:56.899 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 4ms reading results.
2024-03-31 22:22:56.899 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:56.900 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:22:56.902 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:22:56.902 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:22:56.902 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:22:56.902 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:56.903 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:56.903 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE `u`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:22:56.908 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE `u`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:22:56.909 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:22:56.909 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:56.909 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 22:22:56.909 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:56.910 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:22:56.911 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:22:56.911 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:22:56.911 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:22:56.911 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:22:56.912 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-31 22:22:56.912 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-31 22:22:56.914 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 52.9812ms
2024-03-31 22:22:56.915 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:22:56.915 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:22:56.915 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:22:56.916 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:22:56.916 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/token?code=EiqvValySaifpv6tOEDMmFXeD9ap%2FqaAL%2ButZTIV10E%3D - 0 - 200 - text/plain;+charset=utf-8 64.7184ms
2024-03-31 22:23:09.867 +05:00 [DBG] Connection id "0HN2HKSP0N31T" received FIN.
2024-03-31 22:23:09.867 +05:00 [DBG] Connection id "0HN2HKSP0N31T" accepted.
2024-03-31 22:23:09.868 +05:00 [DBG] Connection id "0HN2HKSP0N31U" accepted.
2024-03-31 22:23:09.868 +05:00 [DBG] Connection id "0HN2HKSP0N31T" started.
2024-03-31 22:23:09.868 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:23:09.868 +05:00 [DBG] Connection id "0HN2HKSP0N31T" stopped.
2024-03-31 22:23:09.868 +05:00 [DBG] Connection id "0HN2HKSP0N31U" started.
2024-03-31 22:23:09.870 +05:00 [DBG] Connection id "0HN2HKSP0N31T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:23:09.873 +05:00 [DBG] Connection 0HN2HKSP0N31U established using the following protocol: "Tls12"
2024-03-31 22:23:09.894 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------350530536203493148221134 343
2024-03-31 22:23:09.894 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:23:09.894 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:23:09.894 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:23:09.894 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:23:09.990 +05:00 [DBG] Successfully validated the token.
2024-03-31 22:23:09.992 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:23:09.999 +05:00 [DBG] Authorization was successful.
2024-03-31 22:23:10.000 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:23:10.007 +05:00 [INF] Route matched with {action = "AddMusicToPlaylist", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMusicToPlaylist(System.String, System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:23:10.007 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:23:10.007 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:23:10.007 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:23:10.007 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:23:10.007 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:23:10.008 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:23:10.010 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:23:10.037 +05:00 [DBG] Connection id "0HN2HKSP0N31U", Request id "0HN2HKSP0N31U:00000001": started reading request body.
2024-03-31 22:23:10.038 +05:00 [DBG] Connection id "0HN2HKSP0N31U", Request id "0HN2HKSP0N31U:00000001": done reading request body.
2024-03-31 22:23:10.070 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' ...
2024-03-31 22:23:10.072 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' using the name 'musicId' in request data ...
2024-03-31 22:23:10.072 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:23:10.072 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:23:10.072 +05:00 [DBG] Attempting to validate the bound parameter 'musicId' of type 'System.String' ...
2024-03-31 22:23:10.073 +05:00 [DBG] Done attempting to validate the bound parameter 'musicId' of type 'System.String'.
2024-03-31 22:23:10.073 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:23:10.074 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' using the name 'playlistId' in request data ...
2024-03-31 22:23:10.074 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:23:10.074 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:23:10.074 +05:00 [DBG] Attempting to validate the bound parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:23:10.074 +05:00 [DBG] Done attempting to validate the bound parameter 'playlistId' of type 'System.String'.
2024-03-31 22:23:10.165 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:23:10.169 +05:00 [DBG] Compiling query expression: 
'DbSet<Playlist>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-31 22:23:10.176 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Playlist>(
    asyncEnumerable: new SingleQueryingEnumerable<Playlist>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Playlist.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Playlist.IdStatus (int) Required FK Index, 1], [Property: Playlist.IdUser (string) Required FK Index MaxLength(250), 2], [Property: Playlist.Name (string) Required MaxLength(250), 3] }
            SELECT TOP(1) p.ID, p.id_Status, p.id_User, p.Name
            FROM Playlist AS p
            WHERE p.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Playlist>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:23:10.177 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:23:10.177 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:23:10.177 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 22:23:10.177 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:23:10.177 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:23:10.178 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:10.180 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:10.180 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:23:10.181 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:23:10.190 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:23:10.201 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:10.201 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 19ms reading results.
2024-03-31 22:23:10.201 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:10.201 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:23:10.202 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:23:10.202 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:23:10.202 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:23:10.202 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:23:10.202 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 22:23:10.202 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 22:23:10.214 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1) in 206.9507ms
2024-03-31 22:23:10.215 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:23:10.215 +05:00 [DBG] Connection id "0HN2HKSP0N31U" completed keep alive response.
2024-03-31 22:23:10.215 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:23:10.215 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:10.215 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:23:10.215 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------350530536203493148221134 343 - 200 - application/json;+charset=utf-8 321.6569ms
2024-03-31 22:23:46.486 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/token?code=EiqvValySaifpv6tOEDMmFXeD9ap%2FqaAL%2ButZTIV10E%3D - 0
2024-03-31 22:23:46.486 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/token'
2024-03-31 22:23:46.486 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/token' is valid for the request path '/auth/token'
2024-03-31 22:23:46.486 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:23:46.486 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 22:23:46.486 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:23:46.486 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:23:46.487 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:23:46.487 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:23:46.487 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:23:46.499 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:23:46.500 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:23:46.500 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:23:46.500 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:23:46.500 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:23:46.500 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:23:46.500 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-31 22:23:46.501 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-31 22:23:46.501 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:23:46.501 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:23:46.501 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-31 22:23:46.501 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-31 22:23:46.502 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:23:46.502 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:23:46.503 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:23:46.503 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 22:23:46.503 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:23:46.503 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:23:46.503 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:46.508 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:46.508 +05:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:23:46.509 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:23:46.510 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:23:46.510 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:46.510 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 22:23:46.510 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:46.510 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:23:46.511 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:23:46.511 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:23:46.511 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:23:46.511 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:46.515 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:46.515 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE `u`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:23:46.516 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE `u`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:23:46.516 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:23:46.516 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:46.516 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 22:23:46.516 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:46.516 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:23:46.517 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:23:46.517 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:23:46.517 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:23:46.517 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:23:46.518 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-31 22:23:46.518 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-31 22:23:46.518 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 18.1257ms
2024-03-31 22:23:46.518 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:23:46.518 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:23:46.518 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:46.518 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:23:46.518 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/token?code=EiqvValySaifpv6tOEDMmFXeD9ap%2FqaAL%2ButZTIV10E%3D - 0 - 200 - text/plain;+charset=utf-8 32.8077ms
2024-03-31 22:23:58.608 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------672650589923369603267070 343
2024-03-31 22:23:58.608 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:23:58.608 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:23:58.608 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:23:58.608 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:23:58.609 +05:00 [DBG] Successfully validated the token.
2024-03-31 22:23:58.609 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:23:58.609 +05:00 [DBG] Authorization was successful.
2024-03-31 22:23:58.610 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:23:58.610 +05:00 [INF] Route matched with {action = "AddMusicToPlaylist", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMusicToPlaylist(System.String, System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:23:58.610 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:23:58.610 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:23:58.610 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:23:58.610 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:23:58.610 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:23:58.610 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:23:58.611 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:23:58.611 +05:00 [DBG] Connection id "0HN2HKSP0N31U", Request id "0HN2HKSP0N31U:00000002": started reading request body.
2024-03-31 22:23:58.611 +05:00 [DBG] Connection id "0HN2HKSP0N31U", Request id "0HN2HKSP0N31U:00000002": done reading request body.
2024-03-31 22:23:58.614 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' ...
2024-03-31 22:23:58.614 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' using the name 'musicId' in request data ...
2024-03-31 22:23:58.614 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:23:58.614 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:23:58.614 +05:00 [DBG] Attempting to validate the bound parameter 'musicId' of type 'System.String' ...
2024-03-31 22:23:58.614 +05:00 [DBG] Done attempting to validate the bound parameter 'musicId' of type 'System.String'.
2024-03-31 22:23:58.615 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:23:58.615 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' using the name 'playlistId' in request data ...
2024-03-31 22:23:58.615 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:23:58.615 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:23:58.615 +05:00 [DBG] Attempting to validate the bound parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:23:58.615 +05:00 [DBG] Done attempting to validate the bound parameter 'playlistId' of type 'System.String'.
2024-03-31 22:23:58.616 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:23:58.617 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:23:58.617 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:23:58.617 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 22:23:58.617 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:23:58.617 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:23:58.617 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:58.625 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:58.625 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:23:58.626 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:23:58.626 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:23:58.627 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:58.627 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 22:23:58.627 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:58.627 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:23:58.627 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:23:58.627 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:23:58.627 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:23:58.628 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:23:58.628 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 22:23:58.628 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 22:23:58.628 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1) in 17.9912ms
2024-03-31 22:23:58.629 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:23:58.629 +05:00 [DBG] Connection id "0HN2HKSP0N31U" completed keep alive response.
2024-03-31 22:23:58.630 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:23:58.630 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:23:58.630 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:23:58.631 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------672650589923369603267070 343 - 200 - application/json;+charset=utf-8 22.7625ms
2024-03-31 22:24:37.394 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 22:24:37.482 +05:00 [DBG] Hosting starting
2024-03-31 22:24:37.501 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 22:24:37.508 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 22:24:37.516 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 22:24:37.516 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 22:24:37.516 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 22:24:37.517 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 22:24:37.527 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 22:24:37.532 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 22:24:37.533 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 22:24:37.533 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 22:24:37.533 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 22:24:37.541 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 22:24:37.543 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:24:37.546 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 22:24:37.547 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:24:37.551 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 22:24:37.552 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 22:24:37.553 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 22:24:37.554 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 22:24:37.902 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 22:24:37.903 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 22:24:37.903 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 22:24:37.903 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 22:24:37.903 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 22:24:37.906 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 22:24:37.907 +05:00 [INF] Hosting environment: Development
2024-03-31 22:24:37.907 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 22:24:37.907 +05:00 [DBG] Hosting started
2024-03-31 22:24:37.995 +05:00 [DBG] Connection id "0HN2HKTOIQKK2" received FIN.
2024-03-31 22:24:38.001 +05:00 [DBG] Connection id "0HN2HKTOIQKK2" accepted.
2024-03-31 22:24:38.003 +05:00 [DBG] Connection id "0HN2HKTOIQKK3" accepted.
2024-03-31 22:24:38.004 +05:00 [DBG] Connection id "0HN2HKTOIQKK2" started.
2024-03-31 22:24:38.004 +05:00 [DBG] Connection id "0HN2HKTOIQKK3" started.
2024-03-31 22:24:38.017 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:24:38.036 +05:00 [DBG] Connection id "0HN2HKTOIQKK2" stopped.
2024-03-31 22:24:38.041 +05:00 [DBG] Connection id "0HN2HKTOIQKK2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:24:38.067 +05:00 [DBG] Connection 0HN2HKTOIQKK3 established using the following protocol: "Tls12"
2024-03-31 22:24:38.126 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------060716263418344355822367 343
2024-03-31 22:24:38.135 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 22:24:38.187 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:24:38.193 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:24:38.195 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:24:38.216 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:24:38.337 +05:00 [DBG] Connection id "0HN2HKTOIQKK4" accepted.
2024-03-31 22:24:38.338 +05:00 [DBG] Connection id "0HN2HKTOIQKK4" started.
2024-03-31 22:24:38.353 +05:00 [DBG] Connection id "0HN2HKTOIQKK5" accepted.
2024-03-31 22:24:38.353 +05:00 [DBG] Connection id "0HN2HKTOIQKK5" started.
2024-03-31 22:24:38.360 +05:00 [DBG] Successfully validated the token.
2024-03-31 22:24:38.363 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:24:38.373 +05:00 [DBG] Authorization was successful.
2024-03-31 22:24:38.376 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:24:38.381 +05:00 [DBG] Connection id "0HN2HKTOIQKK4" received FIN.
2024-03-31 22:24:38.381 +05:00 [DBG] Connection id "0HN2HKTOIQKK5" received FIN.
2024-03-31 22:24:38.382 +05:00 [DBG] Connection id "0HN2HKTOIQKK6" accepted.
2024-03-31 22:24:38.382 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:24:38.382 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:24:38.382 +05:00 [DBG] Connection id "0HN2HKTOIQKK5" stopped.
2024-03-31 22:24:38.383 +05:00 [DBG] Connection id "0HN2HKTOIQKK4" stopped.
2024-03-31 22:24:38.383 +05:00 [DBG] Connection id "0HN2HKTOIQKK6" started.
2024-03-31 22:24:38.383 +05:00 [DBG] Connection id "0HN2HKTOIQKK5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:24:38.384 +05:00 [DBG] Connection id "0HN2HKTOIQKK4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:24:38.402 +05:00 [DBG] Connection 0HN2HKTOIQKK6 established using the following protocol: "Tls12"
2024-03-31 22:24:38.432 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 22:24:38.436 +05:00 [INF] Route matched with {action = "AddMusicToPlaylist", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMusicToPlaylist(System.String, System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:24:38.440 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:24:38.440 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:24:38.441 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:24:38.441 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:24:38.441 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:24:38.443 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:24:38.448 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 22:24:38.448 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:24:38.620 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 22:24:38.642 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-31 22:24:38.684 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:24:38.701 +05:00 [DBG] Connection id "0HN2HKTOIQKK3", Request id "0HN2HKTOIQKK3:00000001": started reading request body.
2024-03-31 22:24:38.701 +05:00 [DBG] Connection id "0HN2HKTOIQKK3", Request id "0HN2HKTOIQKK3:00000001": done reading request body.
2024-03-31 22:24:38.721 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' ...
2024-03-31 22:24:38.725 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' using the name 'musicId' in request data ...
2024-03-31 22:24:38.725 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:24:38.725 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:24:38.725 +05:00 [DBG] Attempting to validate the bound parameter 'musicId' of type 'System.String' ...
2024-03-31 22:24:38.734 +05:00 [DBG] Done attempting to validate the bound parameter 'musicId' of type 'System.String'.
2024-03-31 22:24:38.735 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:24:38.736 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' using the name 'playlistId' in request data ...
2024-03-31 22:24:38.736 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:24:38.736 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:24:38.736 +05:00 [DBG] Attempting to validate the bound parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:24:38.738 +05:00 [DBG] Done attempting to validate the bound parameter 'playlistId' of type 'System.String'.
2024-03-31 22:24:38.777 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 22:24:38.809 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 22:24:38.810 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 22:24:38.814 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 381.8098ms
2024-03-31 22:24:38.816 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 6.1694ms
2024-03-31 22:24:38.838 +05:00 [WRN] [null]
2024-03-31 22:24:38.965 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 156.1208ms
2024-03-31 22:24:39.106 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 22:24:39.106 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 22:24:39.106 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:24:39.273 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.9207ms
2024-03-31 22:24:39.573 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-31 22:24:39.574 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-31 22:24:40.016 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:24:40.119 +05:00 [DBG] Compiling query expression: 
'DbSet<Playlist>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-31 22:24:40.365 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Playlist>(
    asyncEnumerable: new SingleQueryingEnumerable<Playlist>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Playlist.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Playlist.IdStatus (int) Required FK Index, 1], [Property: Playlist.IdUser (string) Required FK Index MaxLength(250), 2], [Property: Playlist.Name (string) Required MaxLength(250), 3] }
            SELECT TOP(1) p.ID, p.id_Status, p.id_User, p.Name
            FROM Playlist AS p
            WHERE p.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Playlist>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:24:40.415 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:24:40.418 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:24:40.432 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-31 22:24:40.442 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2024-03-31 22:24:40.452 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (40ms).
2024-03-31 22:24:40.460 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:24:40.750 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:24:40.774 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:24:40.798 +05:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:24:40.877 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:24:40.924 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:24:40.934 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 126ms reading results.
2024-03-31 22:24:40.936 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:24:40.945 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (8ms).
2024-03-31 22:24:40.952 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:24:40.965 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:24:40.965 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:24:40.965 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:24:40.966 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 22:24:40.968 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 22:24:40.991 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1) in 2543.3915ms
2024-03-31 22:24:40.992 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:24:40.994 +05:00 [DBG] Connection id "0HN2HKTOIQKK3" completed keep alive response.
2024-03-31 22:24:41.001 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:24:41.010 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:24:41.011 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (2ms).
2024-03-31 22:24:41.012 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------060716263418344355822367 343 - 200 - application/json;+charset=utf-8 2891.8159ms
2024-03-31 22:24:42.665 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------715888124823017741253599 343
2024-03-31 22:24:42.666 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:24:42.667 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:24:42.667 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:24:42.667 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:24:42.672 +05:00 [DBG] Successfully validated the token.
2024-03-31 22:24:42.672 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:24:42.674 +05:00 [DBG] Authorization was successful.
2024-03-31 22:24:42.675 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:24:42.676 +05:00 [INF] Route matched with {action = "AddMusicToPlaylist", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMusicToPlaylist(System.String, System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:24:42.676 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:24:42.676 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:24:42.676 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:24:42.676 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:24:42.676 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:24:42.676 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:24:42.678 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:24:42.680 +05:00 [DBG] Connection id "0HN2HKTOIQKK3", Request id "0HN2HKTOIQKK3:00000002": started reading request body.
2024-03-31 22:24:42.681 +05:00 [DBG] Connection id "0HN2HKTOIQKK3", Request id "0HN2HKTOIQKK3:00000002": done reading request body.
2024-03-31 22:24:42.682 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' ...
2024-03-31 22:24:42.682 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' using the name 'musicId' in request data ...
2024-03-31 22:24:42.682 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:24:42.682 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:24:42.683 +05:00 [DBG] Attempting to validate the bound parameter 'musicId' of type 'System.String' ...
2024-03-31 22:24:42.683 +05:00 [DBG] Done attempting to validate the bound parameter 'musicId' of type 'System.String'.
2024-03-31 22:24:42.683 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:24:42.683 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' using the name 'playlistId' in request data ...
2024-03-31 22:24:42.683 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:24:42.683 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:24:42.683 +05:00 [DBG] Attempting to validate the bound parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:24:42.683 +05:00 [DBG] Done attempting to validate the bound parameter 'playlistId' of type 'System.String'.
2024-03-31 22:24:42.684 +05:00 [WRN] [null]
2024-03-31 22:24:42.769 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:24:42.777 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:24:42.777 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:24:42.777 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 22:24:42.777 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:24:42.778 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-03-31 22:24:42.778 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:24:42.785 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:24:42.785 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:24:42.791 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:24:42.792 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:24:42.792 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:24:42.792 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 1ms reading results.
2024-03-31 22:24:42.793 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:24:42.793 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:24:42.794 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:24:42.794 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:24:42.794 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:24:42.794 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:24:42.794 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 22:24:42.794 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 22:24:42.795 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1) in 118.5218ms
2024-03-31 22:24:42.795 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:24:42.795 +05:00 [DBG] Connection id "0HN2HKTOIQKK3" completed keep alive response.
2024-03-31 22:24:42.795 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:24:42.795 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:24:42.798 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:24:42.798 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------715888124823017741253599 343 - 200 - application/json;+charset=utf-8 133.1071ms
2024-03-31 22:25:31.077 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------041206852005556389489041 343
2024-03-31 22:25:31.077 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:25:31.077 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:25:31.077 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:25:31.077 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:25:31.084 +05:00 [DBG] Successfully validated the token.
2024-03-31 22:25:31.084 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:25:31.085 +05:00 [DBG] Authorization was successful.
2024-03-31 22:25:31.085 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:25:31.085 +05:00 [INF] Route matched with {action = "AddMusicToPlaylist", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMusicToPlaylist(System.String, System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:25:31.085 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:25:31.086 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:25:31.086 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:25:31.086 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:25:31.086 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:25:31.086 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:25:31.093 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:25:31.093 +05:00 [DBG] Connection id "0HN2HKTOIQKK3", Request id "0HN2HKTOIQKK3:00000003": started reading request body.
2024-03-31 22:25:31.093 +05:00 [DBG] Connection id "0HN2HKTOIQKK3", Request id "0HN2HKTOIQKK3:00000003": done reading request body.
2024-03-31 22:25:31.093 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' ...
2024-03-31 22:25:31.094 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' using the name 'musicId' in request data ...
2024-03-31 22:25:31.094 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:25:31.094 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:25:31.094 +05:00 [DBG] Attempting to validate the bound parameter 'musicId' of type 'System.String' ...
2024-03-31 22:25:31.094 +05:00 [DBG] Done attempting to validate the bound parameter 'musicId' of type 'System.String'.
2024-03-31 22:25:31.094 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:25:31.094 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' using the name 'playlistId' in request data ...
2024-03-31 22:25:31.094 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:25:31.094 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:25:31.094 +05:00 [DBG] Attempting to validate the bound parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:25:31.094 +05:00 [DBG] Done attempting to validate the bound parameter 'playlistId' of type 'System.String'.
2024-03-31 22:25:31.095 +05:00 [WRN] [null]
2024-03-31 22:25:31.111 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:25:31.114 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:25:31.114 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:25:31.115 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 22:25:31.115 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:25:31.115 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:25:31.115 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:25:31.116 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:25:31.116 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:25:31.117 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:25:31.118 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:25:31.118 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:25:31.118 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 22:25:31.118 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:25:31.118 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:25:31.118 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:25:31.118 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:25:31.118 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:25:31.118 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:25:31.118 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 22:25:31.118 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 22:25:31.119 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1) in 32.8532ms
2024-03-31 22:25:31.119 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:25:31.119 +05:00 [DBG] Connection id "0HN2HKTOIQKK3" completed keep alive response.
2024-03-31 22:25:31.119 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:25:31.119 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:25:31.119 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:25:31.119 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------041206852005556389489041 343 - 200 - application/json;+charset=utf-8 42.7468ms
2024-03-31 22:27:30.641 +05:00 [DBG] Connection id "0HN2HKTOIQKK6" received FIN.
2024-03-31 22:27:30.642 +05:00 [DBG] Connection id "0HN2HKTOIQKK6" is closed. The last processed stream ID was 21.
2024-03-31 22:27:30.643 +05:00 [DBG] Connection id "0HN2HKTOIQKK6" sending FIN because: "The client closed the connection."
2024-03-31 22:27:30.644 +05:00 [DBG] The connection queue processing loop for 0HN2HKTOIQKK6 completed.
2024-03-31 22:27:30.645 +05:00 [DBG] Connection id "0HN2HKTOIQKK6" stopped.
2024-03-31 22:27:42.173 +05:00 [DBG] Connection id "0HN2HKTOIQKK3" disconnecting.
2024-03-31 22:27:42.174 +05:00 [DBG] Connection id "0HN2HKTOIQKK3" stopped.
2024-03-31 22:27:42.174 +05:00 [DBG] Connection id "0HN2HKTOIQKK3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:31:46.404 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 22:31:46.503 +05:00 [DBG] Hosting starting
2024-03-31 22:31:46.533 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 22:31:46.540 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 22:31:46.546 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 22:31:46.547 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 22:31:46.547 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 22:31:46.547 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 22:31:46.552 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 22:31:46.555 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 22:31:46.556 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 22:31:46.556 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 22:31:46.557 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 22:31:46.573 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 22:31:46.576 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:31:46.578 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 22:31:46.580 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:31:46.584 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 22:31:46.585 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 22:31:46.586 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 22:31:46.586 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 22:31:46.791 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 22:31:46.791 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 22:31:46.791 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 22:31:46.791 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 22:31:46.791 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 22:31:46.794 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 22:31:46.795 +05:00 [INF] Hosting environment: Development
2024-03-31 22:31:46.795 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 22:31:46.795 +05:00 [DBG] Hosting started
2024-03-31 22:31:47.253 +05:00 [DBG] Connection id "0HN2HL1OGHP29" reset.
2024-03-31 22:31:47.253 +05:00 [DBG] Connection id "0HN2HL1OGHP2A" reset.
2024-03-31 22:31:47.259 +05:00 [DBG] Connection id "0HN2HL1OGHP29" accepted.
2024-03-31 22:31:47.260 +05:00 [DBG] Connection id "0HN2HL1OGHP29" started.
2024-03-31 22:31:47.276 +05:00 [DBG] Connection id "0HN2HL1OGHP2A" accepted.
2024-03-31 22:31:47.277 +05:00 [DBG] Connection id "0HN2HL1OGHP2A" started.
2024-03-31 22:31:47.283 +05:00 [DBG] Connection id "0HN2HL1OGHP2B" accepted.
2024-03-31 22:31:47.284 +05:00 [DBG] Connection id "0HN2HL1OGHP2B" started.
2024-03-31 22:31:47.315 +05:00 [DBG] Failed to authenticate HTTPS connection.
Microsoft.AspNetCore.Connections.ConnectionResetException: Удаленный хост принудительно разорвал существующее подключение.
 ---> System.Net.Sockets.SocketException (10054): Удаленный хост принудительно разорвал существующее подключение.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.ReadAsync(CancellationToken token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:31:47.322 +05:00 [DBG] Failed to authenticate HTTPS connection.
Microsoft.AspNetCore.Connections.ConnectionResetException: Удаленный хост принудительно разорвал существующее подключение.
 ---> System.Net.Sockets.SocketException (10054): Удаленный хост принудительно разорвал существующее подключение.
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.ReadAsync(CancellationToken token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:31:47.341 +05:00 [DBG] Connection 0HN2HL1OGHP2B established using the following protocol: "Tls12"
2024-03-31 22:31:47.404 +05:00 [DBG] Connection id "0HN2HL1OGHP29" stopped.
2024-03-31 22:31:47.405 +05:00 [DBG] Connection id "0HN2HL1OGHP2A" stopped.
2024-03-31 22:31:47.406 +05:00 [DBG] Connection id "0HN2HL1OGHP29" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:31:47.406 +05:00 [DBG] Connection id "0HN2HL1OGHP2A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:31:47.526 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 22:31:47.568 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 22:31:47.620 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 22:31:47.622 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:31:47.861 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 22:31:48.066 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 22:31:48.069 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 550.1462ms
2024-03-31 22:31:48.119 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 22:31:48.133 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 22:31:48.141 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 7.4173ms
2024-03-31 22:31:48.309 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 190.8253ms
2024-03-31 22:31:48.465 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 22:31:48.467 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 22:31:48.467 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:31:48.726 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 271.8071ms
2024-03-31 22:31:54.595 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/token?code=EiqvValySaifpv6tOEDMmFXeD9ap%2FqaAL%2ButZTIV10E%3D - 0
2024-03-31 22:31:54.603 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/token'
2024-03-31 22:31:54.609 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/token' is valid for the request path '/auth/token'
2024-03-31 22:31:54.609 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:31:54.611 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 22:31:54.612 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:31:54.662 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:31:54.674 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:31:54.675 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:31:54.725 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:31:54.726 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:31:54.727 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:31:54.732 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:31:54.732 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:31:54.732 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:31:54.735 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:31:54.937 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-31 22:31:54.975 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:31:54.985 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-31 22:31:54.990 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-31 22:31:54.992 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:31:54.992 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:31:54.992 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-31 22:31:55.001 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-31 22:31:55.684 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-31 22:31:55.685 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-31 22:31:56.273 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:31:56.313 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(x => x.Token1 == __refreshToken_0)'
2024-03-31 22:31:56.572 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdDevice (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdUser (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_Device, t.id_User, t.Token
            FROM Token AS t
            WHERE t.Token == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:31:56.633 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:31:56.634 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:31:56.642 +05:00 [DBG] Created DbConnection. (4ms).
2024-03-31 22:31:56.653 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-03-31 22:31:56.666 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (33ms).
2024-03-31 22:31:56.673 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:31:56.996 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:31:57.010 +05:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:31:57.042 +05:00 [INF] Executed DbCommand (24ms) [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:31:57.086 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:31:57.121 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:31:57.131 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 79ms reading results.
2024-03-31 22:31:57.134 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:31:57.139 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (4ms).
2024-03-31 22:31:57.153 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-31 22:31:57.174 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE u.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:31:57.176 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:31:57.176 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:31:57.177 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:31:57.177 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:31:57.182 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:31:57.183 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE `u`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:31:57.184 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE `u`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:31:57.203 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:31:57.235 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:31:57.235 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 50ms reading results.
2024-03-31 22:31:57.235 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:31:57.235 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:31:57.276 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:31:57.278 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:31:57.278 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:31:57.278 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:31:57.280 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-31 22:31:57.280 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-31 22:31:57.287 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 2550.1693ms
2024-03-31 22:31:57.291 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:31:57.294 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:31:57.302 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:31:57.306 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (2ms).
2024-03-31 22:31:57.307 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/token?code=EiqvValySaifpv6tOEDMmFXeD9ap%2FqaAL%2ButZTIV10E%3D - 0 - 200 - text/plain;+charset=utf-8 2711.8553ms
2024-03-31 22:32:07.684 +05:00 [DBG] Connection id "0HN2HL1OGHP2C" accepted.
2024-03-31 22:32:07.685 +05:00 [DBG] Connection id "0HN2HL1OGHP2D" accepted.
2024-03-31 22:32:07.685 +05:00 [DBG] Connection id "0HN2HL1OGHP2C" started.
2024-03-31 22:32:07.685 +05:00 [DBG] Connection id "0HN2HL1OGHP2D" started.
2024-03-31 22:32:07.687 +05:00 [DBG] Connection id "0HN2HL1OGHP2C" received FIN.
2024-03-31 22:32:07.691 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:32:07.692 +05:00 [DBG] Connection id "0HN2HL1OGHP2C" stopped.
2024-03-31 22:32:07.692 +05:00 [DBG] Connection id "0HN2HL1OGHP2C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:32:07.694 +05:00 [DBG] Connection 0HN2HL1OGHP2D established using the following protocol: "Tls12"
2024-03-31 22:32:07.708 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------396586823946651780015856 343
2024-03-31 22:32:07.709 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:32:07.710 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:32:07.710 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:32:07.710 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:32:07.770 +05:00 [DBG] Successfully validated the token.
2024-03-31 22:32:07.773 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:32:07.775 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:32:07.797 +05:00 [DBG] Authorization was successful.
2024-03-31 22:32:07.798 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:32:07.803 +05:00 [INF] Route matched with {action = "AddMusicToPlaylist", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMusicToPlaylist(System.String, System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:32:07.803 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:32:07.803 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:32:07.803 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:32:07.803 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:32:07.803 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:32:07.803 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:32:07.807 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:32:07.812 +05:00 [DBG] Connection id "0HN2HL1OGHP2D", Request id "0HN2HL1OGHP2D:00000001": started reading request body.
2024-03-31 22:32:07.812 +05:00 [DBG] Connection id "0HN2HL1OGHP2D", Request id "0HN2HL1OGHP2D:00000001": done reading request body.
2024-03-31 22:32:07.823 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' ...
2024-03-31 22:32:07.827 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' using the name 'musicId' in request data ...
2024-03-31 22:32:07.827 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:32:07.827 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:32:07.827 +05:00 [DBG] Attempting to validate the bound parameter 'musicId' of type 'System.String' ...
2024-03-31 22:32:07.828 +05:00 [DBG] Done attempting to validate the bound parameter 'musicId' of type 'System.String'.
2024-03-31 22:32:07.828 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:32:07.828 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' using the name 'playlistId' in request data ...
2024-03-31 22:32:07.828 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:32:07.828 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:32:07.829 +05:00 [DBG] Attempting to validate the bound parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:32:07.829 +05:00 [DBG] Done attempting to validate the bound parameter 'playlistId' of type 'System.String'.
2024-03-31 22:32:07.840 +05:00 [WRN] [null]
2024-03-31 22:32:07.861 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:32:07.865 +05:00 [DBG] Compiling query expression: 
'DbSet<Playlist>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-31 22:32:07.873 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Playlist>(
    asyncEnumerable: new SingleQueryingEnumerable<Playlist>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Playlist.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Playlist.IdStatus (int) Required FK Index, 1], [Property: Playlist.IdUser (string) Required FK Index MaxLength(250), 2], [Property: Playlist.Name (string) Required MaxLength(250), 3] }
            SELECT TOP(1) p.ID, p.id_Status, p.id_User, p.Name
            FROM Playlist AS p
            WHERE p.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Playlist>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:32:07.875 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:32:07.875 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:32:07.875 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 22:32:07.875 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:32:07.875 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:32:07.876 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:32:07.877 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:32:07.877 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:32:07.878 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:32:07.886 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:32:07.898 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:32:07.898 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 19ms reading results.
2024-03-31 22:32:07.899 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:32:07.899 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:32:07.900 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:32:07.900 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:32:07.900 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:32:07.900 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:32:07.900 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 22:32:07.900 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 22:32:07.910 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1) in 106.3792ms
2024-03-31 22:32:07.910 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:32:07.910 +05:00 [DBG] Connection id "0HN2HL1OGHP2D" completed keep alive response.
2024-03-31 22:32:07.910 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:32:07.910 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:32:07.911 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:32:07.911 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------396586823946651780015856 343 - 200 - application/json;+charset=utf-8 202.7583ms
2024-03-31 22:34:26.246 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 22:34:26.385 +05:00 [DBG] Hosting starting
2024-03-31 22:34:26.777 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 22:34:26.785 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 22:34:26.802 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 22:34:26.803 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 22:34:26.803 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 22:34:26.804 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 22:34:26.836 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 22:34:26.858 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 22:34:26.858 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 22:34:26.858 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 22:34:26.858 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 22:34:26.887 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 22:34:26.895 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:34:26.901 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 22:34:26.903 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:34:26.909 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 22:34:26.910 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 22:34:26.912 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 22:34:26.913 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 22:34:27.536 +05:00 [DBG] Connection id "0HN2HL38946L3" received FIN.
2024-03-31 22:34:27.538 +05:00 [DBG] Connection id "0HN2HL38946L3" accepted.
2024-03-31 22:34:27.539 +05:00 [DBG] Connection id "0HN2HL38946L3" started.
2024-03-31 22:34:27.579 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 22:34:27.572 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:34:27.583 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 22:34:27.836 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 22:34:27.836 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 22:34:27.836 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 22:34:27.842 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 22:34:27.844 +05:00 [INF] Hosting environment: Development
2024-03-31 22:34:27.847 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 22:34:27.847 +05:00 [DBG] Hosting started
2024-03-31 22:34:27.848 +05:00 [DBG] Connection id "0HN2HL38946L3" stopped.
2024-03-31 22:34:27.852 +05:00 [DBG] Connection id "0HN2HL38946L3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:34:28.433 +05:00 [DBG] Connection id "0HN2HL38946L4" received FIN.
2024-03-31 22:34:28.442 +05:00 [DBG] Connection id "0HN2HL38946L4" accepted.
2024-03-31 22:34:28.443 +05:00 [DBG] Connection id "0HN2HL38946L5" accepted.
2024-03-31 22:34:28.444 +05:00 [DBG] Connection id "0HN2HL38946L4" started.
2024-03-31 22:34:28.451 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:34:28.452 +05:00 [DBG] Connection id "0HN2HL38946L4" stopped.
2024-03-31 22:34:28.452 +05:00 [DBG] Connection id "0HN2HL38946L5" started.
2024-03-31 22:34:28.470 +05:00 [DBG] Connection id "0HN2HL38946L4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:34:28.550 +05:00 [DBG] Connection 0HN2HL38946L5 established using the following protocol: "Tls12"
2024-03-31 22:34:29.462 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------760325115693779233649470 343
2024-03-31 22:34:29.582 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 22:34:29.718 +05:00 [DBG] Connection id "0HN2HL38946L6" accepted.
2024-03-31 22:34:29.751 +05:00 [DBG] Connection id "0HN2HL38946L6" started.
2024-03-31 22:34:29.850 +05:00 [DBG] Connection 0HN2HL38946L6 established using the following protocol: "Tls12"
2024-03-31 22:34:29.911 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:34:29.923 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:34:29.926 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:34:29.945 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 22:34:42.786 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 22:34:42.908 +05:00 [DBG] Hosting starting
2024-03-31 22:34:42.978 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 22:34:42.987 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 22:34:42.999 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 22:34:43.000 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 22:34:43.001 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 22:34:43.001 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 22:34:43.007 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 22:34:43.013 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 22:34:43.013 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 22:34:43.013 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 22:34:43.014 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 22:34:43.025 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 22:34:43.032 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:34:43.036 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 22:34:43.038 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:34:43.043 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 22:34:43.044 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 22:34:43.047 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 22:34:43.047 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 22:34:43.387 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 22:34:43.394 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 22:34:43.395 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 22:34:43.395 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 22:34:43.395 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 22:34:43.397 +05:00 [DBG] Connection id "0HN2HL3D0CKHG" received FIN.
2024-03-31 22:34:43.409 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 22:34:43.443 +05:00 [INF] Hosting environment: Development
2024-03-31 22:34:43.467 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 22:34:43.467 +05:00 [DBG] Hosting started
2024-03-31 22:34:43.469 +05:00 [DBG] Connection id "0HN2HL3D0CKHG" accepted.
2024-03-31 22:34:43.470 +05:00 [DBG] Connection id "0HN2HL3D0CKHG" started.
2024-03-31 22:34:43.486 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:34:43.842 +05:00 [DBG] Connection id "0HN2HL3D0CKHH" accepted.
2024-03-31 22:34:43.900 +05:00 [DBG] Connection id "0HN2HL3D0CKHH" started.
2024-03-31 22:34:43.906 +05:00 [DBG] Connection id "0HN2HL3D0CKHG" stopped.
2024-03-31 22:34:43.928 +05:00 [DBG] Connection id "0HN2HL3D0CKHG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:34:44.018 +05:00 [DBG] Connection 0HN2HL3D0CKHH established using the following protocol: "Tls12"
2024-03-31 22:34:44.184 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 22:34:44.244 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 22:34:44.305 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 22:34:44.306 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:34:44.606 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 22:34:45.112 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 22:34:45.120 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 938.1971ms
2024-03-31 22:34:45.152 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 22:34:45.152 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 22:34:45.203 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 50.6476ms
2024-03-31 22:34:45.539 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 386.3189ms
2024-03-31 22:34:50.585 +05:00 [DBG] Connection id "0HN2HL3D0CKHI" accepted.
2024-03-31 22:34:50.586 +05:00 [DBG] Connection id "0HN2HL3D0CKHJ" accepted.
2024-03-31 22:34:50.586 +05:00 [DBG] Connection id "0HN2HL3D0CKHJ" started.
2024-03-31 22:34:50.634 +05:00 [DBG] Connection 0HN2HL3D0CKHJ established using the following protocol: "Tls12"
2024-03-31 22:34:50.585 +05:00 [DBG] Connection id "0HN2HL3D0CKHI" started.
2024-03-31 22:34:50.634 +05:00 [DBG] Connection id "0HN2HL3D0CKHI" received FIN.
2024-03-31 22:34:50.674 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:34:50.675 +05:00 [DBG] Connection id "0HN2HL3D0CKHI" stopped.
2024-03-31 22:34:50.675 +05:00 [DBG] Connection id "0HN2HL3D0CKHI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:34:50.685 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------498309483935645145084988 343
2024-03-31 22:34:50.692 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:34:50.700 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:34:50.701 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:34:50.703 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:34:51.362 +05:00 [DBG] Successfully validated the token.
2024-03-31 22:34:51.366 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:34:51.373 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:34:51.377 +05:00 [DBG] Authorization was successful.
2024-03-31 22:34:51.380 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:34:51.440 +05:00 [INF] Route matched with {action = "AddMusicToPlaylist", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMusicToPlaylist(System.String, System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:34:51.441 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:34:51.441 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:34:51.442 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:34:51.442 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:34:51.442 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:34:51.444 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:34:51.912 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-31 22:34:51.951 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:34:51.993 +05:00 [DBG] Connection id "0HN2HL3D0CKHJ", Request id "0HN2HL3D0CKHJ:00000001": started reading request body.
2024-03-31 22:34:51.995 +05:00 [DBG] Connection id "0HN2HL3D0CKHJ", Request id "0HN2HL3D0CKHJ:00000001": done reading request body.
2024-03-31 22:34:52.018 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' ...
2024-03-31 22:34:52.025 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' using the name 'musicId' in request data ...
2024-03-31 22:34:52.026 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:34:52.028 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:34:52.029 +05:00 [DBG] Attempting to validate the bound parameter 'musicId' of type 'System.String' ...
2024-03-31 22:34:52.045 +05:00 [DBG] Done attempting to validate the bound parameter 'musicId' of type 'System.String'.
2024-03-31 22:34:52.048 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:34:52.048 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' using the name 'playlistId' in request data ...
2024-03-31 22:34:52.048 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:34:52.048 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:34:52.049 +05:00 [DBG] Attempting to validate the bound parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:34:52.049 +05:00 [DBG] Done attempting to validate the bound parameter 'playlistId' of type 'System.String'.
2024-03-31 22:36:16.853 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-03-31 22:36:16.926 +05:00 [DBG] Hosting starting
2024-03-31 22:36:16.942 +05:00 [INF] User profile is available. Using 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-31 22:36:16.949 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-66a8b227-4355-4367-9fcf-c262f43237e7.xml'.
2024-03-31 22:36:16.955 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-77b49523-f6da-4110-a97c-9240ec47634e.xml'.
2024-03-31 22:36:16.955 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-8d229ebb-d6d0-4355-bfec-6d56215dc832.xml'.
2024-03-31 22:36:16.956 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-b5eb2a49-7364-409e-9761-b5105a899dd5.xml'.
2024-03-31 22:36:16.956 +05:00 [DBG] Reading data from file 'C:\Users\efrem\AppData\Local\ASP.NET\DataProtection-Keys\key-f7573e6e-3d38-4d62-8956-b1915d29f7ba.xml'.
2024-03-31 22:36:16.960 +05:00 [DBG] Found key {66a8b227-4355-4367-9fcf-c262f43237e7}.
2024-03-31 22:36:16.963 +05:00 [DBG] Found key {77b49523-f6da-4110-a97c-9240ec47634e}.
2024-03-31 22:36:16.964 +05:00 [DBG] Found key {8d229ebb-d6d0-4355-bfec-6d56215dc832}.
2024-03-31 22:36:16.964 +05:00 [DBG] Found key {b5eb2a49-7364-409e-9761-b5105a899dd5}.
2024-03-31 22:36:16.964 +05:00 [DBG] Found key {f7573e6e-3d38-4d62-8956-b1915d29f7ba}.
2024-03-31 22:36:16.973 +05:00 [DBG] Considering key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} with expiration date 2024-04-18 18:55:01Z as default key.
2024-03-31 22:36:16.975 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:36:16.983 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-03-31 22:36:16.984 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=7.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-31 22:36:16.991 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-03-31 22:36:16.992 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-03-31 22:36:16.994 +05:00 [DBG] Using key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} as the default key.
2024-03-31 22:36:16.998 +05:00 [DBG] Key ring with default key {f7573e6e-3d38-4d62-8956-b1915d29f7ba} was loaded during application startup.
2024-03-31 22:36:17.300 +05:00 [INF] Now listening on: https://localhost:7094
2024-03-31 22:36:17.301 +05:00 [INF] Now listening on: http://localhost:5055
2024-03-31 22:36:17.301 +05:00 [DBG] Loaded hosting startup assembly BerryMusicV1
2024-03-31 22:36:17.301 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-31 22:36:17.301 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-31 22:36:17.303 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-03-31 22:36:17.305 +05:00 [INF] Hosting environment: Development
2024-03-31 22:36:17.306 +05:00 [INF] Content root path: C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1
2024-03-31 22:36:17.306 +05:00 [DBG] Hosting started
2024-03-31 22:36:17.360 +05:00 [DBG] Connection id "0HN2HL490FM0S" accepted.
2024-03-31 22:36:17.360 +05:00 [DBG] Connection id "0HN2HL490FM0S" started.
2024-03-31 22:36:17.383 +05:00 [DBG] Connection id "0HN2HL490FM0T" received FIN.
2024-03-31 22:36:17.385 +05:00 [DBG] Connection id "0HN2HL490FM0S" received FIN.
2024-03-31 22:36:17.385 +05:00 [DBG] Connection id "0HN2HL490FM0T" accepted.
2024-03-31 22:36:17.386 +05:00 [DBG] Connection id "0HN2HL490FM0U" accepted.
2024-03-31 22:36:17.387 +05:00 [DBG] Connection id "0HN2HL490FM0T" started.
2024-03-31 22:36:17.392 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:36:17.392 +05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-03-31 22:36:17.412 +05:00 [DBG] Connection id "0HN2HL490FM0S" stopped.
2024-03-31 22:36:17.412 +05:00 [DBG] Connection id "0HN2HL490FM0T" stopped.
2024-03-31 22:36:17.416 +05:00 [DBG] Connection id "0HN2HL490FM0T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:36:17.416 +05:00 [DBG] Connection id "0HN2HL490FM0S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-03-31 22:36:17.416 +05:00 [DBG] Connection id "0HN2HL490FM0U" started.
2024-03-31 22:36:17.474 +05:00 [DBG] Connection 0HN2HL490FM0U established using the following protocol: "Tls12"
2024-03-31 22:36:17.543 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------245816044027628774033670 343
2024-03-31 22:36:17.569 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-03-31 22:36:17.683 +05:00 [DBG] Connection id "0HN2HL490FM0V" accepted.
2024-03-31 22:36:17.689 +05:00 [DBG] Connection id "0HN2HL490FM0V" started.
2024-03-31 22:36:17.699 +05:00 [DBG] Connection 0HN2HL490FM0V established using the following protocol: "Tls12"
2024-03-31 22:36:17.743 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:36:17.818 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:36:17.819 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:36:17.844 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/index.html - -
2024-03-31 22:36:17.869 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-03-31 22:36:17.869 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:36:17.909 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:36:18.164 +05:00 [DBG] Successfully validated the token.
2024-03-31 22:36:18.165 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:36:18.169 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:36:18.178 +05:00 [DBG] Authorization was successful.
2024-03-31 22:36:18.180 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:36:18.208 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-03-31 22:36:18.242 +05:00 [INF] Route matched with {action = "AddMusicToPlaylist", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMusicToPlaylist(System.String, System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:36:18.243 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:36:18.244 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:36:18.244 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:36:18.244 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:36:18.244 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:36:18.245 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:36:18.469 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-03-31 22:36:18.474 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/index.html - - - 200 - text/html;charset=utf-8 629.2959ms
2024-03-31 22:36:18.541 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_vs/browserLink - -
2024-03-31 22:36:18.548 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - -
2024-03-31 22:36:18.552 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-31 22:36:18.559 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 11.2415ms
2024-03-31 22:36:18.611 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:36:18.619 +05:00 [DBG] Connection id "0HN2HL490FM0U", Request id "0HN2HL490FM0U:00000001": started reading request body.
2024-03-31 22:36:18.620 +05:00 [DBG] Connection id "0HN2HL490FM0U", Request id "0HN2HL490FM0U:00000001": done reading request body.
2024-03-31 22:36:18.639 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' ...
2024-03-31 22:36:18.642 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' using the name 'musicId' in request data ...
2024-03-31 22:36:18.643 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:36:18.643 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:36:18.643 +05:00 [DBG] Attempting to validate the bound parameter 'musicId' of type 'System.String' ...
2024-03-31 22:36:18.684 +05:00 [DBG] Done attempting to validate the bound parameter 'musicId' of type 'System.String'.
2024-03-31 22:36:18.691 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:36:18.692 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' using the name 'playlistId' in request data ...
2024-03-31 22:36:18.692 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:36:18.692 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:36:18.692 +05:00 [DBG] Attempting to validate the bound parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:36:18.692 +05:00 [DBG] Done attempting to validate the bound parameter 'playlistId' of type 'System.String'.
2024-03-31 22:36:18.723 +05:00 [WRN] 5edb76a8-efbb-4a20-b285-c924255be10a
2024-03-31 22:36:18.734 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 192.6689ms
2024-03-31 22:36:18.901 +05:00 [INF] Request starting HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - -
2024-03-31 22:36:18.901 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-03-31 22:36:18.901 +05:00 [DBG] Request did not match any endpoints
2024-03-31 22:36:19.110 +05:00 [INF] Request finished HTTP/2 GET https://localhost:7094/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 209.0370ms
2024-03-31 22:36:19.611 +05:00 [DBG] The index {'IdUser'} was not created on entity type 'Playlist' as the properties are already covered by the index {'IdUser', 'IdStatus'}.
2024-03-31 22:36:19.612 +05:00 [DBG] The index {'IdPlaylist'} was not created on entity type 'PlaylistMusicFile' as the properties are already covered by the index {'IdPlaylist', 'IdMusicFile'}.
2024-03-31 22:36:19.970 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:36:20.060 +05:00 [DBG] Compiling query expression: 
'DbSet<Playlist>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-31 22:36:20.286 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Playlist>(
    asyncEnumerable: new SingleQueryingEnumerable<Playlist>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Playlist.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Playlist.IdStatus (int) Required FK Index, 1], [Property: Playlist.IdUser (string) Required FK Index MaxLength(250), 2], [Property: Playlist.Name (string) Required MaxLength(250), 3] }
            SELECT TOP(1) p.ID, p.id_Status, p.id_User, p.Name
            FROM Playlist AS p
            WHERE p.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Playlist>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:36:20.345 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:36:20.348 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:36:20.360 +05:00 [DBG] Created DbConnection. (6ms).
2024-03-31 22:36:20.370 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (22ms).
2024-03-31 22:36:20.377 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2024-03-31 22:36:20.384 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:20.735 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:20.749 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:36:20.773 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:36:20.819 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:36:20.870 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:20.878 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 96ms reading results.
2024-03-31 22:36:20.883 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:20.892 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (5ms).
2024-03-31 22:36:20.901 +05:00 [DBG] Compiling query expression: 
'DbSet<MusicFile>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-31 22:36:20.911 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<MusicFile>(
    asyncEnumerable: new SingleQueryingEnumerable<MusicFile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: MusicFile.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: MusicFile.Album (string) Required MaxLength(250), 1], [Property: MusicFile.Artist (string) Required MaxLength(250), 2], [Property: MusicFile.CountLike (int) Required, 3], [Property: MusicFile.IsUpload (bool) Required, 4], [Property: MusicFile.Title (string) Required MaxLength(250), 5], [Property: MusicFile.Year (string) Required MaxLength(250), 6] }
            SELECT TOP(1) m.ID, m.Album, m.Artist, m.CountLike, m.isUpload, m.Title, m.Year
            FROM MusicFile AS m
            WHERE m.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, MusicFile>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:36:20.914 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:36:20.915 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:36:20.915 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:36:20.915 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:20.933 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:20.934 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`ID`, `m`.`Album`, `m`.`Artist`, `m`.`CountLike`, `m`.`isUpload`, `m`.`Title`, `m`.`Year`
FROM `MusicFile` AS `m`
WHERE `m`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:36:20.935 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `m`.`ID`, `m`.`Album`, `m`.`Artist`, `m`.`CountLike`, `m`.`isUpload`, `m`.`Title`, `m`.`Year`
FROM `MusicFile` AS `m`
WHERE `m`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:36:20.949 +05:00 [DBG] Context 'BMContext' started tracking 'MusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:36:20.982 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:20.982 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 46ms reading results.
2024-03-31 22:36:20.982 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:20.983 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:36:21.042 +05:00 [DBG] 'BMContext' generated a temporary value for the property 'Id.PlaylistMusicFile'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:36:21.083 +05:00 [DBG] The navigation 'PlaylistMusicFile.IdMusicFileNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:36:21.101 +05:00 [DBG] The navigation 'PlaylistMusicFile.IdPlaylistNavigation' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:36:21.108 +05:00 [DBG] Context 'BMContext' started tracking 'PlaylistMusicFile' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:36:21.115 +05:00 [DBG] SaveChanges starting for 'BMContext'.
2024-03-31 22:36:21.117 +05:00 [DBG] DetectChanges starting for 'BMContext'.
2024-03-31 22:36:21.142 +05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Playlist.PlaylistMusicFiles'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:36:21.154 +05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'MusicFile.PlaylistMusicFiles'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:36:21.158 +05:00 [DBG] DetectChanges completed for 'BMContext'.
2024-03-31 22:36:21.276 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:21.277 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:21.281 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-03-31 22:36:21.290 +05:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-03-31 22:36:21.294 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:36:21.295 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:36:21.295 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:36:21.295 +05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Playlist_MusicFile` (`id_MusicFile`, `id_Playlist`)
VALUES (@p0, @p1);
SELECT `ID`
FROM `Playlist_MusicFile`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();
2024-03-31 22:36:21.300 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Playlist_MusicFile` (`id_MusicFile`, `id_Playlist`)
VALUES (@p0, @p1);
SELECT `ID`
FROM `Playlist_MusicFile`
WHERE ROW_COUNT() = 1 AND `ID` = LAST_INSERT_ID();
2024-03-31 22:36:21.312 +05:00 [DBG] The foreign key property 'PlaylistMusicFile.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-03-31 22:36:21.316 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:21.316 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 16ms reading results.
2024-03-31 22:36:21.319 +05:00 [DBG] Committing transaction.
2024-03-31 22:36:21.373 +05:00 [DBG] Committed transaction.
2024-03-31 22:36:21.376 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:21.376 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:36:21.378 +05:00 [DBG] Disposing transaction.
2024-03-31 22:36:21.394 +05:00 [DBG] An entity of type 'PlaylistMusicFile' tracked by 'BMContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:36:21.395 +05:00 [DBG] SaveChanges completed for 'BMContext' with 1 entities written to the database.
2024-03-31 22:36:21.402 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:36:21.404 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:36:21.405 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:36:21.405 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:36:21.407 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 22:36:21.407 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 22:36:21.432 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1) in 3175.9402ms
2024-03-31 22:36:21.433 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:36:21.434 +05:00 [DBG] Connection id "0HN2HL490FM0U" completed keep alive response.
2024-03-31 22:36:21.439 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:36:21.445 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:21.450 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (3ms).
2024-03-31 22:36:21.451 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------245816044027628774033670 343 - 200 - application/json;+charset=utf-8 3912.2399ms
2024-03-31 22:36:50.396 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/token?code=EiqvValy%20%09Eic2C6gh8pM%2B7ULhZpKJBVYmzT9Q4lXRkZyUNECNpHM%3D - 0
2024-03-31 22:36:50.401 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/token'
2024-03-31 22:36:50.401 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/token' is valid for the request path '/auth/token'
2024-03-31 22:36:50.402 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:36:50.403 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 22:36:50.403 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:36:50.416 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:36:50.419 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:36:50.420 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:36:50.436 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:36:50.436 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:36:50.436 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:36:50.436 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:36:50.436 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:36:50.436 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:36:50.436 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:36:50.441 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:36:50.442 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-31 22:36:50.443 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-31 22:36:50.443 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:36:50.443 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:36:50.443 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-31 22:36:50.444 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-31 22:36:50.566 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:36:50.568 +05:00 [DBG] Compiling query expression: 
'DbSet<Token>()
    .FirstOrDefault(x => x.Token1 == __refreshToken_0)'
2024-03-31 22:36:50.581 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Token>(
    asyncEnumerable: new SingleQueryingEnumerable<Token>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Token.IdDevice (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: Token.IdUser (string) Required MaxLength(250), 1], [Property: Token.Token1 (string) Required MaxLength(1000), 2] }
            SELECT TOP(1) t.id_Device, t.id_User, t.Token
            FROM Token AS t
            WHERE t.Token == @__refreshToken_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Token>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:36:50.583 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:36:50.583 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:36:50.584 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 22:36:50.584 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-31 22:36:50.584 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-03-31 22:36:50.584 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:50.586 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:50.586 +05:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:36:50.587 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:36:50.591 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:50.592 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 1ms reading results.
2024-03-31 22:36:50.592 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:50.592 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:36:50.674 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 237.7781ms
2024-03-31 22:36:50.674 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:36:50.772 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.AuthorizeService.GetJWT(String refreshToken) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\AuthorizeService.cs:line 118
   at BerryMusicV1.Controllers.AuthorizeController.GetJwtToken(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\AuthorizeController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-31 22:36:50.790 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:36:50.790 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:36:50.792 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:36:50.792 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/token?code=EiqvValy%20%09Eic2C6gh8pM%2B7ULhZpKJBVYmzT9Q4lXRkZyUNECNpHM%3D - 0 - 500 - text/plain;+charset=utf-8 395.9084ms
2024-03-31 22:36:56.992 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/token - 0
2024-03-31 22:36:56.993 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/token'
2024-03-31 22:36:56.993 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/token' is valid for the request path '/auth/token'
2024-03-31 22:36:56.993 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:36:56.994 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 22:36:56.994 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:36:56.995 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:36:56.998 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:36:56.998 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:36:56.999 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:36:56.999 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:36:56.999 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:36:56.999 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:36:56.999 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:36:56.999 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:36:56.999 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:36:57.002 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:36:57.002 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-31 22:36:57.003 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name '' in request data ...
2024-03-31 22:36:57.003 +05:00 [DBG] Could not find a value in the request with name '' for binding parameter 'code' of type 'System.String'.
2024-03-31 22:36:57.004 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:36:57.004 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:36:57.004 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-31 22:36:57.006 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-31 22:36:57.007 +05:00 [DBG] The request has model state errors, returning an error response.
2024-03-31 22:36:57.010 +05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-31 22:36:57.010 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:36:57.010 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:36:57.011 +05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-03-31 22:36:57.012 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-31 22:36:57.012 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-31 22:36:57.025 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 26.2278ms
2024-03-31 22:36:57.025 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:36:57.025 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/token - 0 - 400 - application/problem+json;+charset=utf-8 33.2189ms
2024-03-31 22:36:59.967 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/token?code=%20%09Eic2C6gh8pM%2B7ULhZpKJBVYmzT9Q4lXRkZyUNECNpHM%3D - 0
2024-03-31 22:36:59.967 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/token'
2024-03-31 22:36:59.967 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/token' is valid for the request path '/auth/token'
2024-03-31 22:36:59.967 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:36:59.968 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 22:36:59.968 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:36:59.968 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:36:59.968 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:36:59.968 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:36:59.968 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:36:59.969 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:36:59.969 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:36:59.969 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:36:59.969 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:36:59.969 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:36:59.969 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:36:59.969 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:36:59.970 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-31 22:36:59.970 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-31 22:36:59.970 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:36:59.970 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:36:59.970 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-31 22:36:59.970 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-31 22:36:59.986 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:36:59.993 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:36:59.993 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:36:59.994 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 22:36:59.994 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:36:59.994 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:36:59.994 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:00.000 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:00.000 +05:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:37:00.001 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:37:00.001 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:00.001 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 22:37:00.001 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:00.001 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:37:00.002 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 32.9001ms
2024-03-31 22:37:00.002 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:37:00.004 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at BerryMusicV1.Containers.AuthorizeService.GetJWT(String refreshToken) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Containers\AuthorizeService.cs:line 118
   at BerryMusicV1.Controllers.AuthorizeController.GetJwtToken(String code) in C:\Users\efrem\OneDrive\Рабочий стол\BerryMusic\BerryMusicV1\Controllers\AuthorizeController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-03-31 22:37:00.007 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:37:00.007 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:00.007 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:37:00.007 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/token?code=%20%09Eic2C6gh8pM%2B7ULhZpKJBVYmzT9Q4lXRkZyUNECNpHM%3D - 0 - 500 - text/plain;+charset=utf-8 39.9918ms
2024-03-31 22:37:13.335 +05:00 [INF] Request starting HTTP/2 POST https://localhost:7094/auth/token?code=Eic2C6gh8pM%2B7ULhZpKJBVYmzT9Q4lXRkZyUNECNpHM%3D - 0
2024-03-31 22:37:13.335 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/token'
2024-03-31 22:37:13.335 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)' with route pattern 'auth/token' is valid for the request path '/auth/token'
2024-03-31 22:37:13.335 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:37:13.335 +05:00 [INF] No CORS policy found for the specified request.
2024-03-31 22:37:13.335 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:37:13.335 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:37:13.335 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-03-31 22:37:13.335 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:37:13.335 +05:00 [INF] Route matched with {action = "GetJwtToken", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwtToken(System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:37:13.336 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:37:13.336 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:37:13.336 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:37:13.336 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:37:13.336 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:37:13.336 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:37:13.336 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:37:13.337 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2024-03-31 22:37:13.337 +05:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2024-03-31 22:37:13.337 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:37:13.337 +05:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2024-03-31 22:37:13.337 +05:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2024-03-31 22:37:13.338 +05:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2024-03-31 22:37:13.339 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:37:13.340 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:37:13.340 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:37:13.340 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 22:37:13.340 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-03-31 22:37:13.340 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-03-31 22:37:13.341 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:13.341 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:13.342 +05:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:37:13.343 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 1000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`id_Device`, `t`.`id_User`, `t`.`Token`
FROM `Token` AS `t`
WHERE `t`.`Token` = @__refreshToken_0
LIMIT 1
2024-03-31 22:37:13.347 +05:00 [DBG] Context 'BMContext' started tracking 'Token' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:37:13.358 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:13.358 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 15ms reading results.
2024-03-31 22:37:13.358 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:13.358 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:37:13.360 +05:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2024-03-31 22:37:13.368 +05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(250), 0], [Property: User.Email (string) Required MaxLength(250), 1], [Property: User.IdRole (int) Required FK Index, 2], [Property: User.IsBanned (bool) Required, 3], [Property: User.IsPremium (bool) Required, 4], [Property: User.Login (string) Required MaxLength(250), 5], [Property: User.Password (string) Required MaxLength(250), 6] }
            SELECT TOP(1) u.ID, u.Email, u.id_Role, u.IsBanned, u.IsPremium, u.Login, u.Password
            FROM User AS u
            WHERE u.ID == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        BerryMusicV1.Repos.BMContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-31 22:37:13.370 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:37:13.370 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:37:13.370 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:37:13.371 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:13.372 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:13.372 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE `u`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:37:13.373 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`ID`, `u`.`Email`, `u`.`id_Role`, `u`.`IsBanned`, `u`.`IsPremium`, `u`.`Login`, `u`.`Password`
FROM `User` AS `u`
WHERE `u`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:37:13.376 +05:00 [DBG] Context 'BMContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:37:13.393 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:13.394 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 20ms reading results.
2024-03-31 22:37:13.394 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:13.394 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:37:13.408 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:37:13.408 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:37:13.408 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:37:13.408 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:37:13.408 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-31 22:37:13.408 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-03-31 22:37:13.408 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1) in 72.1418ms
2024-03-31 22:37:13.408 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.GetJwtToken (BerryMusicV1)'
2024-03-31 22:37:13.408 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:37:13.409 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:13.409 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:37:13.409 +05:00 [INF] Request finished HTTP/2 POST https://localhost:7094/auth/token?code=Eic2C6gh8pM%2B7ULhZpKJBVYmzT9Q4lXRkZyUNECNpHM%3D - 0 - 200 - text/plain;+charset=utf-8 74.1243ms
2024-03-31 22:37:24.932 +05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------493107825499076514015790 343
2024-03-31 22:37:24.932 +05:00 [DBG] 1 candidate(s) found for the request path '/auth/add'
2024-03-31 22:37:24.932 +05:00 [DBG] Endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)' with route pattern 'auth/add' is valid for the request path '/auth/add'
2024-03-31 22:37:24.932 +05:00 [DBG] Request matched endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:37:24.932 +05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-03-31 22:37:24.933 +05:00 [DBG] Successfully validated the token.
2024-03-31 22:37:24.933 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:37:24.934 +05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-03-31 22:37:24.934 +05:00 [DBG] Authorization was successful.
2024-03-31 22:37:24.935 +05:00 [INF] Executing endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:37:24.935 +05:00 [INF] Route matched with {action = "AddMusicToPlaylist", controller = "Authorize"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddMusicToPlaylist(System.String, System.String) on controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1).
2024-03-31 22:37:24.935 +05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-03-31 22:37:24.935 +05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-03-31 22:37:24.935 +05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-03-31 22:37:24.935 +05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-03-31 22:37:24.936 +05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-03-31 22:37:24.936 +05:00 [DBG] Executing controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:37:24.936 +05:00 [DBG] Executed controller factory for controller BerryMusicV1.Controllers.AuthorizeController (BerryMusicV1)
2024-03-31 22:37:24.936 +05:00 [DBG] Connection id "0HN2HL490FM0U", Request id "0HN2HL490FM0U:00000002": started reading request body.
2024-03-31 22:37:24.937 +05:00 [DBG] Connection id "0HN2HL490FM0U", Request id "0HN2HL490FM0U:00000002": done reading request body.
2024-03-31 22:37:24.939 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' ...
2024-03-31 22:37:24.940 +05:00 [DBG] Attempting to bind parameter 'musicId' of type 'System.String' using the name 'musicId' in request data ...
2024-03-31 22:37:24.940 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:37:24.940 +05:00 [DBG] Done attempting to bind parameter 'musicId' of type 'System.String'.
2024-03-31 22:37:24.940 +05:00 [DBG] Attempting to validate the bound parameter 'musicId' of type 'System.String' ...
2024-03-31 22:37:24.941 +05:00 [DBG] Done attempting to validate the bound parameter 'musicId' of type 'System.String'.
2024-03-31 22:37:24.941 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:37:24.941 +05:00 [DBG] Attempting to bind parameter 'playlistId' of type 'System.String' using the name 'playlistId' in request data ...
2024-03-31 22:37:24.941 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:37:24.941 +05:00 [DBG] Done attempting to bind parameter 'playlistId' of type 'System.String'.
2024-03-31 22:37:24.941 +05:00 [DBG] Attempting to validate the bound parameter 'playlistId' of type 'System.String' ...
2024-03-31 22:37:24.941 +05:00 [DBG] Done attempting to validate the bound parameter 'playlistId' of type 'System.String'.
2024-03-31 22:37:24.941 +05:00 [WRN] afc5146a-ede5-11ee-98c7-7a79190edc8a
2024-03-31 22:37:24.943 +05:00 [DBG] Entity Framework Core 7.0.16 initialized 'BMContext' using provider 'MySql.EntityFrameworkCore:1.0.0' with options: None
2024-03-31 22:37:24.944 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-03-31 22:37:24.944 +05:00 [DBG] Creating DbConnection.
2024-03-31 22:37:24.944 +05:00 [DBG] Created DbConnection. (0ms).
2024-03-31 22:37:24.944 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:37:24.944 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-03-31 22:37:24.944 +05:00 [DBG] Opening connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:24.945 +05:00 [DBG] Opened connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:24.945 +05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:37:24.947 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`ID`, `p`.`id_Status`, `p`.`id_User`, `p`.`Name`
FROM `Playlist` AS `p`
WHERE `p`.`ID` = @__p_0
LIMIT 1
2024-03-31 22:37:24.948 +05:00 [DBG] Context 'BMContext' started tracking 'Playlist' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-03-31 22:37:24.948 +05:00 [DBG] Closing data reader to 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:24.948 +05:00 [DBG] A data reader for 'BerryMusic' on server 'localhost' is being disposed after spending 0ms reading results.
2024-03-31 22:37:24.948 +05:00 [DBG] Closing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:24.948 +05:00 [DBG] Closed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:37:24.948 +05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-03-31 22:37:24.948 +05:00 [DBG] No information found on request to perform content negotiation.
2024-03-31 22:37:24.948 +05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-31 22:37:24.949 +05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-31 22:37:24.949 +05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-31 22:37:24.949 +05:00 [INF] Executing OkObjectResult, writing value of type 'BerryMusicV1.Modals.APIResponse'.
2024-03-31 22:37:24.949 +05:00 [INF] Executed action BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1) in 13.5655ms
2024-03-31 22:37:24.949 +05:00 [INF] Executed endpoint 'BerryMusicV1.Controllers.AuthorizeController.AddMusicToPlaylist (BerryMusicV1)'
2024-03-31 22:37:24.950 +05:00 [DBG] Connection id "0HN2HL490FM0U" completed keep alive response.
2024-03-31 22:37:24.950 +05:00 [DBG] 'BMContext' disposed.
2024-03-31 22:37:24.950 +05:00 [DBG] Disposing connection to database 'BerryMusic' on server 'localhost'.
2024-03-31 22:37:24.950 +05:00 [DBG] Disposed connection to database 'BerryMusic' on server 'localhost' (0ms).
2024-03-31 22:37:24.950 +05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7094/auth/add?playlistId=5a7ea936-a525-4993-b0e1-631ed18d5280&musicId=46996f80-58ca-4f08-9c4a-51feefe3e8c8 multipart/form-data;+boundary=--------------------------493107825499076514015790 343 - 200 - application/json;+charset=utf-8 18.2534ms
2024-03-31 22:37:48.940 +05:00 [DBG] Connection id "0HN2HL490FM0U" received FIN.
2024-03-31 22:37:48.941 +05:00 [DBG] Connection id "0HN2HL490FM0U" disconnecting.
2024-03-31 22:37:48.942 +05:00 [DBG] Connection id "0HN2HL490FM0U" stopped.
2024-03-31 22:37:48.942 +05:00 [DBG] Connection id "0HN2HL490FM0U" sending FIN because: "The Socket transport's send loop completed gracefully."
